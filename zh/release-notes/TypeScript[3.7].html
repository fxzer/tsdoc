<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>TypeScript 3.7 | TSDoc</title>
    <meta name="description" content="Front-end learning document collection.">
    <link rel="preload stylesheet" href="/tsdoc-vitepress/assets/style.fac91f91.css" as="style">
    <script type="module" src="/tsdoc-vitepress/assets/app.c26a3500.js"></script>
    <link rel="preload" href="/tsdoc-vitepress/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/tsdoc-vitepress/assets/chunks/framework.ced88878.js">
  <link rel="modulepreload" href="/tsdoc-vitepress/assets/chunks/theme.02ab71af.js">
  <link rel="modulepreload" href="/tsdoc-vitepress/assets/zh_release-notes_TypeScript_3.7_.md.a30f9a61.lean.js">
  <link rel="icon" type="image/svg+xml" href="/tsdoc-vitepress/logo.svg">
  <link rel="icon" href="/tsdoc-vitepress/favicon.ico">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"dark",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-14413106><!--[--><!--]--><!--[--><span tabindex="-1" data-v-a89c7b1e></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-a89c7b1e> Skip to content </a><!--]--><!----><header class="VPNav" data-v-14413106 data-v-4ac0630e><div class="VPNavBar has-sidebar" data-v-4ac0630e data-v-01cb7ba7><div class="container" data-v-01cb7ba7><div class="title" data-v-01cb7ba7><div class="VPNavBarTitle has-sidebar" data-v-01cb7ba7 data-v-d94d7039><a class="title" href="/tsdoc-vitepress/zh/" data-v-d94d7039><!--[--><!--]--><!--[--><img class="VPImage logo" src="/tsdoc-vitepress/logo.svg" alt data-v-57445ef1><!--]--><!--[-->TSDoc<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-01cb7ba7><div class="curtain" data-v-01cb7ba7></div><div class="content-body" data-v-01cb7ba7><!--[--><!--]--><div class="VPNavBarSearch search" data-v-01cb7ba7><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><span class="DocSearch-Button-Key">Meta</span><span class="DocSearch-Button-Key">K</span></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-01cb7ba7 data-v-24f713a6><span id="main-nav-aria-label" class="visually-hidden" data-v-24f713a6>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/tsdoc-vitepress/zh/tutorials/ASP.NET%20Core" tabindex="0" data-v-24f713a6 data-v-52173b4d data-v-5256d347><!--[-->辅助教程<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/tsdoc-vitepress/zh/handbooks/handbook-v2/Basics" tabindex="0" data-v-24f713a6 data-v-52173b4d data-v-5256d347><!--[-->手册指南<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/tsdoc-vitepress/zh/declaration-files/By%20Example" tabindex="0" data-v-24f713a6 data-v-52173b4d data-v-5256d347><!--[-->声明文件<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/tsdoc-vitepress/zh/reference/Advanced%20Types" tabindex="0" data-v-24f713a6 data-v-52173b4d data-v-5256d347><!--[-->参考文献<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/tsdoc-vitepress/zh/tsconfig-reference/options/typeAcquisition/include" tabindex="0" data-v-24f713a6 data-v-52173b4d data-v-5256d347><!--[-->项目配置<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/tsdoc-vitepress/zh/release-notes/TypeScript[5.0]" tabindex="0" data-v-24f713a6 data-v-52173b4d data-v-5256d347><!--[-->发布版本<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-24f713a6 data-v-a31173d1><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-a31173d1><span class="text" data-v-a31173d1><!----> 在线练习 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-a31173d1><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-a31173d1><div class="VPMenu" data-v-a31173d1 data-v-2d97822f><div class="items" data-v-2d97822f><!--[--><!--[--><div class="VPMenuLink" data-v-2d97822f data-v-53c50599><a class="VPLink link" href="https://www.typescriptlang.org/play" target="_blank" rel="noreferrer" data-v-53c50599 data-v-5256d347><!--[-->TS Official<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-5256d347><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-2d97822f data-v-53c50599><a class="VPLink link" href="https://stackblitz.com/edit/typescript-d6x1ga?file=index.ts" target="_blank" rel="noreferrer" data-v-53c50599 data-v-5256d347><!--[-->StackBlitz<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-5256d347><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-2d97822f data-v-53c50599><a class="VPLink link" href="https://typescript-eslint.io/play/" target="_blank" rel="noreferrer" data-v-53c50599 data-v-5256d347><!--[-->TS Lint<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-5256d347><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-2d97822f data-v-53c50599><a class="VPLink link" href="https://www.sololearn.com/compiler-playground/typescript" target="_blank" rel="noreferrer" data-v-53c50599 data-v-5256d347><!--[-->SoloLearn<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-5256d347><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-01cb7ba7 data-v-cefe7158 data-v-a31173d1><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-a31173d1><span class="text" data-v-a31173d1><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="option-icon" data-v-a31173d1><path d="M0 0h24v24H0z" fill="none"></path><path d=" M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z " class="css-c4d79v"></path></svg>  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-a31173d1><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-a31173d1><div class="VPMenu" data-v-a31173d1 data-v-2d97822f><!----><!--[--><!--[--><div class="items" data-v-cefe7158><p class="title" data-v-cefe7158>简体中文</p><!--[--><div class="VPMenuLink" data-v-cefe7158 data-v-53c50599><a class="VPLink link" href="/tsdoc-vitepress/en/release-notes/TypeScript[3.7]" data-v-53c50599 data-v-5256d347><!--[-->English<!--]--><!----></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-01cb7ba7 data-v-2d90e8ec><label title="toggle dark mode" data-v-2d90e8ec data-v-00b2bfcb><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-00b2bfcb data-v-82e1ef36><span class="check" data-v-82e1ef36><span class="icon" data-v-82e1ef36><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-00b2bfcb><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-00b2bfcb><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-01cb7ba7 data-v-b1d50430 data-v-7b40f924><!--[--><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-01cb7ba7 data-v-0693c3d2 data-v-a31173d1><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-a31173d1><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-a31173d1><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-a31173d1><div class="VPMenu" data-v-a31173d1 data-v-2d97822f><!----><!--[--><!--[--><div class="group translations" data-v-0693c3d2><p class="trans-title" data-v-0693c3d2>简体中文</p><!--[--><div class="VPMenuLink" data-v-0693c3d2 data-v-53c50599><a class="VPLink link" href="/tsdoc-vitepress/en/release-notes/TypeScript[3.7]" data-v-53c50599 data-v-5256d347><!--[-->English<!--]--><!----></a></div><!--]--></div><div class="group" data-v-0693c3d2><div class="item appearance" data-v-0693c3d2><p class="label" data-v-0693c3d2>主题切换</p><div class="appearance-action" data-v-0693c3d2><label title="toggle dark mode" data-v-0693c3d2 data-v-00b2bfcb><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-00b2bfcb data-v-82e1ef36><span class="check" data-v-82e1ef36><span class="icon" data-v-82e1ef36><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-00b2bfcb><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-00b2bfcb><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><div class="group" data-v-0693c3d2><div class="item social-links" data-v-0693c3d2><div class="VPSocialLinks social-links-list" data-v-0693c3d2 data-v-7b40f924><!--[--><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-01cb7ba7 data-v-a81ddede><span class="container" data-v-a81ddede><span class="top" data-v-a81ddede></span><span class="middle" data-v-a81ddede></span><span class="bottom" data-v-a81ddede></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-14413106 data-v-788825a8><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-788825a8><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-788825a8><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-788825a8>目录</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-788825a8 data-v-477e74d3><button data-v-477e74d3>返回顶部</button><!----></div></div><aside class="VPSidebar" data-v-14413106 data-v-02b00893><div class="curtain" data-v-02b00893></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-02b00893><span class="visually-hidden" id="sidebar-aria-label" data-v-02b00893> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-02b00893><section class="VPSidebarItem level-0 collapsible has-active" data-v-02b00893 data-v-3a73a362><div class="item" role="button" tabindex="0" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><h2 class="text" data-v-3a73a362>发布版本</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-3a73a362><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-3a73a362><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-3a73a362><!--[--><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[1.1]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[1.1]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[1.3]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[1.3]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[1.4]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[1.4]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[1.5]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[1.5]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[1.6]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[1.6]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[1.7]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[1.7]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[1.8]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[1.8]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[2.0]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[2.0]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[2.1]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[2.1]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[2.2]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[2.2]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[2.3]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[2.3]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[2.4]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[2.4]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[2.5]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[2.5]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[2.6]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[2.6]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[2.7]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[2.7]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[2.8]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[2.8]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[2.9]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[2.9]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[3.0]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[3.0]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[3.1]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[3.1]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[3.2]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[3.2]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[3.3]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[3.3]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[3.4]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[3.4]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[3.5]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[3.5]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[3.6]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[3.6]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[3.7]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[3.7]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[3.8]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[3.8]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[3.9]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[3.9]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[4.0]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[4.0]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[4.1]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[4.1]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[4.2]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[4.2]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[4.3]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[4.3]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[4.4]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[4.4]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[4.5]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[4.5]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[4.6]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[4.6]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[4.7]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[4.7]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[4.8]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[4.8]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[4.9]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[4.9]</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-3a73a362 data-v-3a73a362><div class="item" data-v-3a73a362><div class="indicator" data-v-3a73a362></div><a class="VPLink link link" href="/tsdoc-vitepress/zh/release-notes/TypeScript[5.0]" data-v-3a73a362 data-v-5256d347><!--[--><p class="text" data-v-3a73a362>TypeScript[5.0]</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-14413106 data-v-f78543f8><div class="VPDoc has-sidebar has-aside" data-v-f78543f8 data-v-a56e8ee2><!--[--><!--]--><div class="container" data-v-a56e8ee2><div class="aside" data-v-a56e8ee2><div class="aside-curtain" data-v-a56e8ee2></div><div class="aside-container" data-v-a56e8ee2><div class="aside-content" data-v-a56e8ee2><div class="VPDocAside" data-v-a56e8ee2 data-v-0db3a05a><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-0db3a05a data-v-fb01b329><div class="content" data-v-fb01b329><div class="outline-marker" data-v-fb01b329></div><div class="outline-title" data-v-fb01b329>本页内容</div><nav aria-labelledby="doc-outline-aria-label" data-v-fb01b329><span class="visually-hidden" id="doc-outline-aria-label" data-v-fb01b329> Table of Contents for current page </span><ul class="root" data-v-fb01b329 data-v-618b9865><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-0db3a05a></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-a56e8ee2><div class="content-container" data-v-a56e8ee2><!--[--><!--]--><!----><main class="main" data-v-a56e8ee2><div style="position:relative;" class="vp-doc _tsdoc-vitepress_zh_release-notes_TypeScript[3_7]" data-v-a56e8ee2><div><h1 id="typescript-3-7" tabindex="-1">TypeScript 3.7 <a class="header-anchor" href="#typescript-3-7" aria-label="Permalink to &quot;TypeScript 3.7&quot;">​</a></h1><h2 id="可选链-optional-chaining" tabindex="-1">可选链（Optional Chaining） <a class="header-anchor" href="#可选链-optional-chaining" aria-label="Permalink to &quot;可选链（Optional Chaining）&quot;">​</a></h2><p><a href="http://www.typescriptlang.org/play/#example/optional-chaining" target="_blank" rel="noreferrer">Playground</a></p><p>在我们的 issue 列表上，可选链是 <a href="https://github.com/microsoft/TypeScript/issues/16" target="_blank" rel="noreferrer">issue #16</a>。感受一下，从那之后 TypeScript 的 issue 列表中新增了 23,000 条 issues。</p><p>可选链的核心是，在我们编写代码中，当遇到 <code>null</code> 或 <code>undefined</code>，TypeScript 可以立即停止解析一部分表达式。 可选链的关键点是一个为 <em>可选属性访问</em> 提供的新的运算符 <code>?.</code>。 比如我们可以这样写代码：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> x </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> foo?.bar.</span><span style="color:#62E884;">baz</span><span style="color:#F6F6F4;">();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> x </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> foo?.bar.</span><span style="color:#6F42C1;">baz</span><span style="color:#24292E;">();</span></span></code></pre></div><p>意思是，当 <code>foo</code> 有定义时，执行 <code>foo.bar.baz()</code> 的计算；但是当 <code>foo</code> 是 <code>null</code> 或 <code>undefined</code> 时，停止后续的解析，直接返回 <code>undefined</code>。</p><p>更明确地说，上面的代码和下面的代码等价。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> x </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> (foo </span><span style="color:#F286C4;">===</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">||</span><span style="color:#F6F6F4;"> foo </span><span style="color:#F286C4;">===</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">undefined</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">?</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#BF9EEE;">undefined</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">    foo.bar.</span><span style="color:#62E884;">baz</span><span style="color:#F6F6F4;">();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> x </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (foo </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> foo </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">undefined</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">?</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">undefined</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span></span>
<span class="line"><span style="color:#24292E;">    foo.bar.</span><span style="color:#6F42C1;">baz</span><span style="color:#24292E;">();</span></span></code></pre></div><p>注意，当 <code>bar</code> 是 <code>null</code> 或 <code>undefined</code>，我们的代码访问 <code>baz</code> 依然会报错。 同理，当 <code>baz</code> 是 <code>null</code> 或 <code>undefined</code>，在调用时也会报错。 <code>?.</code> 只检查它 <em>左边</em> 的值是不是 <code>null</code> 或 <code>undefined</code>，不检查后续的属性。</p><p>你会发现自己可以使用 <code>?.</code> 来替换用了 <code>&amp;&amp;</code> 的大量空值检查代码。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// 以前</span></span>
<span class="line"><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (foo </span><span style="color:#F286C4;">&amp;&amp;</span><span style="color:#F6F6F4;"> foo.bar </span><span style="color:#F286C4;">&amp;&amp;</span><span style="color:#F6F6F4;"> foo.bar.baz) {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// ...</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7B7F8B;">// 以后</span></span>
<span class="line"><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (foo?.bar?.baz) {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// ...</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 以前</span></span>
<span class="line"><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (foo </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> foo.bar </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> foo.bar.baz) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 以后</span></span>
<span class="line"><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (foo?.bar?.baz) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>注意，<code>?.</code> 与 <code>&amp;&amp;</code> 的行为略有不同，因为 <code>&amp;&amp;</code> 会作用在所有“假”值上（例如，空字符串、<code>0</code>、<code>NaN</code> 以及 <code>false</code>），但 <code>?.</code> 是一个仅作用于结构上的特性。 它不会在有效数据（比如 <code>0</code> 或空字符串）上进行短路计算。</p><p>可选链还包括两个另外的用法。 首先是 <em>可选元素访问</em>，表现类似于可选属性访问，但是也允许我们访问非标识符属性（例如：任意字符串、数字和 symbol）：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;"> * 如果 arr 是一个数组，返回第一个元素</span></span>
<span class="line"><span style="color:#7B7F8B;"> * 否则返回 undefined</span></span>
<span class="line"><span style="color:#7B7F8B;"> */</span></span>
<span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">tryGetFirstElement</span><span style="color:#F6F6F4;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F6F6F4;">&gt;(</span><span style="color:#FFB86C;font-style:italic;">arr</span><span style="color:#F286C4;">?:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">T</span><span style="color:#F6F6F4;">[]) {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> arr?.[</span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">];</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 等价于：</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//   return (arr === null || arr === undefined) ?</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//       undefined :</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//       arr[0];</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * 如果 arr 是一个数组，返回第一个元素</span></span>
<span class="line"><span style="color:#6A737D;"> * 否则返回 undefined</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">tryGetFirstElement</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">T</span><span style="color:#24292E;">&gt;(</span><span style="color:#E36209;">arr</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">T</span><span style="color:#24292E;">[]) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> arr?.[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 等价于：</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//   return (arr === null || arr === undefined) ?</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//       undefined :</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//       arr[0];</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>另一个是 <em>可选调用</em>，判断条件是当该表达式不是 <code>null</code> 或 <code>undefined</code>，我们就可以调用它。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">async</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">makeRequest</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">url</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span><span style="color:#F6F6F4;">, </span><span style="color:#62E884;">log</span><span style="color:#F286C4;">?:</span><span style="color:#F6F6F4;"> (</span><span style="color:#FFB86C;font-style:italic;">msg</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">log</span><span style="color:#F6F6F4;">?.(</span><span style="color:#E7EE98;">`Request started at </span><span style="color:#F286C4;">${</span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#E7EE98;"> </span><span style="color:#62E884;">Date</span><span style="color:#F6F6F4;">().</span><span style="color:#62E884;">toISOString</span><span style="color:#F6F6F4;">()</span><span style="color:#F286C4;">}</span><span style="color:#E7EE98;">`</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 基本等价于：</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//   if (log != null) {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//       log(`Request started at ${new Date().toISOString()}`);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//   }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> (</span><span style="color:#F286C4;">await</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">fetch</span><span style="color:#F6F6F4;">(url)).</span><span style="color:#62E884;">json</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">log</span><span style="color:#F6F6F4;">?.(</span><span style="color:#E7EE98;">`Request finished at at </span><span style="color:#F286C4;">${</span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#E7EE98;"> </span><span style="color:#62E884;">Date</span><span style="color:#F6F6F4;">().</span><span style="color:#62E884;">toISOString</span><span style="color:#F6F6F4;">()</span><span style="color:#F286C4;">}</span><span style="color:#E7EE98;">`</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> result;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">makeRequest</span><span style="color:#24292E;">(</span><span style="color:#E36209;">url</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">log</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">msg</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">void</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">?.(</span><span style="color:#032F62;">`Request started at ${</span><span style="color:#D73A49;">new</span><span style="color:#032F62;"> </span><span style="color:#6F42C1;">Date</span><span style="color:#032F62;">().</span><span style="color:#6F42C1;">toISOString</span><span style="color:#032F62;">()</span><span style="color:#032F62;">}`</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 基本等价于：</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//   if (log != null) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//       log(`Request started at ${new Date().toISOString()}`);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//   }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">result</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fetch</span><span style="color:#24292E;">(url)).</span><span style="color:#6F42C1;">json</span><span style="color:#24292E;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">?.(</span><span style="color:#032F62;">`Request finished at at ${</span><span style="color:#D73A49;">new</span><span style="color:#032F62;"> </span><span style="color:#6F42C1;">Date</span><span style="color:#032F62;">().</span><span style="color:#6F42C1;">toISOString</span><span style="color:#032F62;">()</span><span style="color:#032F62;">}`</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> result;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>可选链的“短路计算”行为仅限于属性访问、调用、元素访问——它不会延伸到后续的表达式中。 也就是说，</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> foo?.bar </span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">someComputation</span><span style="color:#F6F6F4;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> foo?.bar </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">someComputation</span><span style="color:#24292E;">()</span></span></code></pre></div><p>可选链不会阻止除法运算或 <code>someComputation()</code> 的进行。 上面这段代码实际上等价于：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> temp </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> (foo </span><span style="color:#F286C4;">===</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">||</span><span style="color:#F6F6F4;"> foo </span><span style="color:#F286C4;">===</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">undefined</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">?</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#BF9EEE;">undefined</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">    foo.bar;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> temp </span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">someComputation</span><span style="color:#F6F6F4;">();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> temp </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (foo </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> foo </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">undefined</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">?</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">undefined</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span></span>
<span class="line"><span style="color:#24292E;">    foo.bar;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> temp </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">someComputation</span><span style="color:#24292E;">();</span></span></code></pre></div><p>当然，这可能会使得 <code>undefined</code> 参与了除法运算，导致在 <code>strictNullChecks</code> 编译选项下产生报错。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">barPercentage</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">foo</span><span style="color:#F286C4;">?:</span><span style="color:#F6F6F4;"> { bar</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">number</span><span style="color:#F6F6F4;"> }) {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> foo?.bar </span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">100</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//     ~~~~~~~~</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// Error: Object is possibly undefined.</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">barPercentage</span><span style="color:#24292E;">(</span><span style="color:#E36209;">foo</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> { </span><span style="color:#E36209;">bar</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;"> }) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> foo?.bar </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">100</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//     ~~~~~~~~</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// Error: Object is possibly undefined.</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>想了解更多细节，你可以 <a href="https://github.com/tc39/proposal-optional-chaining/" target="_blank" rel="noreferrer">检阅完整的草案</a> 以及 <a href="https://github.com/microsoft/TypeScript/pull/33294" target="_blank" rel="noreferrer">查看原始的 PR</a>。</p><h2 id="空值合并-nullish-coalescing" tabindex="-1">空值合并（Nullish Coalescing） <a class="header-anchor" href="#空值合并-nullish-coalescing" aria-label="Permalink to &quot;空值合并（Nullish Coalescing）&quot;">​</a></h2><p><a href="http://www.typescriptlang.org/play/#example/nullish-coalescing" target="_blank" rel="noreferrer">Playground</a></p><p><em>空值合并运算符</em> 是另一个即将到来的 ECMAScript 特性（与可选链一起），我们的团队也参与了 TC39 的的讨论工作。</p><p>你可以考虑使用 <code>??</code> 运算符来实现：当字段是 <code>null</code> 或 <code>undefined</code> 时，“回退”到默认值。 比如我们可以这样写代码：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> x </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> foo </span><span style="color:#F286C4;">??</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">bar</span><span style="color:#F6F6F4;">();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> x </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> foo </span><span style="color:#D73A49;">??</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bar</span><span style="color:#24292E;">();</span></span></code></pre></div><p>这种新方式的意思是，当 <code>foo</code> “存在”时 x 等于 foo； 但假如 <code>foo</code> 是 <code>null</code> 或 <code>undefined</code> ，x 等于 <code>bar()</code> 的计算结果。</p><p>同样的，上面的代码可以写出等价代码。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> x </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> (foo </span><span style="color:#F286C4;">!==</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">&amp;&amp;</span><span style="color:#F6F6F4;"> foo </span><span style="color:#F286C4;">!==</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">undefined</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">?</span></span>
<span class="line"><span style="color:#F6F6F4;">    foo </span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">bar</span><span style="color:#F6F6F4;">();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> x </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (foo </span><span style="color:#D73A49;">!==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> foo </span><span style="color:#D73A49;">!==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">undefined</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">?</span></span>
<span class="line"><span style="color:#24292E;">    foo </span><span style="color:#D73A49;">:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">bar</span><span style="color:#24292E;">();</span></span></code></pre></div><p>当尝试使用默认值时，<code>??</code> 运算符可以代替 <code>||</code> 的作用。 例如，下面的代码片段尝试获取上一次储存在 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/localStorage" target="_blank" rel="noreferrer"><code>localStorage</code></a> 中的 volume（如果它已保存）; 但是因为使用了 <code>||</code> ，留下一个 bug。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">initializeAudio</span><span style="color:#F6F6F4;">() {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> volume </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> localStorage.volume </span><span style="color:#F286C4;">||</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0.5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// ...</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">initializeAudio</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> volume </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> localStorage.volume </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>如果 <code>localStorage.volume</code> 的值是 <code>0</code>，这段代码将会把 volume 的值设置为 <code>0.5</code>，这是一个意外情况。 而 <code>??</code> 避免了将 <code>0</code>、<code>NaN</code> 和 <code>&quot;&quot;</code> 视为假值的意外情况。</p><p>我们非常感谢社区成员 <a href="https://github.com/Kingwl" target="_blank" rel="noreferrer">Wenlu Wang</a> 和 <a href="https://github.com/dragomirtitian" target="_blank" rel="noreferrer">Titian Cernicova Dragomir</a> 实现了这个特性！ 想了解更多细节，你可以 <a href="https://github.com/microsoft/TypeScript/pull/32883" target="_blank" rel="noreferrer">查看他们的 PR</a> 和 <a href="https://github.com/tc39/proposal-nullish-coalescing/" target="_blank" rel="noreferrer">空值合并草案的 Repo</a>。</p><h2 id="断言函数" tabindex="-1">断言函数 <a class="header-anchor" href="#断言函数" aria-label="Permalink to &quot;断言函数&quot;">​</a></h2><p><a href="http://www.typescriptlang.org/play/#example/assertion-functions" target="_blank" rel="noreferrer">Playground</a></p><p>有一类特定的函数，用于在出现非预期结果时抛出一个错误。 这样的函数叫做“断言”函数（Assertion Function）。 比方说，Node.js 中就有一个名为 <code>assert</code> 的断言函数。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#62E884;">assert</span><span style="color:#F6F6F4;">(someValue </span><span style="color:#F286C4;">===</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">42</span><span style="color:#F6F6F4;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">assert</span><span style="color:#24292E;">(someValue </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">42</span><span style="color:#24292E;">);</span></span></code></pre></div><p>在上面的例子中，如果 <code>someValue</code> 不等于 42，那么 <code>assert</code> 就会抛出一个 <code>AssertionError</code> 错误。</p><p>在 JavaScript 中，断言经常被用于防止不正确传参。 举个例子：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">multiply</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">y</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">assert</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;">typeof</span><span style="color:#F6F6F4;"> x </span><span style="color:#F286C4;">===</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">number</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">assert</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;">typeof</span><span style="color:#F6F6F4;"> y </span><span style="color:#F286C4;">===</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">number</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> x </span><span style="color:#F286C4;">*</span><span style="color:#F6F6F4;"> y;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">multiply</span><span style="color:#24292E;">(</span><span style="color:#E36209;">x</span><span style="color:#24292E;">, </span><span style="color:#E36209;">y</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">assert</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">typeof</span><span style="color:#24292E;"> x </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;number&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">assert</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">typeof</span><span style="color:#24292E;"> y </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;number&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> x </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> y;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>很遗憾，在 TypeScript 中，这些检查没办法正确编码。 对于类型宽松的代码，意味着 TypeScript 检查得更少，而对于更加规范的代码，通常迫使使用者添加类型断言。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">yell</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">str</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">assert</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;">typeof</span><span style="color:#F6F6F4;"> str </span><span style="color:#F286C4;">===</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">string</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> str.</span><span style="color:#62E884;">toUppercase</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 糟了！我们拼错了 &#39;toUpperCase&#39;。</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 如果 TypeScript 依然能检查出来就太棒了！</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">yell</span><span style="color:#24292E;">(</span><span style="color:#E36209;">str</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">assert</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">typeof</span><span style="color:#24292E;"> str </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;string&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> str.</span><span style="color:#6F42C1;">toUppercase</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 糟了！我们拼错了 &#39;toUpperCase&#39;。</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 如果 TypeScript 依然能检查出来就太棒了！</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>有一个替代的写法，可以让 TypeScript 能够分析出问题，不过这样并不方便。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">yell</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">str</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (</span><span style="color:#F286C4;">typeof</span><span style="color:#F6F6F4;"> str </span><span style="color:#F286C4;">!==</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">string</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">throw</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">TypeError</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">str should have been a string.</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 发现错误！</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> str.</span><span style="color:#62E884;">toUppercase</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">yell</span><span style="color:#24292E;">(</span><span style="color:#E36209;">str</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">typeof</span><span style="color:#24292E;"> str </span><span style="color:#D73A49;">!==</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;string&quot;</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">throw</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">TypeError</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;str should have been a string.&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 发现错误！</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> str.</span><span style="color:#6F42C1;">toUppercase</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>归根结底，TypeScript 的目标是以最小的改动为现存的 JavaScript 结构添加上类型声明。 因此，TypeScript 3.7 引入了一个称为“断言签名”的新概念，用于模拟这些断言函数。</p><p>第一种断言签名模拟了 Node 中 <code>assert</code> 函数的功能。 它确保在断言的范围内，无论什么判断条件都为必须真。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">assert</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">condition</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">any</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">msg</span><span style="color:#F286C4;">?:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span><span style="color:#F6F6F4;">)</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">asserts</span><span style="color:#F6F6F4;"> </span><span style="color:#FFB86C;font-style:italic;">condition</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (</span><span style="color:#F286C4;">!</span><span style="color:#F6F6F4;">condition) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">throw</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">AssertionError</span><span style="color:#F6F6F4;">(msg)</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">assert</span><span style="color:#24292E;">(</span><span style="color:#E36209;">condition</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">any</span><span style="color:#24292E;">, </span><span style="color:#E36209;">msg</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">asserts</span><span style="color:#24292E;"> </span><span style="color:#E36209;">condition</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">condition) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">throw</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AssertionError</span><span style="color:#24292E;">(msg)</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p><code>asserts condition</code> 表示：如果 <code>assert</code> 函数成功返回，则传入的 <code>condition</code> 参数必须为真（否则它应该抛出一个 Error）。 这意味着对于同作用域中的后续代码，条件必须为真。 回到例子上，用这个断言函数意味着我们 <em>能够</em> 捕获之前 <code>yell</code> 示例中的错误。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">yell</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">str</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">assert</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;">typeof</span><span style="color:#F6F6F4;"> str </span><span style="color:#F286C4;">===</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">string</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> str.</span><span style="color:#62E884;">toUppercase</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//         ~~~~~~~~~~~</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// error: Property &#39;toUppercase&#39; does not exist on type &#39;string&#39;.</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//        Did you mean &#39;toUpperCase&#39;?</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">assert</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">condition</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">any</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">msg</span><span style="color:#F286C4;">?:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span><span style="color:#F6F6F4;">)</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">asserts</span><span style="color:#F6F6F4;"> </span><span style="color:#FFB86C;font-style:italic;">condition</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (</span><span style="color:#F286C4;">!</span><span style="color:#F6F6F4;">condition) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">throw</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">AssertionError</span><span style="color:#F6F6F4;">(msg)</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">yell</span><span style="color:#24292E;">(</span><span style="color:#E36209;">str</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">assert</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">typeof</span><span style="color:#24292E;"> str </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;string&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> str.</span><span style="color:#6F42C1;">toUppercase</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//         ~~~~~~~~~~~</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// error: Property &#39;toUppercase&#39; does not exist on type &#39;string&#39;.</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//        Did you mean &#39;toUpperCase&#39;?</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">assert</span><span style="color:#24292E;">(</span><span style="color:#E36209;">condition</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">any</span><span style="color:#24292E;">, </span><span style="color:#E36209;">msg</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">asserts</span><span style="color:#24292E;"> </span><span style="color:#E36209;">condition</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">condition) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">throw</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AssertionError</span><span style="color:#24292E;">(msg)</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>另一种类型的断言签名不通过检查条件语句实现，而是在 TypeScript 里显式指定某个变量或属性具有不同的类型。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">assertIsString</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">val</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">any</span><span style="color:#F6F6F4;">)</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">asserts</span><span style="color:#F6F6F4;"> </span><span style="color:#FFB86C;font-style:italic;">val</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">is</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (</span><span style="color:#F286C4;">typeof</span><span style="color:#F6F6F4;"> val </span><span style="color:#F286C4;">!==</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">string</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">throw</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">AssertionError</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">Not a string!</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">assertIsString</span><span style="color:#24292E;">(</span><span style="color:#E36209;">val</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">any</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">asserts</span><span style="color:#24292E;"> </span><span style="color:#E36209;">val</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">is</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">typeof</span><span style="color:#24292E;"> val </span><span style="color:#D73A49;">!==</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;string&quot;</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">throw</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AssertionError</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Not a string!&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>这里的 <code>asserts val is string</code> 保证了在 <code>assertIsString</code> 调用之后，传入的任何变量都有可以被视为是 <code>string</code> 类型的。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">yell</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">str</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">any</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">assertIsString</span><span style="color:#F6F6F4;">(str);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 现在 TypeScript 知道 &#39;str&#39; 是一个 &#39;string&#39;。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> str.</span><span style="color:#62E884;">toUppercase</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//         ~~~~~~~~~~~</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// error: Property &#39;toUppercase&#39; does not exist on type &#39;string&#39;.</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//        Did you mean &#39;toUpperCase&#39;?</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">yell</span><span style="color:#24292E;">(</span><span style="color:#E36209;">str</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">any</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">assertIsString</span><span style="color:#24292E;">(str);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 现在 TypeScript 知道 &#39;str&#39; 是一个 &#39;string&#39;。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> str.</span><span style="color:#6F42C1;">toUppercase</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//         ~~~~~~~~~~~</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// error: Property &#39;toUppercase&#39; does not exist on type &#39;string&#39;.</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//        Did you mean &#39;toUpperCase&#39;?</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>这些断言方法签名类似于类型谓词（type predicate）签名：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">isString</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">val</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">any</span><span style="color:#F6F6F4;">)</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#FFB86C;font-style:italic;">val</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">is</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">typeof</span><span style="color:#F6F6F4;"> val </span><span style="color:#F286C4;">===</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">string</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">yell</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">str</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">any</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (</span><span style="color:#62E884;">isString</span><span style="color:#F6F6F4;">(str)) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> str.</span><span style="color:#62E884;">toUppercase</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">throw</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">Oops!</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">isString</span><span style="color:#24292E;">(</span><span style="color:#E36209;">val</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">any</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#E36209;">val</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">is</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">typeof</span><span style="color:#24292E;"> val </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;string&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">yell</span><span style="color:#24292E;">(</span><span style="color:#E36209;">str</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">any</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#6F42C1;">isString</span><span style="color:#24292E;">(str)) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> str.</span><span style="color:#6F42C1;">toUppercase</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">throw</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Oops!&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>就像类型谓词签名一样，这些断言签名具有清晰的表现力。 我们可以用它们表达一些非常复杂的想法。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">assertIsDefined</span><span style="color:#F6F6F4;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F6F6F4;">&gt;(</span><span style="color:#FFB86C;font-style:italic;">val</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">T</span><span style="color:#F6F6F4;">)</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">asserts</span><span style="color:#F6F6F4;"> </span><span style="color:#FFB86C;font-style:italic;">val</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">is</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">NonNullable</span><span style="color:#F6F6F4;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F6F6F4;">&gt; {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (val </span><span style="color:#F286C4;">===</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">undefined</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">||</span><span style="color:#F6F6F4;"> val </span><span style="color:#F286C4;">===</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">throw</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">AssertionError</span><span style="color:#F6F6F4;">(</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#E7EE98;">`Expected &#39;val&#39; to be defined, but received </span><span style="color:#F286C4;">${</span><span style="color:#F6F6F4;">val</span><span style="color:#F286C4;">}</span><span style="color:#E7EE98;">`</span></span>
<span class="line"><span style="color:#F6F6F4;">        );</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">assertIsDefined</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">T</span><span style="color:#24292E;">&gt;(</span><span style="color:#E36209;">val</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">T</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">asserts</span><span style="color:#24292E;"> </span><span style="color:#E36209;">val</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">is</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">NonNullable</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">T</span><span style="color:#24292E;">&gt; {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (val </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">undefined</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> val </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">throw</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AssertionError</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">`Expected &#39;val&#39; to be defined, but received ${</span><span style="color:#24292E;">val</span><span style="color:#032F62;">}`</span></span>
<span class="line"><span style="color:#24292E;">        );</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>想了解更多断言签名的细节，可以 <a href="https://github.com/microsoft/TypeScript/pull/32695" target="_blank" rel="noreferrer">查看原始的 PR</a>。</p><h2 id="更好地支持返回-never-的函数" tabindex="-1">更好地支持返回 <code>never</code> 的函数 <a class="header-anchor" href="#更好地支持返回-never-的函数" aria-label="Permalink to &quot;更好地支持返回 `never` 的函数&quot;">​</a></h2><p>作为断言签名实现的一部分，TypeScript 需要编码更多关于调用位置和调用函数的细节。 这给了我们机会扩展对另一类函数的支持——返回 <code>never</code> 的函数。</p><p>返回 <code>never</code> 的函数，即永远不会返回的函数。 它表明抛出了异常、触发了停止错误条件、或程序退出的情况。 例如，<a href="https://github.com/DefinitelyTyped/DefinitelyTyped/blob/5299d372a220584e75a031c13b3d555607af13f8/types/node/globals.d.ts#l874" target="_blank" rel="noreferrer"><code>@types/node</code> 中的 <code>process.exit(...)</code></a> 就被指定为返回 <code>never</code>。</p><p>为了确保函数永远不会潜在地返回 <code>undefined</code>、或者从所有代码路径中有效地返回，TypeScript 需要借助一些语法标志——函数结尾处的 <code>return</code> 或 <code>throw</code>。 这样，使用者就会发现自己的代码在“返回”一个停机函数。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">dispatch</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">|</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">number</span><span style="color:#F6F6F4;">)</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">SomeType</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (</span><span style="color:#F286C4;">typeof</span><span style="color:#F6F6F4;"> x </span><span style="color:#F286C4;">===</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">string</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">doThingWithString</span><span style="color:#F6F6F4;">(x);</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">else</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (</span><span style="color:#F286C4;">typeof</span><span style="color:#F6F6F4;"> x </span><span style="color:#F286C4;">===</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">number</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">doThingWithNumber</span><span style="color:#F6F6F4;">(x);</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> process.</span><span style="color:#62E884;">exit</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">dispatch</span><span style="color:#24292E;">(</span><span style="color:#E36209;">x</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SomeType</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">typeof</span><span style="color:#24292E;"> x </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;string&quot;</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">doThingWithString</span><span style="color:#24292E;">(x);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">typeof</span><span style="color:#24292E;"> x </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;number&quot;</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">doThingWithNumber</span><span style="color:#24292E;">(x);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> process.</span><span style="color:#6F42C1;">exit</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>现在，这些返回 <code>never</code> 的函数被调用时，TypeScript 能识别出它们将影响代码执行流程，同时说明原因。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">dispatch</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">|</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">number</span><span style="color:#F6F6F4;">)</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">SomeType</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (</span><span style="color:#F286C4;">typeof</span><span style="color:#F6F6F4;"> x </span><span style="color:#F286C4;">===</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">string</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">doThingWithString</span><span style="color:#F6F6F4;">(x);</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">else</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (</span><span style="color:#F286C4;">typeof</span><span style="color:#F6F6F4;"> x </span><span style="color:#F286C4;">===</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">number</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">doThingWithNumber</span><span style="color:#F6F6F4;">(x);</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">    process.</span><span style="color:#62E884;">exit</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">dispatch</span><span style="color:#24292E;">(</span><span style="color:#E36209;">x</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SomeType</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">typeof</span><span style="color:#24292E;"> x </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;string&quot;</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">doThingWithString</span><span style="color:#24292E;">(x);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">typeof</span><span style="color:#24292E;"> x </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;number&quot;</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">doThingWithNumber</span><span style="color:#24292E;">(x);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    process.</span><span style="color:#6F42C1;">exit</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>你可以和在断言函数的 <a href="https://github.com/microsoft/TypeScript/pull/32695" target="_blank" rel="noreferrer">同一个 PR 中查看更多细节</a>。</p><h2 id="更加-递归的类型别名" tabindex="-1">（更加）递归的类型别名 <a class="header-anchor" href="#更加-递归的类型别名" aria-label="Permalink to &quot;（更加）递归的类型别名&quot;">​</a></h2><p><a href="http://www.typescriptlang.org/play/#example/recursive-type-references" target="_blank" rel="noreferrer">Playground</a></p><p>类型别名在“递归”引用方面一直存在局限性。 原因是，类型别名必须能用它代表的东西来代替自己。 这在某些情况下是不可能的，因此编译器会拒绝某些递归别名，比如下面这个：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">type</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Foo</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Foo</span><span style="color:#F6F6F4;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Foo</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Foo</span><span style="color:#24292E;">;</span></span></code></pre></div><p>这是一个合理的限制，因为任何对 <code>Foo</code> 的使用都可以替换为 <code>Foo</code>，同时这个 <code>Foo</code> 能够替换为 <code>Foo</code>，而这个 <code>Foo</code> 应该……（产生了无限循环）希望你理解到这个意思了！ 到最后，没有类型可以用来代替 <code>Foo</code>。</p><p><a href="https://en.wikipedia.org/w/index.php?title=Recursive_data_type&amp;oldid=913091335#in_type_synonyms" target="_blank" rel="noreferrer">其他语言也是这么处理类型别名的</a>，但是它确实会产生一些令人困惑的情形，影响类型别名的使用。 例如，在 TypeScript 3.6 和更低的版本中，下面的代码会报错：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">type</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">ValueOrArray</span><span style="color:#F6F6F4;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F6F6F4;">&gt; </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">T</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">|</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Array</span><span style="color:#F6F6F4;">&lt;</span><span style="color:#FFB86C;font-style:italic;">ValueOrArray</span><span style="color:#F6F6F4;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F6F6F4;">&gt;&gt;;</span></span>
<span class="line"><span style="color:#7B7F8B;">//   ~~~~~~~~~~~~</span></span>
<span class="line"><span style="color:#7B7F8B;">// error: Type alias &#39;ValueOrArray&#39; circularly references itself.</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ValueOrArray</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">T</span><span style="color:#24292E;">&gt; </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">T</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">ValueOrArray</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">T</span><span style="color:#24292E;">&gt;&gt;;</span></span>
<span class="line"><span style="color:#6A737D;">//   ~~~~~~~~~~~~</span></span>
<span class="line"><span style="color:#6A737D;">// error: Type alias &#39;ValueOrArray&#39; circularly references itself.</span></span></code></pre></div><p>这很令人困惑，因为使用者总是可以用接口来编写具有相同作用的代码，那么从技术上讲这没什么问题。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">type</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">ValueOrArray</span><span style="color:#F6F6F4;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F6F6F4;">&gt; </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">T</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">|</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">ArrayOfValueOrArray</span><span style="color:#F6F6F4;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F6F6F4;">&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">ArrayOfValueOrArray</span><span style="color:#F6F6F4;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F6F6F4;">&gt; </span><span style="color:#F286C4;">extends</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Array</span><span style="color:#F6F6F4;">&lt;</span><span style="color:#FFB86C;font-style:italic;">ValueOrArray</span><span style="color:#F6F6F4;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F6F6F4;">&gt;&gt; {}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ValueOrArray</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">T</span><span style="color:#24292E;">&gt; </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">T</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ArrayOfValueOrArray</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">T</span><span style="color:#24292E;">&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ArrayOfValueOrArray</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">T</span><span style="color:#24292E;">&gt; </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">ValueOrArray</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">T</span><span style="color:#24292E;">&gt;&gt; {}</span></span></code></pre></div><p>因为接口（以及其他对象 type）引入了一个间接的层级，并且它们的完整结构不需要立即建立，所以 TypeScript 可以处理这种结构。</p><p>但是，对于使用者而言，引入接口的方案并不直观。 并且，用了 <code>Array</code> 的初始版 <code>ValueOrArray</code> 没什么原则性问题。 如果编译器多一点“惰性”，并且只按需计算 <code>Array</code> 的类型参数，那么 TypeScript 就可以正确地表示出这些了。</p><p>这正是 TypeScript 3.7 引入的。 在类型别名的“顶层”，TypeScript 将推迟解析类型参数以便支持这些模式。</p><p>这意味着，用于表示 JSON 的以下代码……</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">type</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Json</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">|</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">|</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">number</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">|</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">boolean</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">|</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">null</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">|</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">JsonObject</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">|</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">JsonArray</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">JsonObject</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    [</span><span style="color:#FFB86C;font-style:italic;">property</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span><span style="color:#F6F6F4;">]</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Json</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">JsonArray</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">extends</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Array</span><span style="color:#F6F6F4;">&lt;</span><span style="color:#FFB86C;font-style:italic;">Json</span><span style="color:#F6F6F4;">&gt; {}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Json</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">boolean</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">JsonObject</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">JsonArray</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">JsonObject</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    [</span><span style="color:#E36209;">property</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">]</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Json</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">JsonArray</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">Json</span><span style="color:#24292E;">&gt; {}</span></span></code></pre></div><p>终于可以重写成不需要借助 interface 的形式。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">type</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Json</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">|</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">|</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">number</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">|</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">boolean</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">|</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">null</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">|</span><span style="color:#F6F6F4;"> { [</span><span style="color:#FFB86C;font-style:italic;">property</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span><span style="color:#F6F6F4;">]</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Json</span><span style="color:#F6F6F4;"> }</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">|</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Json</span><span style="color:#F6F6F4;">[];</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Json</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">boolean</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> { [</span><span style="color:#E36209;">property</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">]</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Json</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Json</span><span style="color:#24292E;">[];</span></span></code></pre></div><p>这个新的机制让我们在元组中，同样也可以递归地使用类型别名。 下面的 TypeScript 代码在以前会报错，但现在是合法的：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">type</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">VirtualNode</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">|</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">|</span><span style="color:#F6F6F4;"> [</span><span style="color:#97E1F1;font-style:italic;">string</span><span style="color:#F6F6F4;">, { [</span><span style="color:#FFB86C;font-style:italic;">key</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span><span style="color:#F6F6F4;">]</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">any</span><span style="color:#F6F6F4;"> }, </span><span style="color:#F286C4;">...</span><span style="color:#97E1F1;font-style:italic;">VirtualNode</span><span style="color:#F6F6F4;">[]];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> myNode</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">VirtualNode</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span></span>
<span class="line"><span style="color:#F6F6F4;">    [</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">div</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, { id</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">parent</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">        [</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">div</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, { id</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">first-child</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> }, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">I&#39;m the first child</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">],</span></span>
<span class="line"><span style="color:#F6F6F4;">        [</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">div</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, { id</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">second-child</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> }, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">I&#39;m the second child</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">]</span></span>
<span class="line"><span style="color:#F6F6F4;">    ];</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">VirtualNode</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> [</span><span style="color:#005CC5;">string</span><span style="color:#24292E;">, { [</span><span style="color:#E36209;">key</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">]</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">any</span><span style="color:#24292E;"> }, </span><span style="color:#D73A49;">...</span><span style="color:#6F42C1;">VirtualNode</span><span style="color:#24292E;">[]];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">myNode</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">VirtualNode</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span></span>
<span class="line"><span style="color:#24292E;">    [</span><span style="color:#032F62;">&quot;div&quot;</span><span style="color:#24292E;">, { id: </span><span style="color:#032F62;">&quot;parent&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">        [</span><span style="color:#032F62;">&quot;div&quot;</span><span style="color:#24292E;">, { id: </span><span style="color:#032F62;">&quot;first-child&quot;</span><span style="color:#24292E;"> }, </span><span style="color:#032F62;">&quot;I&#39;m the first child&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">        [</span><span style="color:#032F62;">&quot;div&quot;</span><span style="color:#24292E;">, { id: </span><span style="color:#032F62;">&quot;second-child&quot;</span><span style="color:#24292E;"> }, </span><span style="color:#032F62;">&quot;I&#39;m the second child&quot;</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">    ];</span></span></code></pre></div><p>想了解更多细节，你可以 <a href="https://github.com/microsoft/TypeScript/pull/33050" target="_blank" rel="noreferrer">查看原始的 PR</a>。</p><h2 id="declaration-和-allowjs" tabindex="-1"><code>--declaration</code> 和 <code>--allowJs</code> <a class="header-anchor" href="#declaration-和-allowjs" aria-label="Permalink to &quot;`--declaration` 和 `--allowJs`&quot;">​</a></h2><p><code>--declaration</code> 选项允许我们从 TypeScript 源文件（诸如 <code>.ts</code> 和 <code>.tsx</code> 文件）生成 <code>.d.ts</code> 文件（声明文件）。 <code>.d.ts</code> 文件的重要性有几个方面：</p><p>首先，它们使得 TypeScript 能够对外部项目进行类型检查，同时避免重复检查其源代码。 另一方面，它们使得 TypeScript 能够与现存的 JavaScript 库相互配合，即使这些库构建时并未使用 TypeScript。 最后，还有一个通常被忽略的好处：在使用支持 TypeScript 的编辑器时，TypeScript <em>和</em> JavaScript 使用者都可以从这些文件中受益，例如更高级的自动完成。</p><p>不幸的是，<code>--declaration</code> 不能与 <code>--allowJs</code> 选项一起使用，<code>--allowJs</code> 选项允许混合使用 TypeScript 和 JavaScript 文件。 这是一个令人沮丧的限制，因为它意味着使用者在迁移代码库时无法使用 <code>--declaration</code> 选项，即使代码包含了 JSDoc 注释。 TypeScript 3.7 对此进行了改进，允许这两个选项一起使用！</p><p>这个功能最大的影响可能比较微妙：在 TypeScript 3.7 中，编写带有 JSDoc 注释的 JavaScript 库，也能帮助 TypeScript 的使用者。</p><p>它的实现原理是，在启用 <code>allowJs</code> 时，TypeScript 会尽可能地分析并理解常见的 JavaScript 模式；然而，用 JavaScript 表达的某些模式看起来不一定像它们在 TypeScript 中的等效形式。 启用 <code>declaration</code> 选项后，TypeScript 会尽力识别 JSDoc 注释和 CommonJS 形式的模块输出，并转换为有效的类型声明输出到 <code>.d.ts</code> 文件上。</p><p>比如下面这个代码片段</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> assert </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">require</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">assert</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">module</span><span style="color:#F6F6F4;">.</span><span style="color:#97E1F1;font-style:italic;">exports</span><span style="color:#F6F6F4;">.blurImage </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> blurImage;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;"> * Produces a blurred image from an input buffer.</span></span>
<span class="line"><span style="color:#7B7F8B;"> * </span></span>
<span class="line"><span style="color:#7B7F8B;"> * </span><span style="color:#F286C4;">@param</span><span style="color:#7B7F8B;"> </span><span style="color:#FFB86C;font-style:italic;">input</span><span style="color:#7B7F8B;"> {Uint8Array}</span></span>
<span class="line"><span style="color:#7B7F8B;"> * </span><span style="color:#F286C4;">@param</span><span style="color:#7B7F8B;"> </span><span style="color:#FFB86C;font-style:italic;">width</span><span style="color:#7B7F8B;"> {number}</span></span>
<span class="line"><span style="color:#7B7F8B;"> * </span><span style="color:#F286C4;">@param</span><span style="color:#7B7F8B;"> </span><span style="color:#FFB86C;font-style:italic;">height</span><span style="color:#7B7F8B;"> {number}</span></span>
<span class="line"><span style="color:#7B7F8B;"> */</span></span>
<span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">blurImage</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">input</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">width</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">height</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> numPixels </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> width </span><span style="color:#F286C4;">*</span><span style="color:#F6F6F4;"> height </span><span style="color:#F286C4;">*</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">4</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">assert</span><span style="color:#F6F6F4;">(input.length </span><span style="color:#F286C4;">===</span><span style="color:#F6F6F4;"> numPixels);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">Uint8Array</span><span style="color:#F6F6F4;">(numPixels);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// TODO</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> result;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">assert</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">require</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;assert&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5;">module</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">exports</span><span style="color:#24292E;">.blurImage </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> blurImage;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * Produces a blurred image from an input buffer.</span></span>
<span class="line"><span style="color:#6A737D;"> * </span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@param</span><span style="color:#6A737D;"> </span><span style="color:#24292E;">input</span><span style="color:#6A737D;"> {Uint8Array}</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@param</span><span style="color:#6A737D;"> </span><span style="color:#24292E;">width</span><span style="color:#6A737D;"> {number}</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@param</span><span style="color:#6A737D;"> </span><span style="color:#24292E;">height</span><span style="color:#6A737D;"> {number}</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">blurImage</span><span style="color:#24292E;">(</span><span style="color:#E36209;">input</span><span style="color:#24292E;">, </span><span style="color:#E36209;">width</span><span style="color:#24292E;">, </span><span style="color:#E36209;">height</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">numPixels</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> width </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> height </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">4</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">assert</span><span style="color:#24292E;">(input.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> numPixels);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">result</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Uint8Array</span><span style="color:#24292E;">(numPixels);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// TODO</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> result;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>将会生成如下 <code>.d.ts</code> 文件</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;"> * Produces a blurred image from an input buffer.</span></span>
<span class="line"><span style="color:#7B7F8B;"> *</span></span>
<span class="line"><span style="color:#7B7F8B;"> * </span><span style="color:#F286C4;">@param</span><span style="color:#7B7F8B;"> </span><span style="color:#FFB86C;font-style:italic;">input</span><span style="color:#7B7F8B;"> {Uint8Array}</span></span>
<span class="line"><span style="color:#7B7F8B;"> * </span><span style="color:#F286C4;">@param</span><span style="color:#7B7F8B;"> </span><span style="color:#FFB86C;font-style:italic;">width</span><span style="color:#7B7F8B;"> {number}</span></span>
<span class="line"><span style="color:#7B7F8B;"> * </span><span style="color:#F286C4;">@param</span><span style="color:#7B7F8B;"> </span><span style="color:#FFB86C;font-style:italic;">height</span><span style="color:#7B7F8B;"> {number}</span></span>
<span class="line"><span style="color:#7B7F8B;"> */</span></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">blurImage</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">input</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Uint8Array</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">width</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">number</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">height</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">number</span><span style="color:#F6F6F4;">)</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Uint8Array</span><span style="color:#F6F6F4;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * Produces a blurred image from an input buffer.</span></span>
<span class="line"><span style="color:#6A737D;"> *</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@param</span><span style="color:#6A737D;"> </span><span style="color:#24292E;">input</span><span style="color:#6A737D;"> {Uint8Array}</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@param</span><span style="color:#6A737D;"> </span><span style="color:#24292E;">width</span><span style="color:#6A737D;"> {number}</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@param</span><span style="color:#6A737D;"> </span><span style="color:#24292E;">height</span><span style="color:#6A737D;"> {number}</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">blurImage</span><span style="color:#24292E;">(</span><span style="color:#E36209;">input</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Uint8Array</span><span style="color:#24292E;">, </span><span style="color:#E36209;">width</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">, </span><span style="color:#E36209;">height</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Uint8Array</span><span style="color:#24292E;">;</span></span></code></pre></div><p>除了基本的带有 <code>@param</code> 标记的函数，也支持其他情形, 请看下面这个例子：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;"> * </span><span style="color:#F286C4;">@callback</span><span style="color:#7B7F8B;"> </span><span style="color:#97E1F1;font-style:italic;">Job</span></span>
<span class="line"><span style="color:#7B7F8B;"> * </span><span style="color:#F286C4;">@returns</span><span style="color:#7B7F8B;"> </span><span style="color:#97E1F1;font-style:italic;">{void}</span></span>
<span class="line"><span style="color:#7B7F8B;"> */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7B7F8B;">/** Queues work */</span></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">Worker</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">constructor</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">maxDepth</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">10</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.started </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">false</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.depthLimit </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> maxDepth;</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;">         * NOTE: queued jobs may add more items to queue</span></span>
<span class="line"><span style="color:#7B7F8B;">         * </span><span style="color:#F286C4;">@type</span><span style="color:#7B7F8B;"> </span><span style="color:#97E1F1;font-style:italic;">{Job[]}</span></span>
<span class="line"><span style="color:#7B7F8B;">         */</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.queue </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> [];</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;">     * Adds a work item to the queue</span></span>
<span class="line"><span style="color:#7B7F8B;">     * </span><span style="color:#F286C4;">@param</span><span style="color:#7B7F8B;"> </span><span style="color:#97E1F1;font-style:italic;">{Job}</span><span style="color:#7B7F8B;"> </span><span style="color:#FFB86C;font-style:italic;">work</span><span style="color:#7B7F8B;"> </span></span>
<span class="line"><span style="color:#7B7F8B;">     */</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">push</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">work</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.queue.length </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.depthLimit) </span><span style="color:#F286C4;">throw</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">Error</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">Queue full!</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.queue.</span><span style="color:#62E884;">push</span><span style="color:#F6F6F4;">(work);</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;">     * Starts the queue if it has not yet started</span></span>
<span class="line"><span style="color:#7B7F8B;">     */</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">start</span><span style="color:#F6F6F4;">() {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.started) </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">false</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.started </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">while</span><span style="color:#F6F6F4;"> (</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.queue.length) {</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#7B7F8B;">/** </span><span style="color:#F286C4;">@type</span><span style="color:#7B7F8B;"> </span><span style="color:#97E1F1;font-style:italic;">{Job}</span><span style="color:#7B7F8B;"> */</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.queue.</span><span style="color:#62E884;">shift</span><span style="color:#F6F6F4;">())();</span></span>
<span class="line"><span style="color:#F6F6F4;">        }</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@callback</span><span style="color:#6A737D;"> </span><span style="color:#6F42C1;">Job</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@returns</span><span style="color:#6A737D;"> </span><span style="color:#6F42C1;">{void}</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/** Queues work */</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Worker</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">constructor</span><span style="color:#24292E;">(</span><span style="color:#E36209;">maxDepth</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.started </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.depthLimit </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> maxDepth;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">         * NOTE: queued jobs may add more items to queue</span></span>
<span class="line"><span style="color:#6A737D;">         * </span><span style="color:#D73A49;">@type</span><span style="color:#6A737D;"> </span><span style="color:#6F42C1;">{Job[]}</span></span>
<span class="line"><span style="color:#6A737D;">         */</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.queue </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [];</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">     * Adds a work item to the queue</span></span>
<span class="line"><span style="color:#6A737D;">     * </span><span style="color:#D73A49;">@param</span><span style="color:#6A737D;"> </span><span style="color:#6F42C1;">{Job}</span><span style="color:#6A737D;"> </span><span style="color:#24292E;">work</span><span style="color:#6A737D;"> </span></span>
<span class="line"><span style="color:#6A737D;">     */</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">push</span><span style="color:#24292E;">(</span><span style="color:#E36209;">work</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.queue.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.depthLimit) </span><span style="color:#D73A49;">throw</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Error</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Queue full!&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.queue.</span><span style="color:#6F42C1;">push</span><span style="color:#24292E;">(work);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">     * Starts the queue if it has not yet started</span></span>
<span class="line"><span style="color:#6A737D;">     */</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">start</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.started) </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.started </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">while</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.queue.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6A737D;">/** </span><span style="color:#D73A49;">@type</span><span style="color:#6A737D;"> </span><span style="color:#6F42C1;">{Job}</span><span style="color:#6A737D;"> */</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.queue.</span><span style="color:#6F42C1;">shift</span><span style="color:#24292E;">())();</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>会生成如下 <code>.d.ts</code> 文件：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;"> * </span><span style="color:#F286C4;">@callback</span><span style="color:#7B7F8B;"> </span><span style="color:#97E1F1;font-style:italic;">Job</span></span>
<span class="line"><span style="color:#7B7F8B;"> * </span><span style="color:#F286C4;">@returns</span><span style="color:#7B7F8B;"> </span><span style="color:#97E1F1;font-style:italic;">{void}</span></span>
<span class="line"><span style="color:#7B7F8B;"> */</span></span>
<span class="line"><span style="color:#7B7F8B;">/** Queues work */</span></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">Worker</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">constructor</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">maxDepth</span><span style="color:#F286C4;">?:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">number</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    started</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    depthLimit</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">number</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;">     * NOTE: queued jobs may add more items to queue</span></span>
<span class="line"><span style="color:#7B7F8B;">     * </span><span style="color:#F286C4;">@type</span><span style="color:#7B7F8B;"> </span><span style="color:#97E1F1;font-style:italic;">{Job[]}</span></span>
<span class="line"><span style="color:#7B7F8B;">     */</span></span>
<span class="line"><span style="color:#F6F6F4;">    queue</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Job</span><span style="color:#F6F6F4;">[];</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;">     * Adds a work item to the queue</span></span>
<span class="line"><span style="color:#7B7F8B;">     * </span><span style="color:#F286C4;">@param</span><span style="color:#7B7F8B;"> </span><span style="color:#97E1F1;font-style:italic;">{Job}</span><span style="color:#7B7F8B;"> </span><span style="color:#FFB86C;font-style:italic;">work</span></span>
<span class="line"><span style="color:#7B7F8B;">     */</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">push</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">work</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Job</span><span style="color:#F6F6F4;">)</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;">     * Starts the queue if it has not yet started</span></span>
<span class="line"><span style="color:#7B7F8B;">     */</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">start</span><span style="color:#F6F6F4;">()</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">type</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Job</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> () </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@callback</span><span style="color:#6A737D;"> </span><span style="color:#6F42C1;">Job</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@returns</span><span style="color:#6A737D;"> </span><span style="color:#6F42C1;">{void}</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#6A737D;">/** Queues work */</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Worker</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">constructor</span><span style="color:#24292E;">(</span><span style="color:#E36209;">maxDepth</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">started</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">boolean</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">depthLimit</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">     * NOTE: queued jobs may add more items to queue</span></span>
<span class="line"><span style="color:#6A737D;">     * </span><span style="color:#D73A49;">@type</span><span style="color:#6A737D;"> </span><span style="color:#6F42C1;">{Job[]}</span></span>
<span class="line"><span style="color:#6A737D;">     */</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">queue</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Job</span><span style="color:#24292E;">[];</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">     * Adds a work item to the queue</span></span>
<span class="line"><span style="color:#6A737D;">     * </span><span style="color:#D73A49;">@param</span><span style="color:#6A737D;"> </span><span style="color:#6F42C1;">{Job}</span><span style="color:#6A737D;"> </span><span style="color:#24292E;">work</span></span>
<span class="line"><span style="color:#6A737D;">     */</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">push</span><span style="color:#24292E;">(</span><span style="color:#E36209;">work</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Job</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">void</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">     * Starts the queue if it has not yet started</span></span>
<span class="line"><span style="color:#6A737D;">     */</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">start</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">boolean</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Job</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">void</span><span style="color:#24292E;">;</span></span></code></pre></div><p>注意，当同时启用这两个选项时，TypeScript 不一定必须得编译成 <code>.js</code> 文件。 如果只是简单的想让 TypeScript 创建 <code>.d.ts</code> 文件，你可以启用 <code>--emitDeclarationOnly</code> 编译选项。</p><p>想了解更多细节，你可以 <a href="https://github.com/microsoft/TypeScript/pull/32372" target="_blank" rel="noreferrer">查看原始的 PR</a>。</p><h2 id="usedefineforclassfields-编译选项和-declare-属性修饰符" tabindex="-1"><code>useDefineForClassFields</code> 编译选项和 <code>declare</code> 属性修饰符 <a class="header-anchor" href="#usedefineforclassfields-编译选项和-declare-属性修饰符" aria-label="Permalink to &quot;`useDefineForClassFields` 编译选项和 `declare` 属性修饰符&quot;">​</a></h2><p>当在 TypeScript 中写类公共字段时，我们尽力保证以下代码</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">C</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    foo </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">100</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    bar</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">C</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">foo</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">100</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">bar</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>等价于构造函数中的相似语句</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">C</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">constructor</span><span style="color:#F6F6F4;">() {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.foo </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">100</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">C</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">constructor</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.foo </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">100</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>不幸的是，虽然这符合该提案早期的发展方向，但类公共字段极有可能以不同的方式进行标准化。 所以取而代之的，原始代码示例可能需要进行脱糖处理，变成类似下面的代码：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">C</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">constructor</span><span style="color:#F6F6F4;">() {</span></span>
<span class="line"><span style="color:#F6F6F4;">        Object.</span><span style="color:#62E884;">defineProperty</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">foo</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, {</span></span>
<span class="line"><span style="color:#F6F6F4;">            enumerable</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">            configurable</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">            writable</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">            value</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">100</span></span>
<span class="line"><span style="color:#F6F6F4;">        });</span></span>
<span class="line"><span style="color:#F6F6F4;">        Object.</span><span style="color:#62E884;">defineProperty</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">bar</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, {</span></span>
<span class="line"><span style="color:#F6F6F4;">            enumerable</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">            configurable</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">            writable</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">            value</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span></span>
<span class="line"><span style="color:#F6F6F4;">        });</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">C</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">constructor</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        Object.</span><span style="color:#6F42C1;">defineProperty</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;foo&quot;</span><span style="color:#24292E;">, {</span></span>
<span class="line"><span style="color:#24292E;">            enumerable: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            configurable: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            writable: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            value: </span><span style="color:#005CC5;">100</span></span>
<span class="line"><span style="color:#24292E;">        });</span></span>
<span class="line"><span style="color:#24292E;">        Object.</span><span style="color:#6F42C1;">defineProperty</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;bar&quot;</span><span style="color:#24292E;">, {</span></span>
<span class="line"><span style="color:#24292E;">            enumerable: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            configurable: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            writable: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            value: </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">        });</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>当然，TypeScript 3.7 在默认情况下的编译结果与之前版本没有变化，我们增量地发布改动，以便帮助使用者减少未来潜在的破坏性变更。 我们提供了一个新的编译选项 <code>useDefineForClassFields</code>，根据一些新的检查逻辑使用上面这种编译模式。</p><p>最大的两个改变如下：</p><ul><li>声明通过 <code>Object.defineProperty</code> 完成。</li><li>声明 <em>总是</em> 被初始化为 <code>undefined</code>，即使原有代码中没有显式的初始值。</li></ul><p>对于现存的含有继承的代码，这可能会造成一些问题。首先，基类的 <code>set</code> 访问器不再被触发——它们将被完全覆写。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">Base</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">set</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">data</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">value</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        console.</span><span style="color:#62E884;">log</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">data changed to </span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> value);</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">Derived</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">extends</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Base</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 当启用 &#39;useDefineForClassFields&#39; 时</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 不再触发 &#39;console.log&#39;</span></span>
<span class="line"><span style="color:#F6F6F4;">    data </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">10</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">set</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">data</span><span style="color:#24292E;">(</span><span style="color:#E36209;">value</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;data changed to &quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> value);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Derived</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 当启用 &#39;useDefineForClassFields&#39; 时</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 不再触发 &#39;console.log&#39;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">data</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>其次，基类中的属性设定也将不起作用。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Animal</span><span style="color:#F6F6F4;"> { animalStuff</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">any</span><span style="color:#F6F6F4;"> }</span></span>
<span class="line"><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Dog</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">extends</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Animal</span><span style="color:#F6F6F4;"> { dogStuff</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">any</span><span style="color:#F6F6F4;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">AnimalHouse</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    resident</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Animal</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">constructor</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">animal</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Animal</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.resident </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> animal;</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">DogHouse</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">extends</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">AnimalHouse</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 当启用 &#39;useDefineForClassFields&#39; 时</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 调用 &#39;super()&#39; 后</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// &#39;resident&#39; 只会被初始化成 &#39;undefined&#39;！</span></span>
<span class="line"><span style="color:#F6F6F4;">    resident</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Dog</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">constructor</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">dog</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Dog</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">super</span><span style="color:#F6F6F4;">(dog);</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span><span style="color:#24292E;"> { </span><span style="color:#E36209;">animalStuff</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">any</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Dog</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span><span style="color:#24292E;"> { </span><span style="color:#E36209;">dogStuff</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">any</span><span style="color:#24292E;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AnimalHouse</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">resident</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">constructor</span><span style="color:#24292E;">(</span><span style="color:#E36209;">animal</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.resident </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> animal;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DogHouse</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AnimalHouse</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 当启用 &#39;useDefineForClassFields&#39; 时</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 调用 &#39;super()&#39; 后</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// &#39;resident&#39; 只会被初始化成 &#39;undefined&#39;！</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">resident</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Dog</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">constructor</span><span style="color:#24292E;">(</span><span style="color:#E36209;">dog</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Dog</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">(dog);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>这两个问题归结为，继承时混合覆写属性与访问器，以及属性不带初始值的重新声明。</p><p>为了检测这个访问器的问题，TypeScript 3.7 现在可以在 <code>.d.ts</code> 文件中编译出 <code>get</code>/<code>set</code>，这样 TypeScript 就能检查出访问器覆写的情况。</p><p>对于改变类字段的代码，将字段初始化写成构造函数内的语句，就可以解决此问题。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">Base</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">set</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">data</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">value</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        console.</span><span style="color:#62E884;">log</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">data changed to </span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> value);</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">Derived</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">extends</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Base</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">constructor</span><span style="color:#F6F6F4;">() {</span></span>
<span class="line"><span style="color:#F6F6F4;">        data </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">10</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">set</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">data</span><span style="color:#24292E;">(</span><span style="color:#E36209;">value</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;data changed to &quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> value);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Derived</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">constructor</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        data </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>而解决第二个问题，你可以显式地提供一个初始值，或添加一个<code>declare</code> 修饰符来表示这个属性不要被编译。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Animal</span><span style="color:#F6F6F4;"> { animalStuff</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">any</span><span style="color:#F6F6F4;"> }</span></span>
<span class="line"><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Dog</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">extends</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Animal</span><span style="color:#F6F6F4;"> { dogStuff</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">any</span><span style="color:#F6F6F4;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">AnimalHouse</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    resident</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Animal</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">constructor</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">animal</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Animal</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.resident </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> animal;</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">DogHouse</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">extends</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">AnimalHouse</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">declare</span><span style="color:#F6F6F4;"> resident</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Dog</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#7B7F8B;">//  ^^^^^^^</span></span>
<span class="line"><span style="color:#7B7F8B;">// &#39;resident&#39; now has a &#39;declare&#39; modifier,</span></span>
<span class="line"><span style="color:#7B7F8B;">// and won&#39;t produce any output code.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">constructor</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">dog</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Dog</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">super</span><span style="color:#F6F6F4;">(dog);</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span><span style="color:#24292E;"> { </span><span style="color:#E36209;">animalStuff</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">any</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Dog</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span><span style="color:#24292E;"> { </span><span style="color:#E36209;">dogStuff</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">any</span><span style="color:#24292E;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AnimalHouse</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">resident</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">constructor</span><span style="color:#24292E;">(</span><span style="color:#E36209;">animal</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.resident </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> animal;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DogHouse</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AnimalHouse</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">declare</span><span style="color:#24292E;"> </span><span style="color:#E36209;">resident</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Dog</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#6A737D;">//  ^^^^^^^</span></span>
<span class="line"><span style="color:#6A737D;">// &#39;resident&#39; now has a &#39;declare&#39; modifier,</span></span>
<span class="line"><span style="color:#6A737D;">// and won&#39;t produce any output code.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">constructor</span><span style="color:#24292E;">(</span><span style="color:#E36209;">dog</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Dog</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">(dog);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>目前，只有当编译目标是 ES5 及以上时 <code>useDefineForClassFields</code> 才可用，因为 ES3 中不支持 <code>Object.defineProperty</code>。 要检查类似的问题，你可以创建一个分离的项目，设定编译目标为 ES5 并使用 <code>--noEmit</code> 来避免完全构建。</p><p>想了解更多细节，你可以 <a href="https://github.com/microsoft/TypeScript/pull/33509" target="_blank" rel="noreferrer">去原始的 PR 查看这些改动</a>。</p><p>我们强烈建议使用者尝试 <code>useDefineForClassFields</code>，并在 issues 或下面的评论区域中提供反馈。 应该碰到编译选项在使用难度上的反馈，这样我们就能够了解如何使迁移变得更容易。</p><h2 id="利用项目引用实现无构建编辑" tabindex="-1">利用项目引用实现无构建编辑 <a class="header-anchor" href="#利用项目引用实现无构建编辑" aria-label="Permalink to &quot;利用项目引用实现无构建编辑&quot;">​</a></h2><p>TypeScript 的项目引用功能，为我们提供了一种简单的方法来分解代码库，从而使编译速度更快。 遗憾的是，当我们编辑一个依赖未曾构建（或者构建结果过时）的项目时，体验不好。</p><p>在 TypeScript 3.7 中，当打开一个带有依赖的项目时，TypeScript 将自动切换为使用依赖中的 <code>.ts</code>/<code>.tsx</code> 源码文件。 这意味着在带有外部引用的项目中，代码的修改会即时同步和生效，编码体验会得到提升。 你也可以适当地打开编译器选项 <code>disableSourceOfProjectReferenceRedirect</code> 来禁用这个引用的功能，因为在超大型项目中这个功能可能会影响性能。</p><p>你可以 <a href="https://github.com/microsoft/TypeScript/pull/32028" target="_blank" rel="noreferrer">阅读这个 PR 来了解这个改动的更多细节</a>。</p><h2 id="检查未调用的函数" tabindex="-1">检查未调用的函数 <a class="header-anchor" href="#检查未调用的函数" aria-label="Permalink to &quot;检查未调用的函数&quot;">​</a></h2><p>一个常见且危险的错误是：忘记调用一个函数，特别是当该函数不需要参数，或者它的命名容易被误认为是一个属性而不是函数时。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">User</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">isAdministrator</span><span style="color:#F6F6F4;">()</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">notify</span><span style="color:#F6F6F4;">()</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">doNotDisturb</span><span style="color:#F286C4;">?</span><span style="color:#F6F6F4;">()</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7B7F8B;">// 之后…</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7B7F8B;">// 有问题的代码，别用！</span></span>
<span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">doAdminThing</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">user</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">User</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 糟了！</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (user.isAdministrator) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#62E884;">sudo</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#62E884;">editTheConfiguration</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">else</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">throw</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">AccessDeniedError</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">User is not an admin</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">User</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">isAdministrator</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">boolean</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">notify</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">void</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">doNotDisturb</span><span style="color:#D73A49;">?</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">boolean</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 之后…</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 有问题的代码，别用！</span></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">doAdminThing</span><span style="color:#24292E;">(</span><span style="color:#E36209;">user</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">User</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 糟了！</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (user.isAdministrator) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">sudo</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">editTheConfiguration</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">throw</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AccessDeniedError</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;User is not an admin&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>在这段代码中，我们忘了调用 <code>isAdministrator</code>，导致该代码错误地允许非管理员用户修改配置！</p><p>在 TypeScript 3.7 中，它会被识别成一个潜在的错误：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">doAdminThing</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">user</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">User</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (user.isAdministrator) {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//  ~~~~~~~~~~~~~~~~~~~~</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// error! This condition will always return true since the function is always defined.</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//        Did you mean to call it instead?</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">doAdminThing</span><span style="color:#24292E;">(</span><span style="color:#E36209;">user</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">User</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (user.isAdministrator) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//  ~~~~~~~~~~~~~~~~~~~~</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// error! This condition will always return true since the function is always defined.</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//        Did you mean to call it instead?</span></span></code></pre></div><p>这个检查功能是一个破坏性变更，基于这个因素，检查会非常保守。 因此对这类错误的提示仅限于 <code>if</code> 条件语句中。当问题函数是可选属性、或未开启 <code>strictNullChecks</code> 选项、或该函数在 <code>if</code> 的代码块中有被调用，在这些情况下不会被视为错误：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">User</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">isAdministrator</span><span style="color:#F6F6F4;">()</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">notify</span><span style="color:#F6F6F4;">()</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">doNotDisturb</span><span style="color:#F286C4;">?</span><span style="color:#F6F6F4;">()</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">issueNotification</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">user</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">User</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (user.doNotDisturb) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#7B7F8B;">// OK，属性是可选的</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (user.notify) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#7B7F8B;">// OK，调用了该函数</span></span>
<span class="line"><span style="color:#F6F6F4;">        user.</span><span style="color:#62E884;">notify</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">User</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">isAdministrator</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">boolean</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">notify</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">void</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">doNotDisturb</span><span style="color:#D73A49;">?</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">boolean</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">issueNotification</span><span style="color:#24292E;">(</span><span style="color:#E36209;">user</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">User</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (user.doNotDisturb) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// OK，属性是可选的</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (user.notify) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// OK，调用了该函数</span></span>
<span class="line"><span style="color:#24292E;">        user.</span><span style="color:#6F42C1;">notify</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>如果你打算对该函数进行测试但不调用它，你可以修改它的类型定义，让它可能是 <code>undefined</code>/<code>null</code>，或使用 <code>!!</code> 来编写类似 <code>if (!!user.isAdministrator)</code> 的代码，表示代码逻辑确实是这样的。</p><p>我们非常感谢社区成员 <a href="https://github.com/jwbay" target="_blank" rel="noreferrer">@jwbay</a> 提出了 <a href="https://github.com/microsoft/TypeScript/pull/32802" target="_blank" rel="noreferrer">这个问题的概念</a> 并持续跟进实现了 <a href="https://github.com/microsoft/TypeScript/pull/33178" target="_blank" rel="noreferrer">这个需求的当前版本</a>。</p><h2 id="typescript-文件中的-ts-nocheck" tabindex="-1">TypeScript 文件中的 <code>// @ts-nocheck</code> <a class="header-anchor" href="#typescript-文件中的-ts-nocheck" aria-label="Permalink to &quot;TypeScript 文件中的 `// @ts-nocheck`&quot;">​</a></h2><p>TypeScript 3.7 允许我们在 TypeScript 文件的顶部添加一行 <code>// @ts-nocheck</code> 注释来关闭语义检查。 这个注释原本只在 <code>checkJs</code> 选项启用时的 JavaScript 源文件中有效，但我们扩展了它，让它能够支持 TypeScript 文件，这样所有使用者在迁移的时候会更方便。</p><h2 id="分号格式化选项" tabindex="-1">分号格式化选项 <a class="header-anchor" href="#分号格式化选项" aria-label="Permalink to &quot;分号格式化选项&quot;">​</a></h2><p>JavaScript 有一个自动分号插入（ASI，automatic semicolon insertion）规则，TypeScript 内置的格式化程序现在能支持在可选的尾分号位置插入或删除分号。该设置现在在 <a href="https://code.visualstudio.com/insiders/" target="_blank" rel="noreferrer">Visual Studio Code Insiders</a> ，以及 Visual Studio 16.4 Preview 2 中的“工具选项”菜单中可用。</p><img width="833" alt="New semicolon formatter option in VS Code" src="https://user-images.githubusercontent.com/3277153/65913194-10066e80-e395-11e9-8a3a-4f7305c397d5.png"><p>将值设定为 “insert” 或 “remove” 同时也会影响自动导入、类型提取、以及其他 TypeScript 服务提供的自动生成代码的格式。将设置保留为默认值 “ignore” 可以使生成代码的分号自动配置匹配当前文件的风格。</p><h2 id="_3-7-的破坏性变更" tabindex="-1">3.7 的破坏性变更 <a class="header-anchor" href="#_3-7-的破坏性变更" aria-label="Permalink to &quot;3.7 的破坏性变更&quot;">​</a></h2><h3 id="dom-变更" tabindex="-1">DOM 变更 <a class="header-anchor" href="#dom-变更" aria-label="Permalink to &quot;DOM 变更&quot;">​</a></h3><p><a href="https://github.com/microsoft/TypeScript/pull/33627" target="_blank" rel="noreferrer"><code>lib.dom.d.ts</code> 中的类型声明已更新</a>。 这些变更大部分是与空值检查有关的检测准确性变更，最终的影响取决于你的代码库。</p><h3 id="类字段处理" tabindex="-1">类字段处理 <a class="header-anchor" href="#类字段处理" aria-label="Permalink to &quot;类字段处理&quot;">​</a></h3><p><a href="#usedefineforclassfields-编译选项和-declare-属性修饰符">正如上文提到的</a>，TypeScript 3.7 现在能够在 <code>.d.ts</code> 文件中编译出 <code>get</code>/<code>set</code>，这可能对 3.5 和更低版本的 TypeScript 使用者来说是破坏性变更。 TypeScript 3.6 的使用者不会受影响，因为该版本对这个功能已经进行了预兼容。</p><p><code>useDefineForClassFields</code> 选项虽然自身没有破坏性变更，但不排除以下情形：</p><ul><li>在派生类中用属性声明覆盖了基类的访问器</li><li>覆盖声明属性，但是没有初始值</li></ul><p>要了解全部的影响，请查看 <a href="#usedefineforclassfields-编译选项和-declare-属性修饰符">上面关于 <code>useDefineForClassFields</code> 的章节</a>。</p><h3 id="函数真值检查" tabindex="-1">函数真值检查 <a class="header-anchor" href="#函数真值检查" aria-label="Permalink to &quot;函数真值检查&quot;">​</a></h3><p>正如上文提到的，现在当函数在 <code>if</code> 条件语句中未被调用时 TypeScript 会报错。 当 <code>if</code> 条件语句中判断的是函数时将会报错，除非符合以下情形：</p><ul><li>该函数是可选属性</li><li>未开启 <code>strictNullChecks</code> 选项</li><li>该函数在 <code>if</code> 的代码块中有被调用</li></ul><h3 id="本地和导入的类型声明现在会产生冲突" tabindex="-1">本地和导入的类型声明现在会产生冲突 <a class="header-anchor" href="#本地和导入的类型声明现在会产生冲突" aria-label="Permalink to &quot;本地和导入的类型声明现在会产生冲突&quot;">​</a></h3><p>TypeScript 之前有一个 bug，导致允许以下代码结构：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// ./someOtherModule.ts</span></span>
<span class="line"><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">SomeType</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    y</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7B7F8B;">// ./myModule.ts</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { SomeType } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">./someOtherModule</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">SomeType</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    x</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">number</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">fn</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">arg</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">SomeType</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">    console.</span><span style="color:#62E884;">log</span><span style="color:#F6F6F4;">(arg.x); </span><span style="color:#7B7F8B;">// Error! &#39;x&#39; doesn&#39;t exist on &#39;SomeType&#39;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// ./someOtherModule.ts</span></span>
<span class="line"><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SomeType</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">y</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// ./myModule.ts</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { SomeType } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;./someOtherModule&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SomeType</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">x</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fn</span><span style="color:#24292E;">(</span><span style="color:#E36209;">arg</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SomeType</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(arg.x); </span><span style="color:#6A737D;">// Error! &#39;x&#39; doesn&#39;t exist on &#39;SomeType&#39;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>这里，<code>SomeType</code> 同时来源于 <code>import</code> 声明和本地 <code>interface</code> 声明。 出人意料的是，在模块内部，<code>SomeType</code> 只会指向 <code>import</code> 的定义，而本地声明的 <code>SomeType</code> 仅在另一个文件的导入中起效。 这很令人困惑，我们对类似的个例进行的调查表明，广大开发者通常理解的情况不一样。</p><p>在 TypeScript 3.7 中，<a href="https://github.com/microsoft/TypeScript/pull/31231" target="_blank" rel="noreferrer">这个问题中的重复声明现在可以被正确地识别为一个错误</a>。 合理的修复方案取决于开发者的原始意图，并应该逐案解决。 通常，命名冲突不是故意的，最好的办法是重命名导入的那个类型。 如果是要扩展导入的类型，则可以编写模块扩展（module augmentation）来代替。</p><h3 id="_3-7-api-变化" tabindex="-1">3.7 API 变化 <a class="header-anchor" href="#_3-7-api-变化" aria-label="Permalink to &quot;3.7 API 变化&quot;">​</a></h3><p>为了实现上文中提到的递归的类型别名模式，<code>TypeReference</code> 接口已经移除了 <code>typeArguments</code> 属性。开发者应该在 <code>TypeChecker</code> 实例上使用 <code>getTypeArguments</code> 函数来代替。</p></div></div></main><footer class="VPDocFooter" data-v-a56e8ee2 data-v-75176878><!--[--><!--]--><div class="edit-info" data-v-75176878><div class="edit-link" data-v-75176878><a class="VPLink link edit-link-button" href="https://github.com/fxzer/tsdoc-vitepress/edit/main/docs/zh/release-notes/TypeScript[3.7].md" target="_blank" rel="noreferrer" data-v-75176878 data-v-5256d347><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-75176878><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> 对本页提出修改建议<!--]--><!----></a></div><div class="last-updated" data-v-75176878><p class="VPLastUpdated" data-v-75176878 data-v-2d6a91e3>上次更新: <time datetime="2023-04-28T08:00:35.000Z" data-v-2d6a91e3></time></p></div></div><div class="prev-next" data-v-75176878><div class="pager" data-v-75176878><a class="pager-link prev" href="/tsdoc-vitepress/zh/release-notes/TypeScript[3.6]" data-v-75176878><span class="desc" data-v-75176878>上一页</span><span class="title" data-v-75176878>TypeScript[3.6]</span></a></div><div class="has-prev pager" data-v-75176878><a class="pager-link next" href="/tsdoc-vitepress/zh/release-notes/TypeScript[3.8]" data-v-75176878><span class="desc" data-v-75176878>下一页</span><span class="title" data-v-75176878>TypeScript[3.8]</span></a></div></div></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-14413106 data-v-5bdf9d07><div class="container" data-v-5bdf9d07><p class="message" data-v-5bdf9d07>Released under the <a href="https://github.com/fxzer/tsdoc-vitepress/blob/main/LICENSE">MIT License</a>.</p><p class="copyright" data-v-5bdf9d07>Copyright © 2023-present <a href="https://github.com/fxzer">fxzer</a>.</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"en_declaration-files_consumption.md\":\"bcbd60c2\",\"en_declaration-files_introduction.md\":\"6642c202\",\"en_declaration-files_deep dive.md\":\"577a1e85\",\"en_declaration-files_dos and donts.md\":\"d4e16445\",\"en_declaration-files_by example.md\":\"25fc135c\",\"en_declaration-files_templates.md\":\"a22b1678\",\"en_declaration-files_publishing.md\":\"f4ff7b27\",\"en_declaration-files_library structures.md\":\"4f356088\",\"en_declaration-files_templates_global-modifying-module.md\":\"cfd2dcf3\",\"en_declaration-files_templates_global.md\":\"ba5169a3\",\"en_declaration-files_templates_global-plugin.md\":\"4cb353de\",\"en_declaration-files_templates_module-class.md\":\"cdbd4909\",\"en_declaration-files_templates_module-function.md\":\"faf3e40f\",\"en_declaration-files_templates_module-plugin.md\":\"dd7e0eb0\",\"en_declaration-files_templates_module.md\":\"4c95b0a4\",\"en_handbooks_handbook-v1_classes.md\":\"be47b126\",\"en_handbooks_handbook-v1_generics.md\":\"5d2f15f9\",\"en_handbooks_handbook-v1_functions.md\":\"e7756734\",\"en_handbooks_handbook-v1_literal types.md\":\"638880f8\",\"en_handbooks_handbook-v1_interfaces.md\":\"be58a44a\",\"en_handbooks_handbook-v1_unions and intersections.md\":\"8bb64b86\",\"en_handbooks_handbook-v2_basics.md\":\"eb1bd73c\",\"en_handbooks_handbook-v2_modules.md\":\"6dddcdc4\",\"en_handbooks_handbook-v2_everyday types.md\":\"63ba1ee5\",\"en_handbooks_handbook-v2_classes.md\":\"b23f3469\",\"en_handbooks_handbook-v2_type declarations.md\":\"3af74799\",\"en_handbooks_handbook-v2_the handbook.md\":\"2c1d1bcd\",\"en_handbooks_handbook-v2_more on functions.md\":\"0f349580\",\"en_handbooks_handbook-v2_type manipulation_conditional types.md\":\"3f08f067\",\"en_handbooks_handbook-v2_narrowing.md\":\"341202f4\",\"en_handbooks_handbook-v2_type manipulation_keyof type operator.md\":\"3a6caf08\",\"en_handbooks_handbook-v2_type manipulation_generics.md\":\"f8f5cde1\",\"en_handbooks_handbook-v2_type manipulation_indexed access types.md\":\"125819c2\",\"en_handbooks_handbook-v2_object types.md\":\"c5a592b4\",\"en_handbooks_handbook-v2_type manipulation__creating types from types.md\":\"24d35a2e\",\"en_handbooks_handbook-v2_type manipulation_mapped types.md\":\"a3ebc62f\",\"en_index.md\":\"dc700cd2\",\"en_handbooks_handbook-v2_type manipulation_typeof type operator.md\":\"3a3a01ee\",\"en_handbooks_handbook-v2_understanding errors.md\":\"5c88690f\",\"en_handbooks_handbook-v2_type manipulation_template literal types.md\":\"1b7fe6fe\",\"en_reference_declaration merging.md\":\"d006efaa\",\"en_reference_esm support for node.md\":\"a2a91885\",\"en_reference_decorators.md\":\"a8302bab\",\"en_reference_iterators and generators.md\":\"5d071039\",\"en_reference_enums.md\":\"0aec9f75\",\"en_reference_advanced types.md\":\"ac48a803\",\"en_reference_module resolution.md\":\"d8f44076\",\"en_reference_jsx.md\":\"2a979235\",\"en_reference_mixins.md\":\"01f62097\",\"en_reference_namespaces and modules.md\":\"27534809\",\"en_reference_symbols.md\":\"97cfe8ea\",\"en_reference_triple-slash directives.md\":\"9d169299\",\"en_reference_namespaces.md\":\"ca910fae\",\"en_reference_type inference.md\":\"62150972\",\"en_reference_type compatibility.md\":\"3c76e73d\",\"en_reference_modules.md\":\"d0aa1cf3\",\"en_release-notes_typescript_1.1_.md\":\"14b896f2\",\"en_reference_utility types.md\":\"5427117d\",\"en_release-notes_typescript_1.3_.md\":\"0a01de5f\",\"en_reference_variable declarations.md\":\"e47c0ddb\",\"en_release-notes_typescript_1.4_.md\":\"2ac2e06f\",\"en_release-notes_typescript_1.5_.md\":\"17c37dd9\",\"en_release-notes_typescript_1.7_.md\":\"e95caa20\",\"en_release-notes_typescript_1.6_.md\":\"d8e967ae\",\"en_release-notes_typescript_1.8_.md\":\"cc9adc39\",\"en_release-notes_typescript_2.0_.md\":\"94439187\",\"en_release-notes_typescript_2.1_.md\":\"6b87bd85\",\"en_release-notes_typescript_2.5_.md\":\"9b5d5b49\",\"en_release-notes_typescript_2.3_.md\":\"a72b750e\",\"en_release-notes_typescript_2.2_.md\":\"c9885ff6\",\"en_release-notes_typescript_2.4_.md\":\"425f27af\",\"en_release-notes_typescript_2.6_.md\":\"eb7c89ee\",\"en_release-notes_typescript_2.7_.md\":\"196b39b5\",\"en_release-notes_typescript_3.1_.md\":\"5171d430\",\"en_release-notes_typescript_2.9_.md\":\"36b9c502\",\"en_release-notes_typescript_3.2_.md\":\"a7852f7f\",\"en_release-notes_typescript_3.3_.md\":\"90c74480\",\"en_release-notes_typescript_2.8_.md\":\"95375ea1\",\"en_release-notes_typescript_3.5_.md\":\"91c6a29f\",\"en_release-notes_typescript_3.0_.md\":\"bcd60963\",\"en_release-notes_typescript_3.4_.md\":\"bca57e86\",\"en_release-notes_typescript_3.6_.md\":\"733d3b35\",\"en_release-notes_typescript_3.7_.md\":\"8adca3ef\",\"en_release-notes_typescript_3.8_.md\":\"a8fecc1c\",\"en_release-notes_typescript_3.9_.md\":\"61432615\",\"en_release-notes_typescript_4.0_.md\":\"1b573d4f\",\"en_release-notes_typescript_4.1_.md\":\"48f3476f\",\"en_release-notes_typescript_4.2_.md\":\"83ace6a5\",\"en_release-notes_typescript_4.3_.md\":\"d7a877f6\",\"en_release-notes_typescript_4.5_.md\":\"ba8ecfc2\",\"en_release-notes_typescript_4.4_.md\":\"2c5c2df6\",\"en_release-notes_typescript_4.6_.md\":\"a67b81d1\",\"en_release-notes_typescript_4.8_.md\":\"660f17a6\",\"en_release-notes_typescript_4.9_.md\":\"1a4d9b8c\",\"en_release-notes_typescript_4.7_.md\":\"cf6244b8\",\"en_tsconfig-reference_options_allowimportingtsextensions.md\":\"b9ae2ddd\",\"en_tsconfig-reference_options_allowjs.md\":\"6a19c060\",\"en_tsconfig-reference_options_allowsyntheticdefaultimports.md\":\"ab49d362\",\"en_tsconfig-reference_options_allowarbitraryextensions.md\":\"16203c0d\",\"en_tsconfig-reference_options_allowumdglobalaccess.md\":\"b6b9b173\",\"en_tsconfig-reference_options_alwaysstrict.md\":\"1074ec9f\",\"en_tsconfig-reference_options_assumechangesonlyaffectdirectdependencies.md\":\"58e83004\",\"en_tsconfig-reference_index.md\":\"741a135b\",\"en_tsconfig-reference_options_allowunusedlabels.md\":\"d29221e7\",\"en_tsconfig-reference_options_allowunreachablecode.md\":\"8e9db130\",\"en_tsconfig-reference_options_charset.md\":\"2d2074b8\",\"en_tsconfig-reference_options_clean.md\":\"038e296d\",\"en_tsconfig-reference_options_baseurl.md\":\"2d794bb3\",\"en_tsconfig-reference_options_checkjs.md\":\"8e31ee87\",\"en_tsconfig-reference_options_composite.md\":\"0c362dbe\",\"en_tsconfig-reference_options_declarationdir.md\":\"42ec972a\",\"en_tsconfig-reference_options_declaration.md\":\"4d63f00c\",\"en_tsconfig-reference_options_disablefilenamebasedtypeacquisition.md\":\"1e00fd8b\",\"en_tsconfig-reference_options_declarationmap.md\":\"7ae6f527\",\"en_tsconfig-reference_options_diagnostics.md\":\"566fcd8b\",\"en_tsconfig-reference_options_customconditions.md\":\"5f81eea0\",\"en_tsconfig-reference_options_disablereferencedprojectload.md\":\"c6ff6883\",\"en_tsconfig-reference_options_disablesolutionsearching.md\":\"d08898c1\",\"en_tsconfig-reference_options_disablesourceofprojectreferenceredirect.md\":\"cdcc8ca3\",\"en_tsconfig-reference_options_disablesizelimit.md\":\"e38c02b4\",\"en_tsconfig-reference_options_emitdeclarationonly.md\":\"90ccff13\",\"en_tsconfig-reference_options_downleveliteration.md\":\"2dea7480\",\"en_tsconfig-reference_options_emitbom.md\":\"d6cb8a8f\",\"en_tsconfig-reference_options_excludefiles.md\":\"ff89957c\",\"en_tsconfig-reference_options_excludedirectories.md\":\"bcb1481c\",\"en_tsconfig-reference_options_esmoduleinterop.md\":\"a86bc857\",\"en_tsconfig-reference_options_emitdecoratormetadata.md\":\"f2d3f892\",\"en_tsconfig-reference_options_exclude.md\":\"2c97c938\",\"en_tsconfig-reference_options_exactoptionalpropertytypes.md\":\"b4efc9eb\",\"en_tsconfig-reference_options_include.md\":\"297f462a\",\"en_tsconfig-reference_options_incremental.md\":\"b1f9ce65\",\"en_tsconfig-reference_options_experimentaldecorators.md\":\"efa75d70\",\"en_tsconfig-reference_options_fallbackpolling.md\":\"a3a265ac\",\"en_tsconfig-reference_options_force.md\":\"d877be74\",\"en_tsconfig-reference_options_files.md\":\"91839e8d\",\"en_tsconfig-reference_options_extendeddiagnostics.md\":\"d02daa42\",\"en_tsconfig-reference_options_explainfiles.md\":\"8e5f8633\",\"en_tsconfig-reference_options_forceconsistentcasinginfilenames.md\":\"19ce601c\",\"en_tsconfig-reference_options_extends.md\":\"ef75b1e8\",\"en_tsconfig-reference_options_inlinesourcemap.md\":\"bc840f0a\",\"en_tsconfig-reference_options_importhelpers.md\":\"c574e902\",\"en_tsconfig-reference_options_importsnotusedasvalues.md\":\"34fa63ae\",\"en_tsconfig-reference_options_enable.md\":\"bdad1cfb\",\"en_tsconfig-reference_options_generatecpuprofile.md\":\"ab16efcb\",\"en_tsconfig-reference_options_inlinesources.md\":\"8d5c0b39\",\"en_tsconfig-reference_options_keyofstringsonly.md\":\"a3bf4303\",\"en_tsconfig-reference_options_isolatedmodules.md\":\"ce76cc33\",\"en_tsconfig-reference_options_jsxfactory.md\":\"48318ab9\",\"en_tsconfig-reference_options_jsximportsource.md\":\"3df18b5c\",\"en_tsconfig-reference_options_jsxfragmentfactory.md\":\"5fa90838\",\"en_tsconfig-reference_options_jsx.md\":\"41b132e0\",\"en_tsconfig-reference_options_listfiles.md\":\"45f57164\",\"en_tsconfig-reference_options_listemittedfiles.md\":\"4b79f621\",\"en_tsconfig-reference_options_locale.md\":\"c6c77855\",\"en_tsconfig-reference_options_maproot.md\":\"bd041efa\",\"en_tsconfig-reference_options_lib.md\":\"5a6d81ce\",\"en_tsconfig-reference_options_moduleresolution.md\":\"e0300d39\",\"en_tsconfig-reference_options_module.md\":\"042a87d2\",\"en_tsconfig-reference_options_moduledetection.md\":\"fc4993f8\",\"en_tsconfig-reference_options_maxnodemodulejsdepth.md\":\"40aa4935\",\"en_tsconfig-reference_options_nofallthroughcasesinswitch.md\":\"a5dc6525\",\"en_tsconfig-reference_options_modulesuffixes.md\":\"c56282df\",\"en_tsconfig-reference_options_noimplicitreturns.md\":\"56310b8c\",\"en_tsconfig-reference_options_noimplicitoverride.md\":\"a8c4f5c5\",\"en_tsconfig-reference_options_noemit.md\":\"7bdfe0b0\",\"en_tsconfig-reference_options_noemitonerror.md\":\"e56de2d4\",\"en_tsconfig-reference_options_noemithelpers.md\":\"e5846c65\",\"en_tsconfig-reference_options_newline.md\":\"1fa8b457\",\"en_tsconfig-reference_options_noimplicitany.md\":\"3bec07e3\",\"en_tsconfig-reference_options_noerrortruncation.md\":\"1485ebaa\",\"en_release-notes_typescript_5.0_.md\":\"1477722d\",\"en_tsconfig-reference_options_nolib.md\":\"1badb38a\",\"en_tsconfig-reference_options_noresolve.md\":\"3c0c1229\",\"en_tsconfig-reference_options_noimplicitusestrict.md\":\"b81777de\",\"en_tsconfig-reference_options_noimplicitthis.md\":\"402d6bc0\",\"en_tsconfig-reference_options_nostrictgenericchecks.md\":\"6c15dcf3\",\"en_tsconfig-reference_options_nopropertyaccessfromindexsignature.md\":\"8b709560\",\"en_tsconfig-reference_options_preservevalueimports.md\":\"b598a70b\",\"en_tsconfig-reference_options_pretty.md\":\"48099cd7\",\"en_tsconfig-reference_options_preservesymlinks.md\":\"323a4e5b\",\"en_tsconfig-reference_options_references.md\":\"be04a346\",\"en_tsconfig-reference_options_outfile.md\":\"0f0c31eb\",\"en_tsconfig-reference_options_out.md\":\"ab34ce60\",\"en_tsconfig-reference_options_removecomments.md\":\"5208b465\",\"en_tsconfig-reference_options_nouncheckedindexedaccess.md\":\"77b23e6e\",\"en_tsconfig-reference_options_preserveconstenums.md\":\"feb23c05\",\"en_tsconfig-reference_options_preservewatchoutput.md\":\"987a9d0f\",\"en_tsconfig-reference_options_paths.md\":\"a4265f30\",\"en_tsconfig-reference_options_outdir.md\":\"b968d27c\",\"en_tsconfig-reference_options_resolvepackagejsonimports.md\":\"3337d540\",\"en_tsconfig-reference_options_resolvejsonmodule.md\":\"39be158c\",\"en_tsconfig-reference_options_resolvepackagejsonexports.md\":\"0510f89d\",\"en_tsconfig-reference_options_reactnamespace.md\":\"164b4901\",\"en_tsconfig-reference_options_nounusedlocals.md\":\"6a680bf1\",\"en_tsconfig-reference_options_nounusedparameters.md\":\"be775236\",\"en_tsconfig-reference_options_skipdefaultlibcheck.md\":\"d0a18e4f\",\"en_tsconfig-reference_options_rootdirs.md\":\"fb9ec6b5\",\"en_tsconfig-reference_options_skiplibcheck.md\":\"4ea8492e\",\"en_tsconfig-reference_options_plugins.md\":\"5751f7ee\",\"en_tsconfig-reference_options_sourceroot.md\":\"8c4c5efe\",\"en_tsconfig-reference_options_strict.md\":\"48745577\",\"en_tsconfig-reference_options_strictbindcallapply.md\":\"4bc99d68\",\"en_tsconfig-reference_options_sourcemap.md\":\"45ca2771\",\"en_tsconfig-reference_options_strictpropertyinitialization.md\":\"221c68ef\",\"en_tsconfig-reference_options_strictfunctiontypes.md\":\"accd7291\",\"en_tsconfig-reference_options_strictnullchecks.md\":\"e5419ff2\",\"en_tsconfig-reference_options_suppressexcesspropertyerrors.md\":\"6562811f\",\"en_tsconfig-reference_options_target.md\":\"c644eba6\",\"en_tsconfig-reference_options_suppressimplicitanyindexerrors.md\":\"97c08a77\",\"en_tsconfig-reference_options_stripinternal.md\":\"f1f56b66\",\"en_tsconfig-reference_options_rootdir.md\":\"a482e7f3\",\"en_tsconfig-reference_options_typeacquisition_exclude.md\":\"a13bd698\",\"en_tsconfig-reference_options_typeacquisition_include.md\":\"7181dff5\",\"en_tsconfig-reference_options_synchronouswatchdirectory.md\":\"4b6c68d0\",\"en_tsconfig-reference_options_tsbuildinfofile.md\":\"566c43bd\",\"en_tsconfig-reference_options_typeroots.md\":\"5e85993a\",\"en_tsconfig-reference_options_traceresolution.md\":\"17e3998d\",\"en_tsconfig-reference_options_types.md\":\"c883e0af\",\"en_tsconfig-reference_options_typeacquisition.md\":\"b2e9cd17\",\"en_tsconfig-reference_options_useunknownincatchvariables.md\":\"9e2412a6\",\"en_tsconfig-reference_options_usedefineforclassfields.md\":\"38ef240c\",\"en_tsconfig-reference_options_verbose.md\":\"0675a257\",\"en_tsconfig-reference_options_watchdirectory.md\":\"ce93cfde\",\"en_tsconfig-reference_options_watchfile.md\":\"19d0f19d\",\"en_tsconfig-reference_options_verbatimmodulesyntax.md\":\"0d6921d0\",\"en_tsconfig-reference_project-config_configuring watch.md\":\"184e36c9\",\"en_tsconfig-reference_project-config_compiler options in msbuild.md\":\"ba3baa49\",\"en_tsconfig-reference_project-config_compiler options.md\":\"1662ddfd\",\"en_tsconfig-reference_sections_compileroptions.md\":\"30faa6f4\",\"en_tsconfig-reference_sections_top level.md\":\"b8dfbb58\",\"en_tsconfig-reference_sections_buildoptions.md\":\"e1a756c8\",\"en_tsconfig-reference_sections_typeacquisition.md\":\"85e0653e\",\"en_tsconfig-reference_project-config_project references.md\":\"69233ed9\",\"en_tsconfig-reference_sections_watchoptions.md\":\"2ca7aaa5\",\"en_tutorials_babel with typescript.md\":\"aef363b8\",\"en_tsconfig-reference_project-config_tsconfig.md\":\"9c5df594\",\"en_tutorials_angular.md\":\"3feb69ac\",\"en_tsconfig-reference_project-config_integrating with build tools.md\":\"b4f0e558\",\"en_tutorials_asp.net core.md\":\"aa80f0a2\",\"en_tutorials_dom manipulation.md\":\"9cf57da5\",\"en_tutorials_react.md\":\"b1e61105\",\"en_tutorials_typescript tooling in 5 minutes.md\":\"6267b8c2\",\"en_tutorials_gulp.md\":\"2184b5f1\",\"en_tutorials_migrating from javascript.md\":\"9a266288\",\"en_tutorials_javascript_creating dts files from js.md\":\"4d058ee8\",\"en_tutorials_javascript_intro to js with ts.md\":\"e40a757e\",\"en_tutorials_get-started_ts for the new programmer.md\":\"98fd7271\",\"en_tutorials_get-started_ts for oopers.md\":\"2cb59161\",\"zh_declaration-files_consumption.md\":\"f17c2462\",\"en_tutorials_get-started_ts for functional programmers.md\":\"116b787b\",\"en_tutorials_get-started_ts for js programmers.md\":\"de486b85\",\"zh_declaration-files_deep dive.md\":\"3a7c8da9\",\"zh_declaration-files_by example.md\":\"4c3a3a13\",\"zh_declaration-files_introduction.md\":\"05449392\",\"en_tutorials_javascript_type checking javascript files.md\":\"aa3519bb\",\"zh_declaration-files_dos and donts.md\":\"26ca0b87\",\"zh_declaration-files_templates_global-modifying-module.md\":\"ed41bf36\",\"zh_declaration-files_templates.md\":\"f1ea2a03\",\"zh_declaration-files_publishing.md\":\"88d9800d\",\"en_tutorials_javascript_jsdoc reference.md\":\"c6e58ded\",\"zh_declaration-files_templates_module-plugin.md\":\"64d12ef3\",\"zh_declaration-files_templates_module-class.md\":\"8171b8f9\",\"zh_declaration-files_templates_module.md\":\"315d0ce2\",\"zh_declaration-files_library structures.md\":\"7e2d0560\",\"zh_declaration-files_templates_module-function.md\":\"b3b21d45\",\"zh_declaration-files_templates_global.md\":\"c6380a77\",\"zh_declaration-files_templates_global-plugin.md\":\"1f7fb17c\",\"zh_handbooks_handbook-v1_basictypes.md\":\"3c512e4c\",\"zh_handbooks_handbook-v1_enums.md\":\"41cd4aae\",\"zh_handbooks_handbook-v1_literal types.md\":\"76d198a5\",\"zh_handbooks_handbook-v1_classes.md\":\"1a25bece\",\"zh_handbooks_handbook-v1_generics.md\":\"591c5ce6\",\"zh_handbooks_handbook-v2_basics.md\":\"8bd62467\",\"zh_handbooks_handbook-v1_functions.md\":\"e617a336\",\"zh_handbooks_handbook-v1_unions and intersections.md\":\"cdee2746\",\"zh_handbooks_handbook-v1_interfaces.md\":\"c304b610\",\"zh_handbooks_handbook-v2_modules.md\":\"cf6bace7\",\"zh_handbooks_handbook-v2_everyday types.md\":\"ad150864\",\"zh_handbooks_handbook-v2_classes.md\":\"76965538\",\"zh_handbooks_handbook-v2_more on functions.md\":\"d3b1465a\",\"zh_handbooks_handbook-v2_type declarations.md\":\"fdc78c39\",\"zh_handbooks_handbook-v2_type manipulation_creating types from types.md\":\"42c8e247\",\"zh_handbooks_handbook-v2_type manipulation_keyof type operator.md\":\"2b3f3101\",\"zh_handbooks_handbook-v2_type manipulation_conditional types.md\":\"11a3a08a\",\"zh_handbooks_handbook-v2_narrowing.md\":\"f452e59a\",\"zh_handbooks_handbook-v2_type manipulation_indexed access types.md\":\"762f87c7\",\"zh_handbooks_handbook-v2_type manipulation_generics.md\":\"cbae5cf9\",\"zh_handbooks_handbook-v2_type manipulation_mapped types.md\":\"c54dbf21\",\"zh_handbooks_handbook-v2_type manipulation_template literal types.md\":\"2d129a68\",\"zh_handbooks_handbook-v2_object types.md\":\"b0db2f92\",\"zh_index.md\":\"45633184\",\"zh_handbooks_handbook-v2_understanding errors.md\":\"1ea58637\",\"zh_handbooks_handbook-v2_type manipulation_typeof type operator.md\":\"ee33ee34\",\"zh_reference_declaration merging.md\":\"98a40911\",\"zh_reference_iterators and generators.md\":\"3f915bb9\",\"zh_reference_esm support for node.md\":\"02ad0e6c\",\"zh_reference_decorators.md\":\"5733b600\",\"zh_reference_enums.md\":\"2dd09d24\",\"zh_reference_mixins.md\":\"b984cae2\",\"zh_reference_module resolution.md\":\"eefcbf5a\",\"zh_reference_jsx.md\":\"0d9d3c6d\",\"zh_reference_namespaces and modules.md\":\"21c3d706\",\"zh_reference_symbols.md\":\"67155540\",\"zh_reference_triple-slash directives.md\":\"5f769229\",\"zh_reference_namespaces.md\":\"10991327\",\"zh_reference_type inference.md\":\"4912f2c0\",\"zh_reference_advanced types.md\":\"6d34b615\",\"zh_reference_type compatibility.md\":\"b7146c30\",\"zh_reference_modules.md\":\"13772585\",\"zh_release-notes_typescript_1.1_.md\":\"6289a890\",\"zh_release-notes_typescript_1.3_.md\":\"2902b704\",\"zh_release-notes_typescript_1.4_.md\":\"46ff88aa\",\"zh_reference_utility types.md\":\"2e1c15fb\",\"zh_release-notes_typescript_1.5_.md\":\"9c8f98e4\",\"zh_release-notes_typescript_1.7_.md\":\"62e1d521\",\"zh_reference_variable declarations.md\":\"a91d2cc7\",\"zh_release-notes_typescript_1.6_.md\":\"9e5fd1fa\",\"zh_release-notes_typescript_1.8_.md\":\"af8e727e\",\"zh_release-notes_typescript_2.0_.md\":\"86663d2a\",\"zh_release-notes_typescript_2.1_.md\":\"e92c8205\",\"zh_release-notes_typescript_2.3_.md\":\"c20ca846\",\"zh_release-notes_typescript_2.2_.md\":\"edfba508\",\"zh_release-notes_typescript_2.5_.md\":\"d42e8b0a\",\"zh_release-notes_typescript_2.4_.md\":\"c5fc2920\",\"zh_release-notes_typescript_2.6_.md\":\"72173839\",\"zh_release-notes_typescript_2.7_.md\":\"bfeacee6\",\"zh_release-notes_typescript_2.9_.md\":\"49262f99\",\"zh_release-notes_typescript_3.1_.md\":\"4307d00b\",\"zh_release-notes_typescript_3.0_.md\":\"401dbff2\",\"zh_release-notes_typescript_2.8_.md\":\"db4a6911\",\"zh_release-notes_typescript_3.3_.md\":\"1e33d307\",\"zh_release-notes_typescript_3.2_.md\":\"02a9cfe2\",\"zh_release-notes_typescript_3.5_.md\":\"3560efd2\",\"zh_release-notes_typescript_3.4_.md\":\"b0c6b9d6\",\"zh_release-notes_typescript_3.6_.md\":\"2fe61406\",\"zh_release-notes_typescript_3.9_.md\":\"e613a759\",\"zh_release-notes_typescript_3.8_.md\":\"6ce915cc\",\"zh_release-notes_typescript_3.7_.md\":\"a30f9a61\",\"zh_release-notes_typescript_4.0_.md\":\"7542b048\",\"zh_release-notes_typescript_4.1_.md\":\"000fe4c5\",\"zh_release-notes_typescript_4.2_.md\":\"3048fc6a\",\"zh_release-notes_typescript_4.5_.md\":\"08606adc\",\"zh_release-notes_typescript_4.4_.md\":\"e20f23c1\",\"zh_release-notes_typescript_4.6_.md\":\"5835f647\",\"zh_release-notes_typescript_4.3_.md\":\"9d26dba8\",\"zh_release-notes_typescript_4.8_.md\":\"631a205a\",\"zh_tsconfig-reference_options_allowimportingtsextensions.md\":\"a30a78fe\",\"zh_tsconfig-reference_options_allowarbitraryextensions.md\":\"80a80a03\",\"zh_tsconfig-reference_options_allowjs.md\":\"d23dea50\",\"zh_tsconfig-reference_options_baseurl.md\":\"018a7683\",\"zh_tsconfig-reference_options_assumechangesonlyaffectdirectdependencies.md\":\"9fdc4f77\",\"zh_tsconfig-reference_options_alwaysstrict.md\":\"3be7862f\",\"zh_tsconfig-reference_options_composite.md\":\"3865fab1\",\"zh_tsconfig-reference_options_clean.md\":\"f53edf09\",\"zh_tsconfig-reference_options_charset.md\":\"03f443fa\",\"zh_tsconfig-reference_options_allowunreachablecode.md\":\"7c2b8532\",\"zh_tsconfig-reference_options_customconditions.md\":\"716baf89\",\"zh_tsconfig-reference_options_disablesourceofprojectreferenceredirect.md\":\"aa47c9b9\",\"zh_tsconfig-reference_options_emitdeclarationonly.md\":\"7b5402d8\",\"zh_release-notes_typescript_4.7_.md\":\"305c7c7d\",\"zh_tsconfig-reference_options_emitbom.md\":\"aac4e075\",\"zh_tsconfig-reference_options_checkjs.md\":\"dd22e1f2\",\"zh_tsconfig-reference_options_enable.md\":\"6f01ca36\",\"zh_release-notes_typescript_5.0_.md\":\"cbece18b\",\"zh_release-notes_typescript_4.9_.md\":\"71319a1b\",\"zh_tsconfig-reference_options_downleveliteration.md\":\"e4b7aad8\",\"zh_tsconfig-reference_options_allowunusedlabels.md\":\"1b82ccd3\",\"zh_tsconfig-reference_options_declaration.md\":\"e9d6c1a9\",\"zh_tsconfig-reference_options_emitdecoratormetadata.md\":\"e9ca8a18\",\"zh_tsconfig-reference_options_disablesizelimit.md\":\"c48f06d9\",\"zh_tsconfig-reference_options_allowumdglobalaccess.md\":\"ce2d956e\",\"zh_tsconfig-reference_options_declarationmap.md\":\"61dbaa9e\",\"zh_tsconfig-reference_options_declarationdir.md\":\"cc803303\",\"zh_tsconfig-reference_options_excludedirectories.md\":\"1dd27fa7\",\"zh_tsconfig-reference_options_allowsyntheticdefaultimports.md\":\"dcb671b1\",\"zh_tsconfig-reference_options_exclude.md\":\"5cebda1b\",\"zh_tsconfig-reference_options_disablesolutionsearching.md\":\"fdfe34f4\",\"zh_tsconfig-reference_options_diagnostics.md\":\"70c74b5c\",\"zh_tsconfig-reference_options_disablefilenamebasedtypeacquisition.md\":\"d46cdd6f\",\"zh_tsconfig-reference_options_disablereferencedprojectload.md\":\"f73e61c8\",\"zh_tsconfig-reference_options_exactoptionalpropertytypes.md\":\"a1f80e2e\",\"zh_tsconfig-reference_options_files.md\":\"d2f58089\",\"zh_tsconfig-reference_options_incremental.md\":\"712dcea1\",\"zh_tsconfig-reference_options_esmoduleinterop.md\":\"d88d9b71\",\"zh_tsconfig-reference_options_importsnotusedasvalues.md\":\"ca00c778\",\"zh_tsconfig-reference_options_generatecpuprofile.md\":\"329ca7c0\",\"zh_tsconfig-reference_options_force.md\":\"8076789d\",\"zh_tsconfig-reference_options_fallbackpolling.md\":\"aab1f4d8\",\"zh_tsconfig-reference_options_include.md\":\"fe51786a\",\"zh_tsconfig-reference_options_extends.md\":\"3174a8f6\",\"zh_tsconfig-reference_options_extendeddiagnostics.md\":\"29abd10c\",\"zh_tsconfig-reference_options_forceconsistentcasinginfilenames.md\":\"eea0babf\",\"zh_tsconfig-reference_options_experimentaldecorators.md\":\"b22b9243\",\"zh_tsconfig-reference_options_explainfiles.md\":\"de0f5e72\",\"zh_tsconfig-reference_options_excludefiles.md\":\"792b8fce\",\"zh_tsconfig-reference_options_importhelpers.md\":\"b6050009\",\"zh_tsconfig-reference_options_inlinesources.md\":\"e9557752\",\"zh_tsconfig-reference_options_inlinesourcemap.md\":\"8488ee5c\",\"zh_tsconfig-reference_options_isolatedmodules.md\":\"d12cf106\",\"zh_tsconfig-reference_options_jsxfactory.md\":\"49950093\",\"zh_tsconfig-reference_options_keyofstringsonly.md\":\"43ea81f2\",\"zh_tsconfig-reference_options_jsxfragmentfactory.md\":\"49706859\",\"zh_tsconfig-reference_options_maproot.md\":\"ab012281\",\"zh_tsconfig-reference_options_noimplicitreturns.md\":\"3cc108a4\",\"zh_tsconfig-reference_options_lib.md\":\"858e1267\",\"zh_tsconfig-reference_options_newline.md\":\"948927a2\",\"zh_tsconfig-reference_options_noimplicitusestrict.md\":\"da04d55d\",\"zh_tsconfig-reference_options_noimplicitthis.md\":\"81e82417\",\"zh_tsconfig-reference_options_locale.md\":\"bbd7f307\",\"zh_tsconfig-reference_options_listemittedfiles.md\":\"b6ac8c52\",\"zh_tsconfig-reference_options_noimplicitoverride.md\":\"19e593a7\",\"zh_tsconfig-reference_options_nolib.md\":\"e1cd6dde\",\"zh_tsconfig-reference_options_maxnodemodulejsdepth.md\":\"5bf4f85f\",\"zh_tsconfig-reference_options_nofallthroughcasesinswitch.md\":\"f757be7a\",\"zh_tsconfig-reference_options_noerrortruncation.md\":\"1b3ee61c\",\"zh_tsconfig-reference_options_noresolve.md\":\"10201404\",\"zh_tsconfig-reference_options_moduledetection.md\":\"bfad3bd6\",\"zh_tsconfig-reference_options_moduleresolution.md\":\"d8909874\",\"zh_tsconfig-reference_options_nopropertyaccessfromindexsignature.md\":\"835c11a3\",\"zh_tsconfig-reference_options_jsx.md\":\"1f5cf768\",\"zh_tsconfig-reference_options_modulesuffixes.md\":\"8773fa4a\",\"zh_tsconfig-reference_options_noemit.md\":\"844a4ce5\",\"zh_tsconfig-reference_options_noemithelpers.md\":\"8feefc1f\",\"zh_tsconfig-reference_options_nouncheckedindexedaccess.md\":\"ba8c70fe\",\"zh_tsconfig-reference_options_nounusedparameters.md\":\"ed061c48\",\"zh_tsconfig-reference_options_nounusedlocals.md\":\"3b3e59aa\",\"zh_tsconfig-reference_options_nostrictgenericchecks.md\":\"13d009c5\",\"zh_tsconfig-reference_options_noimplicitany.md\":\"fe105cea\",\"zh_tsconfig-reference_options_jsximportsource.md\":\"fd67865e\",\"zh_tsconfig-reference_options_out.md\":\"41784b70\",\"zh_tsconfig-reference_options_outfile.md\":\"ac372cfd\",\"zh_tsconfig-reference_options_noemitonerror.md\":\"5f50819b\",\"zh_tsconfig-reference_options_outdir.md\":\"74ac4fb7\",\"zh_tsconfig-reference_options_listfiles.md\":\"a2166bf4\",\"zh_tsconfig-reference_options_module.md\":\"39cc57e7\",\"zh_tsconfig-reference_options_plugins.md\":\"126f0627\",\"zh_tsconfig-reference_options_paths.md\":\"2029f037\",\"zh_tsconfig-reference_options_preservesymlinks.md\":\"56a72599\",\"zh_tsconfig-reference_options_preservewatchoutput.md\":\"ce39f8c8\",\"zh_tsconfig-reference_options_preservevalueimports.md\":\"e1f3e8c3\",\"zh_tsconfig-reference_options_references.md\":\"f6a8344a\",\"zh_tsconfig-reference_options_reactnamespace.md\":\"13d94bf8\",\"zh_tsconfig-reference_options_removecomments.md\":\"41f3ea35\",\"zh_tsconfig-reference_options_resolvepackagejsonexports.md\":\"ce141984\",\"zh_tsconfig-reference_options_resolvepackagejsonimports.md\":\"cea45306\",\"zh_tsconfig-reference_options_preserveconstenums.md\":\"6ba61a06\",\"zh_tsconfig-reference_options_pretty.md\":\"76283e22\",\"zh_tsconfig-reference_options_resolvejsonmodule.md\":\"6e12b396\",\"zh_tsconfig-reference_options_rootdir.md\":\"83b9a27d\",\"zh_tsconfig-reference_options_skipdefaultlibcheck.md\":\"51eb7a30\",\"zh_tsconfig-reference_options_skiplibcheck.md\":\"aff5bc4a\",\"zh_tsconfig-reference_options_sourceroot.md\":\"05257150\",\"zh_tsconfig-reference_options_sourcemap.md\":\"6e3f82fb\",\"zh_tsconfig-reference_options_rootdirs.md\":\"0ab60ede\",\"zh_tsconfig-reference_options_strict.md\":\"e5700651\",\"zh_tsconfig-reference_options_strictbindcallapply.md\":\"78d4c26d\",\"zh_tsconfig-reference_options_strictfunctiontypes.md\":\"14c84b24\",\"zh_tsconfig-reference_options_strictpropertyinitialization.md\":\"5454173d\",\"zh_tsconfig-reference_options_suppressexcesspropertyerrors.md\":\"1a4eeffa\",\"zh_tsconfig-reference_options_synchronouswatchdirectory.md\":\"e9c13194\",\"zh_tsconfig-reference_options_stripinternal.md\":\"5c609607\",\"zh_tsconfig-reference_options_strictnullchecks.md\":\"e99ecfe9\",\"zh_tsconfig-reference_options_traceresolution.md\":\"68beee61\",\"zh_tsconfig-reference_options_target.md\":\"e5cc3e84\",\"zh_tsconfig-reference_options_suppressimplicitanyindexerrors.md\":\"c8d8f0ef\",\"zh_tsconfig-reference_options_typeacquisition_exclude.md\":\"a5f5f719\",\"zh_tsconfig-reference_options_typeroots.md\":\"72d42b26\",\"zh_tsconfig-reference_options_tsbuildinfofile.md\":\"a92d3808\",\"zh_tsconfig-reference_options_typeacquisition.md\":\"8148c0f7\",\"zh_tsconfig-reference_options_types.md\":\"dd16111d\",\"zh_tsconfig-reference_options_typeacquisition_include.md\":\"7b449a52\",\"zh_tsconfig-reference_options_watchfile.md\":\"f21a1f40\",\"zh_tsconfig-reference_options_watchdirectory.md\":\"dabe086f\",\"zh_tsconfig-reference_options_usedefineforclassfields.md\":\"ca94eb41\",\"zh_tsconfig-reference_options_useunknownincatchvariables.md\":\"443676d0\",\"zh_tsconfig-reference_options_verbose.md\":\"61a825e3\",\"zh_tsconfig-reference_options_verbatimmodulesyntax.md\":\"899fcf0f\",\"zh_tsconfig-reference_project-config_configuring watch.md\":\"b820d310\",\"zh_tsconfig-reference_project-config_compiler options in msbuild.md\":\"60c9c438\",\"zh_tsconfig-reference_project-config_compiler options.md\":\"a30dd4e5\",\"zh_tsconfig-reference_sections_compileroptions.md\":\"ad495b75\",\"zh_tsconfig-reference_sections_buildoptions.md\":\"5a3987e2\",\"zh_tsconfig-reference_project-config_project references.md\":\"cb778a24\",\"zh_tsconfig-reference_sections_typeacquisition.md\":\"11cf96df\",\"zh_tsconfig-reference_sections_watchoptions.md\":\"78d2a833\",\"zh_tsconfig-reference_project-config_tsconfig.md\":\"b6b2ab2d\",\"zh_tsconfig-reference_project-config_integrating with build tools.md\":\"b44943ea\",\"zh_tutorials_angular.md\":\"a0b7ce1e\",\"zh_tutorials_babel with typescript.md\":\"097e1894\",\"zh_tutorials_dom manipulation.md\":\"50f81fc1\",\"zh_tutorials_asp.net core.md\":\"ba84d920\",\"zh_tutorials_migrating from javascript.md\":\"11b050ef\",\"zh_tutorials_gulp.md\":\"fbd58fca\",\"zh_tutorials_typescript tooling in 5 minutes.md\":\"775dcd53\",\"zh_tutorials_javascript_creating dts files from js.md\":\"ded10082\",\"zh_tutorials_get-started_ts for oopers.md\":\"c278a648\",\"zh_tutorials_get-started_ts for the new programmer.md\":\"81870de7\",\"zh_tutorials_javascript_intro to js with ts.md\":\"db6ad1a0\",\"zh_tutorials_get-started_ts for js programmers.md\":\"e1ac0a49\",\"zh_tutorials_react.md\":\"68f00c7c\",\"zh_tutorials_get-started_ts for functional programmers.md\":\"657b1a1f\",\"zh_tutorials_javascript_jsdoc reference.md\":\"087750d7\",\"zh_tutorials_javascript_type checking javascript files.md\":\"703253d0\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"TSDoc\",\"description\":\"Front-end learning document collection.\",\"base\":\"/tsdoc-vitepress/\",\"head\":[],\"appearance\":\"dark\",\"themeConfig\":{\"logo\":\"/logo.svg\",\"socialLinks\":[],\"footer\":{\"message\":\"Released under the <a href=\\\"https://github.com/fxzer/tsdoc-vitepress/blob/main/LICENSE\\\">MIT License</a>.\",\"copyright\":\"Copyright © 2023-present <a href=\\\"https://github.com/fxzer\\\">fxzer</a>.\"}},\"locales\":{\"zh\":{\"label\":\"简体中文\",\"lang\":\"zh-CN\",\"link\":\"/zh/\",\"themeConfig\":{\"outlineTitle\":\"文章目录\",\"logo\":\"/logo.svg\",\"lastUpdatedText\":\"上次更新\",\"returnToTopLabel\":\"返回顶部\",\"sidebarMenuLabel\":\"目录\",\"darkModeSwitchLabel\":\"主题切换\",\"docFooter\":{\"prev\":\"上一页\",\"next\":\"下一页\"},\"editLink\":{\"pattern\":\"https://github.com/fxzer/tsdoc-vitepress/edit/main/docs/:path\",\"text\":\"对本页提出修改建议\"},\"outline\":{\"label\":\"本页内容\",\"level\":[2,3]},\"nav\":[{\"text\":\"辅助教程\",\"link\":\"/zh/tutorials/ASP.NET Core\"},{\"text\":\"手册指南\",\"link\":\"/zh/handbooks/handbook-v2/Basics\"},{\"text\":\"声明文件\",\"link\":\"/zh/declaration-files/By Example\"},{\"text\":\"参考文献\",\"link\":\"/zh/reference/Advanced Types\"},{\"text\":\"项目配置\",\"link\":\"/zh/tsconfig-reference/options/typeAcquisition/include\"},{\"text\":\"发布版本\",\"link\":\"/zh/release-notes/TypeScript[5.0]\"},{\"text\":\"在线练习\",\"items\":[{\"text\":\"TS Official\",\"link\":\"https://www.typescriptlang.org/play\"},{\"text\":\"StackBlitz\",\"link\":\"https://stackblitz.com/edit/typescript-d6x1ga?file=index.ts\"},{\"text\":\"TS Lint\",\"link\":\"https://typescript-eslint.io/play/\"},{\"text\":\"SoloLearn\",\"link\":\"https://www.sololearn.com/compiler-playground/typescript\"}]}],\"sidebar\":{\"/zh/declaration-files/\":[{\"text\":\"声明文件\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"通过例子\",\"link\":\"/zh/declaration-files/By Example\"},{\"text\":\"使用\",\"link\":\"/zh/declaration-files/Consumption\"},{\"text\":\"深入探讨\",\"link\":\"/zh/declaration-files/Deep Dive\"},{\"text\":\"该做和不该做\",\"link\":\"/zh/declaration-files/Dos and Donts\"},{\"text\":\"介绍\",\"link\":\"/zh/declaration-files/Introduction\"},{\"text\":\"库结构\",\"link\":\"/zh/declaration-files/Library Structures\"},{\"text\":\"发布\",\"link\":\"/zh/declaration-files/Publishing\"},{\"text\":\"模板\",\"link\":\"/zh/declaration-files/Templates\"}]},{\"text\":\"模板\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"全局修改模块\",\"link\":\"/zh/declaration-files/templates/global-modifying-module\"},{\"text\":\"全局插件\",\"link\":\"/zh/declaration-files/templates/global-plugin\"},{\"text\":\"全局模块\",\"link\":\"/zh/declaration-files/templates/global\"},{\"text\":\"类模块\",\"link\":\"/zh/declaration-files/templates/module-class\"},{\"text\":\"函数模块\",\"link\":\"/zh/declaration-files/templates/module-function\"},{\"text\":\"插件模块\",\"link\":\"/zh/declaration-files/templates/module-plugin\"},{\"text\":\"模块\",\"link\":\"/zh/declaration-files/templates/module\"}]}],\"/zh/handbooks/\":[{\"text\":\"手册指南 v1\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"基本类型\",\"link\":\"/zh/handbooks/handbook-v1/BasicTypes\"},{\"text\":\"类\",\"link\":\"/zh/handbooks/handbook-v1/Classes\"},{\"text\":\"枚举\",\"link\":\"/zh/handbooks/handbook-v1/Enums\"},{\"text\":\"函数\",\"link\":\"/zh/handbooks/handbook-v1/Functions\"},{\"text\":\"泛型\",\"link\":\"/zh/handbooks/handbook-v1/Generics\"},{\"text\":\"接口\",\"link\":\"/zh/handbooks/handbook-v1/Interfaces\"},{\"text\":\"字面量类型\",\"link\":\"/zh/handbooks/handbook-v1/Literal Types\"},{\"text\":\"联合类型和交叉类型\",\"link\":\"/zh/handbooks/handbook-v1/Unions and Intersections\"}]},{\"text\":\"手册指南 v2\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"基本类型\",\"link\":\"/zh/handbooks/handbook-v2/Basics\"},{\"text\":\"类\",\"link\":\"/zh/handbooks/handbook-v2/Classes\"},{\"text\":\"常见类型\",\"link\":\"/zh/handbooks/handbook-v2/Everyday Types\"},{\"text\":\"模块\",\"link\":\"/zh/handbooks/handbook-v2/Modules\"},{\"text\":\"函数进阶\",\"link\":\"/zh/handbooks/handbook-v2/More on Functions\"},{\"text\":\"类型收窄\",\"link\":\"/zh/handbooks/handbook-v2/Narrowing\"},{\"text\":\"对象类型\",\"link\":\"/zh/handbooks/handbook-v2/Object Types\"},{\"text\":\"类型声明\",\"link\":\"/zh/handbooks/handbook-v2/Type Declarations\"},{\"text\":\"了解错误\",\"link\":\"/zh/handbooks/handbook-v2/Understanding Errors\"}]},{\"text\":\"类型操作\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"条件类型\",\"link\":\"/zh/handbooks/handbook-v2/Type Manipulation/Conditional Types\"},{\"text\":\"从类型创建类型\",\"link\":\"/zh/handbooks/handbook-v2/Type Manipulation/Creating Types from Types\"},{\"text\":\"泛型\",\"link\":\"/zh/handbooks/handbook-v2/Type Manipulation/Generics\"},{\"text\":\"索引访问类型\",\"link\":\"/zh/handbooks/handbook-v2/Type Manipulation/Indexed Access Types\"},{\"text\":\"Keyof 类型运算符\",\"link\":\"/zh/handbooks/handbook-v2/Type Manipulation/Keyof Type Operator\"},{\"text\":\"映射类型\",\"link\":\"/zh/handbooks/handbook-v2/Type Manipulation/Mapped Types\"},{\"text\":\"模板字面量类型\",\"link\":\"/zh/handbooks/handbook-v2/Type Manipulation/Template Literal Types\"},{\"text\":\"Typeof 类型运算符\",\"link\":\"/zh/handbooks/handbook-v2/Type Manipulation/Typeof Type Operator\"}]}],\"/zh/reference/\":[{\"text\":\"参考文献\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"高级类型\",\"link\":\"/zh/reference/Advanced Types\"},{\"text\":\"声明合并\",\"link\":\"/zh/reference/Declaration Merging\"},{\"text\":\"装饰器\",\"link\":\"/zh/reference/Decorators\"},{\"text\":\"Node 的 ESM 支持\",\"link\":\"/zh/reference/ESM Support for Node\"},{\"text\":\"枚举\",\"link\":\"/zh/reference/Enums\"},{\"text\":\"迭代器和生成器\",\"link\":\"/zh/reference/Iterators and Generators\"},{\"text\":\"JSX\",\"link\":\"/zh/reference/JSX\"},{\"text\":\"混合\",\"link\":\"/zh/reference/Mixins\"},{\"text\":\"模块解析\",\"link\":\"/zh/reference/Module Resolution\"},{\"text\":\"模块\",\"link\":\"/zh/reference/Modules\"},{\"text\":\"命名空间和模块\",\"link\":\"/zh/reference/Namespaces and Modules\"},{\"text\":\"命名空间\",\"link\":\"/zh/reference/Namespaces\"},{\"text\":\"符号\",\"link\":\"/zh/reference/Symbols\"},{\"text\":\"三斜线指令\",\"link\":\"/zh/reference/Triple-Slash Directives\"},{\"text\":\"类型兼容性\",\"link\":\"/zh/reference/Type Compatibility\"},{\"text\":\"类型推断\",\"link\":\"/zh/reference/Type Inference\"},{\"text\":\"实用类型\",\"link\":\"/zh/reference/Utility Types\"},{\"text\":\"变量声明\",\"link\":\"/zh/reference/Variable Declarations\"}]}],\"/zh/release-notes/\":[{\"text\":\"发布版本\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"TypeScript[1.1]\",\"link\":\"/zh/release-notes/TypeScript[1.1]\"},{\"text\":\"TypeScript[1.3]\",\"link\":\"/zh/release-notes/TypeScript[1.3]\"},{\"text\":\"TypeScript[1.4]\",\"link\":\"/zh/release-notes/TypeScript[1.4]\"},{\"text\":\"TypeScript[1.5]\",\"link\":\"/zh/release-notes/TypeScript[1.5]\"},{\"text\":\"TypeScript[1.6]\",\"link\":\"/zh/release-notes/TypeScript[1.6]\"},{\"text\":\"TypeScript[1.7]\",\"link\":\"/zh/release-notes/TypeScript[1.7]\"},{\"text\":\"TypeScript[1.8]\",\"link\":\"/zh/release-notes/TypeScript[1.8]\"},{\"text\":\"TypeScript[2.0]\",\"link\":\"/zh/release-notes/TypeScript[2.0]\"},{\"text\":\"TypeScript[2.1]\",\"link\":\"/zh/release-notes/TypeScript[2.1]\"},{\"text\":\"TypeScript[2.2]\",\"link\":\"/zh/release-notes/TypeScript[2.2]\"},{\"text\":\"TypeScript[2.3]\",\"link\":\"/zh/release-notes/TypeScript[2.3]\"},{\"text\":\"TypeScript[2.4]\",\"link\":\"/zh/release-notes/TypeScript[2.4]\"},{\"text\":\"TypeScript[2.5]\",\"link\":\"/zh/release-notes/TypeScript[2.5]\"},{\"text\":\"TypeScript[2.6]\",\"link\":\"/zh/release-notes/TypeScript[2.6]\"},{\"text\":\"TypeScript[2.7]\",\"link\":\"/zh/release-notes/TypeScript[2.7]\"},{\"text\":\"TypeScript[2.8]\",\"link\":\"/zh/release-notes/TypeScript[2.8]\"},{\"text\":\"TypeScript[2.9]\",\"link\":\"/zh/release-notes/TypeScript[2.9]\"},{\"text\":\"TypeScript[3.0]\",\"link\":\"/zh/release-notes/TypeScript[3.0]\"},{\"text\":\"TypeScript[3.1]\",\"link\":\"/zh/release-notes/TypeScript[3.1]\"},{\"text\":\"TypeScript[3.2]\",\"link\":\"/zh/release-notes/TypeScript[3.2]\"},{\"text\":\"TypeScript[3.3]\",\"link\":\"/zh/release-notes/TypeScript[3.3]\"},{\"text\":\"TypeScript[3.4]\",\"link\":\"/zh/release-notes/TypeScript[3.4]\"},{\"text\":\"TypeScript[3.5]\",\"link\":\"/zh/release-notes/TypeScript[3.5]\"},{\"text\":\"TypeScript[3.6]\",\"link\":\"/zh/release-notes/TypeScript[3.6]\"},{\"text\":\"TypeScript[3.7]\",\"link\":\"/zh/release-notes/TypeScript[3.7]\"},{\"text\":\"TypeScript[3.8]\",\"link\":\"/zh/release-notes/TypeScript[3.8]\"},{\"text\":\"TypeScript[3.9]\",\"link\":\"/zh/release-notes/TypeScript[3.9]\"},{\"text\":\"TypeScript[4.0]\",\"link\":\"/zh/release-notes/TypeScript[4.0]\"},{\"text\":\"TypeScript[4.1]\",\"link\":\"/zh/release-notes/TypeScript[4.1]\"},{\"text\":\"TypeScript[4.2]\",\"link\":\"/zh/release-notes/TypeScript[4.2]\"},{\"text\":\"TypeScript[4.3]\",\"link\":\"/zh/release-notes/TypeScript[4.3]\"},{\"text\":\"TypeScript[4.4]\",\"link\":\"/zh/release-notes/TypeScript[4.4]\"},{\"text\":\"TypeScript[4.5]\",\"link\":\"/zh/release-notes/TypeScript[4.5]\"},{\"text\":\"TypeScript[4.6]\",\"link\":\"/zh/release-notes/TypeScript[4.6]\"},{\"text\":\"TypeScript[4.7]\",\"link\":\"/zh/release-notes/TypeScript[4.7]\"},{\"text\":\"TypeScript[4.8]\",\"link\":\"/zh/release-notes/TypeScript[4.8]\"},{\"text\":\"TypeScript[4.9]\",\"link\":\"/zh/release-notes/TypeScript[4.9]\"},{\"text\":\"TypeScript[5.0]\",\"link\":\"/zh/release-notes/TypeScript[5.0]\"}]}],\"/zh/tsconfig-reference/\":[{\"text\":\"配置项\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"allowArbitraryExtensions\",\"link\":\"/zh/tsconfig-reference/options/allowArbitraryExtensions\"},{\"text\":\"allowImportingTsExtensions\",\"link\":\"/zh/tsconfig-reference/options/allowImportingTsExtensions\"},{\"text\":\"allowJs\",\"link\":\"/zh/tsconfig-reference/options/allowJs\"},{\"text\":\"allowSyntheticDefaultImports\",\"link\":\"/zh/tsconfig-reference/options/allowSyntheticDefaultImports\"},{\"text\":\"allowUmdGlobalAccess\",\"link\":\"/zh/tsconfig-reference/options/allowUmdGlobalAccess\"},{\"text\":\"allowUnreachableCode\",\"link\":\"/zh/tsconfig-reference/options/allowUnreachableCode\"},{\"text\":\"allowUnusedLabels\",\"link\":\"/zh/tsconfig-reference/options/allowUnusedLabels\"},{\"text\":\"alwaysStrict\",\"link\":\"/zh/tsconfig-reference/options/alwaysStrict\"},{\"text\":\"assumeChangesOnlyAffectDirectDependencies\",\"link\":\"/zh/tsconfig-reference/options/assumeChangesOnlyAffectDirectDependencies\"},{\"text\":\"baseUrl\",\"link\":\"/zh/tsconfig-reference/options/baseUrl\"},{\"text\":\"charset\",\"link\":\"/zh/tsconfig-reference/options/charset\"},{\"text\":\"checkJs\",\"link\":\"/zh/tsconfig-reference/options/checkJs\"},{\"text\":\"clean\",\"link\":\"/zh/tsconfig-reference/options/clean\"},{\"text\":\"composite\",\"link\":\"/zh/tsconfig-reference/options/composite\"},{\"text\":\"customConditions\",\"link\":\"/zh/tsconfig-reference/options/customConditions\"},{\"text\":\"declaration\",\"link\":\"/zh/tsconfig-reference/options/declaration\"},{\"text\":\"declarationDir\",\"link\":\"/zh/tsconfig-reference/options/declarationDir\"},{\"text\":\"declarationMap\",\"link\":\"/zh/tsconfig-reference/options/declarationMap\"},{\"text\":\"diagnostics\",\"link\":\"/zh/tsconfig-reference/options/diagnostics\"},{\"text\":\"disableFilenameBasedTypeAcquisition\",\"link\":\"/zh/tsconfig-reference/options/disableFilenameBasedTypeAcquisition\"},{\"text\":\"disableReferencedProjectLoad\",\"link\":\"/zh/tsconfig-reference/options/disableReferencedProjectLoad\"},{\"text\":\"disableSizeLimit\",\"link\":\"/zh/tsconfig-reference/options/disableSizeLimit\"},{\"text\":\"disableSolutionSearching\",\"link\":\"/zh/tsconfig-reference/options/disableSolutionSearching\"},{\"text\":\"disableSourceOfProjectReferenceRedirect\",\"link\":\"/zh/tsconfig-reference/options/disableSourceOfProjectReferenceRedirect\"},{\"text\":\"downlevelIteration\",\"link\":\"/zh/tsconfig-reference/options/downlevelIteration\"},{\"text\":\"emitBOM\",\"link\":\"/zh/tsconfig-reference/options/emitBOM\"},{\"text\":\"emitDeclarationOnly\",\"link\":\"/zh/tsconfig-reference/options/emitDeclarationOnly\"},{\"text\":\"emitDecoratorMetadata\",\"link\":\"/zh/tsconfig-reference/options/emitDecoratorMetadata\"},{\"text\":\"enable\",\"link\":\"/zh/tsconfig-reference/options/enable\"},{\"text\":\"esModuleInterop\",\"link\":\"/zh/tsconfig-reference/options/esModuleInterop\"},{\"text\":\"exactOptionalPropertyTypes\",\"link\":\"/zh/tsconfig-reference/options/exactOptionalPropertyTypes\"},{\"text\":\"exclude\",\"link\":\"/zh/tsconfig-reference/options/exclude\"},{\"text\":\"excludeDirectories\",\"link\":\"/zh/tsconfig-reference/options/excludeDirectories\"},{\"text\":\"excludeFiles\",\"link\":\"/zh/tsconfig-reference/options/excludeFiles\"},{\"text\":\"experimentalDecorators\",\"link\":\"/zh/tsconfig-reference/options/experimentalDecorators\"},{\"text\":\"explainFiles\",\"link\":\"/zh/tsconfig-reference/options/explainFiles\"},{\"text\":\"extendedDiagnostics\",\"link\":\"/zh/tsconfig-reference/options/extendedDiagnostics\"},{\"text\":\"extends\",\"link\":\"/zh/tsconfig-reference/options/extends\"},{\"text\":\"fallbackPolling\",\"link\":\"/zh/tsconfig-reference/options/fallbackPolling\"},{\"text\":\"files\",\"link\":\"/zh/tsconfig-reference/options/files\"},{\"text\":\"force\",\"link\":\"/zh/tsconfig-reference/options/force\"},{\"text\":\"forceConsistentCasingInFileNames\",\"link\":\"/zh/tsconfig-reference/options/forceConsistentCasingInFileNames\"},{\"text\":\"generateCpuProfile\",\"link\":\"/zh/tsconfig-reference/options/generateCpuProfile\"},{\"text\":\"importHelpers\",\"link\":\"/zh/tsconfig-reference/options/importHelpers\"},{\"text\":\"importsNotUsedAsValues\",\"link\":\"/zh/tsconfig-reference/options/importsNotUsedAsValues\"},{\"text\":\"include\",\"link\":\"/zh/tsconfig-reference/options/include\"},{\"text\":\"incremental\",\"link\":\"/zh/tsconfig-reference/options/incremental\"},{\"text\":\"inlineSourceMap\",\"link\":\"/zh/tsconfig-reference/options/inlineSourceMap\"},{\"text\":\"inlineSources\",\"link\":\"/zh/tsconfig-reference/options/inlineSources\"},{\"text\":\"isolatedModules\",\"link\":\"/zh/tsconfig-reference/options/isolatedModules\"},{\"text\":\"jsx\",\"link\":\"/zh/tsconfig-reference/options/jsx\"},{\"text\":\"jsxFactory\",\"link\":\"/zh/tsconfig-reference/options/jsxFactory\"},{\"text\":\"jsxFragmentFactory\",\"link\":\"/zh/tsconfig-reference/options/jsxFragmentFactory\"},{\"text\":\"jsxImportSource\",\"link\":\"/zh/tsconfig-reference/options/jsxImportSource\"},{\"text\":\"keyofStringsOnly\",\"link\":\"/zh/tsconfig-reference/options/keyofStringsOnly\"},{\"text\":\"lib\",\"link\":\"/zh/tsconfig-reference/options/lib\"},{\"text\":\"listEmittedFiles\",\"link\":\"/zh/tsconfig-reference/options/listEmittedFiles\"},{\"text\":\"listFiles\",\"link\":\"/zh/tsconfig-reference/options/listFiles\"},{\"text\":\"locale\",\"link\":\"/zh/tsconfig-reference/options/locale\"},{\"text\":\"mapRoot\",\"link\":\"/zh/tsconfig-reference/options/mapRoot\"},{\"text\":\"maxNodeModuleJsDepth\",\"link\":\"/zh/tsconfig-reference/options/maxNodeModuleJsDepth\"},{\"text\":\"module\",\"link\":\"/zh/tsconfig-reference/options/module\"},{\"text\":\"moduleDetection\",\"link\":\"/zh/tsconfig-reference/options/moduleDetection\"},{\"text\":\"moduleResolution\",\"link\":\"/zh/tsconfig-reference/options/moduleResolution\"},{\"text\":\"moduleSuffixes\",\"link\":\"/zh/tsconfig-reference/options/moduleSuffixes\"},{\"text\":\"newLine\",\"link\":\"/zh/tsconfig-reference/options/newLine\"},{\"text\":\"noEmit\",\"link\":\"/zh/tsconfig-reference/options/noEmit\"},{\"text\":\"noEmitHelpers\",\"link\":\"/zh/tsconfig-reference/options/noEmitHelpers\"},{\"text\":\"noEmitOnError\",\"link\":\"/zh/tsconfig-reference/options/noEmitOnError\"},{\"text\":\"noErrorTruncation\",\"link\":\"/zh/tsconfig-reference/options/noErrorTruncation\"},{\"text\":\"noFallthroughCasesInSwitch\",\"link\":\"/zh/tsconfig-reference/options/noFallthroughCasesInSwitch\"},{\"text\":\"noImplicitAny\",\"link\":\"/zh/tsconfig-reference/options/noImplicitAny\"},{\"text\":\"noImplicitOverride\",\"link\":\"/zh/tsconfig-reference/options/noImplicitOverride\"},{\"text\":\"noImplicitReturns\",\"link\":\"/zh/tsconfig-reference/options/noImplicitReturns\"},{\"text\":\"noImplicitThis\",\"link\":\"/zh/tsconfig-reference/options/noImplicitThis\"},{\"text\":\"noImplicitUseStrict\",\"link\":\"/zh/tsconfig-reference/options/noImplicitUseStrict\"},{\"text\":\"noLib\",\"link\":\"/zh/tsconfig-reference/options/noLib\"},{\"text\":\"noPropertyAccessFromIndexSignature\",\"link\":\"/zh/tsconfig-reference/options/noPropertyAccessFromIndexSignature\"},{\"text\":\"noResolve\",\"link\":\"/zh/tsconfig-reference/options/noResolve\"},{\"text\":\"noStrictGenericChecks\",\"link\":\"/zh/tsconfig-reference/options/noStrictGenericChecks\"},{\"text\":\"noUncheckedIndexedAccess\",\"link\":\"/zh/tsconfig-reference/options/noUncheckedIndexedAccess\"},{\"text\":\"noUnusedLocals\",\"link\":\"/zh/tsconfig-reference/options/noUnusedLocals\"},{\"text\":\"noUnusedParameters\",\"link\":\"/zh/tsconfig-reference/options/noUnusedParameters\"},{\"text\":\"out\",\"link\":\"/zh/tsconfig-reference/options/out\"},{\"text\":\"outDir\",\"link\":\"/zh/tsconfig-reference/options/outDir\"},{\"text\":\"outFile\",\"link\":\"/zh/tsconfig-reference/options/outFile\"},{\"text\":\"paths\",\"link\":\"/zh/tsconfig-reference/options/paths\"},{\"text\":\"plugins\",\"link\":\"/zh/tsconfig-reference/options/plugins\"},{\"text\":\"preserveConstEnums\",\"link\":\"/zh/tsconfig-reference/options/preserveConstEnums\"},{\"text\":\"preserveSymlinks\",\"link\":\"/zh/tsconfig-reference/options/preserveSymlinks\"},{\"text\":\"preserveValueImports\",\"link\":\"/zh/tsconfig-reference/options/preserveValueImports\"},{\"text\":\"preserveWatchOutput\",\"link\":\"/zh/tsconfig-reference/options/preserveWatchOutput\"},{\"text\":\"pretty\",\"link\":\"/zh/tsconfig-reference/options/pretty\"},{\"text\":\"reactNamespace\",\"link\":\"/zh/tsconfig-reference/options/reactNamespace\"},{\"text\":\"references\",\"link\":\"/zh/tsconfig-reference/options/references\"},{\"text\":\"removeComments\",\"link\":\"/zh/tsconfig-reference/options/removeComments\"},{\"text\":\"resolveJsonModule\",\"link\":\"/zh/tsconfig-reference/options/resolveJsonModule\"},{\"text\":\"resolvePackageJsonExports\",\"link\":\"/zh/tsconfig-reference/options/resolvePackageJsonExports\"},{\"text\":\"resolvePackageJsonImports\",\"link\":\"/zh/tsconfig-reference/options/resolvePackageJsonImports\"},{\"text\":\"rootDir\",\"link\":\"/zh/tsconfig-reference/options/rootDir\"},{\"text\":\"rootDirs\",\"link\":\"/zh/tsconfig-reference/options/rootDirs\"},{\"text\":\"skipDefaultLibCheck\",\"link\":\"/zh/tsconfig-reference/options/skipDefaultLibCheck\"},{\"text\":\"skipLibCheck\",\"link\":\"/zh/tsconfig-reference/options/skipLibCheck\"},{\"text\":\"sourceMap\",\"link\":\"/zh/tsconfig-reference/options/sourceMap\"},{\"text\":\"sourceRoot\",\"link\":\"/zh/tsconfig-reference/options/sourceRoot\"},{\"text\":\"strict\",\"link\":\"/zh/tsconfig-reference/options/strict\"},{\"text\":\"strictBindCallApply\",\"link\":\"/zh/tsconfig-reference/options/strictBindCallApply\"},{\"text\":\"strictFunctionTypes\",\"link\":\"/zh/tsconfig-reference/options/strictFunctionTypes\"},{\"text\":\"strictNullChecks\",\"link\":\"/zh/tsconfig-reference/options/strictNullChecks\"},{\"text\":\"strictPropertyInitialization\",\"link\":\"/zh/tsconfig-reference/options/strictPropertyInitialization\"},{\"text\":\"stripInternal\",\"link\":\"/zh/tsconfig-reference/options/stripInternal\"},{\"text\":\"suppressExcessPropertyErrors\",\"link\":\"/zh/tsconfig-reference/options/suppressExcessPropertyErrors\"},{\"text\":\"suppressImplicitAnyIndexErrors\",\"link\":\"/zh/tsconfig-reference/options/suppressImplicitAnyIndexErrors\"},{\"text\":\"synchronousWatchDirectory\",\"link\":\"/zh/tsconfig-reference/options/synchronousWatchDirectory\"},{\"text\":\"target\",\"link\":\"/zh/tsconfig-reference/options/target\"},{\"text\":\"traceResolution\",\"link\":\"/zh/tsconfig-reference/options/traceResolution\"},{\"text\":\"tsBuildInfoFile\",\"link\":\"/zh/tsconfig-reference/options/tsBuildInfoFile\"},{\"text\":\"typeAcquisition\",\"link\":\"/zh/tsconfig-reference/options/typeAcquisition\"},{\"text\":\"typeRoots\",\"link\":\"/zh/tsconfig-reference/options/typeRoots\"},{\"text\":\"types\",\"link\":\"/zh/tsconfig-reference/options/types\"},{\"text\":\"useDefineForClassFields\",\"link\":\"/zh/tsconfig-reference/options/useDefineForClassFields\"},{\"text\":\"useUnknownInCatchVariables\",\"link\":\"/zh/tsconfig-reference/options/useUnknownInCatchVariables\"},{\"text\":\"verbatimModuleSyntax\",\"link\":\"/zh/tsconfig-reference/options/verbatimModuleSyntax\"},{\"text\":\"verbose\",\"link\":\"/zh/tsconfig-reference/options/verbose\"},{\"text\":\"watchDirectory\",\"link\":\"/zh/tsconfig-reference/options/watchDirectory\"},{\"text\":\"watchFile\",\"link\":\"/zh/tsconfig-reference/options/watchFile\"}]},{\"text\":\"类型获取\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"排除\",\"link\":\"/zh/tsconfig-reference/options/typeAcquisition/exclude\"},{\"text\":\"包含\",\"link\":\"/zh/tsconfig-reference/options/typeAcquisition/include\"}]},{\"text\":\"项目配置\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"MSBuild编译选项\",\"link\":\"/zh/tsconfig-reference/project-config/Compiler Options in MSBuild\"},{\"text\":\"编译器选项\",\"link\":\"/zh/tsconfig-reference/project-config/Compiler Options\"},{\"text\":\"配置监视\",\"link\":\"/zh/tsconfig-reference/project-config/Configuring Watch\"},{\"text\":\"构建工具集成\",\"link\":\"/zh/tsconfig-reference/project-config/Integrating with Build Tools\"},{\"text\":\"项目引用\",\"link\":\"/zh/tsconfig-reference/project-config/Project References\"},{\"text\":\"tsconfig\",\"link\":\"/zh/tsconfig-reference/project-config/tsconfig\"}]},{\"text\":\"章节列表\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"构建选项\",\"link\":\"/zh/tsconfig-reference/sections/buildOptions\"},{\"text\":\"编译器选项\",\"link\":\"/zh/tsconfig-reference/sections/compilerOptions\"},{\"text\":\"类型获取\",\"link\":\"/zh/tsconfig-reference/sections/typeAcquisition\"},{\"text\":\"监视选项\",\"link\":\"/zh/tsconfig-reference/sections/watchOptions\"}]}],\"/zh/tutorials/\":[{\"text\":\"辅助教程\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"ASP.NET核心\",\"link\":\"/zh/tutorials/ASP.NET Core\"},{\"text\":\"Angular\",\"link\":\"/zh/tutorials/Angular\"},{\"text\":\"Babel 与 TypeScript\",\"link\":\"/zh/tutorials/Babel with TypeScript\"},{\"text\":\"DOM操作\",\"link\":\"/zh/tutorials/DOM Manipulation\"},{\"text\":\"Gulp\",\"link\":\"/zh/tutorials/Gulp\"},{\"text\":\"从 JavaScript 迁移\",\"link\":\"/zh/tutorials/Migrating from JavaScript\"},{\"text\":\"React\",\"link\":\"/zh/tutorials/React\"},{\"text\":\"5分钟快速入门 TypeScript\",\"link\":\"/zh/tutorials/TypeScript Tooling in 5 minutes\"}]},{\"text\":\"快速入门\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"TypeScript 面向函数编程\",\"link\":\"/zh/tutorials/get-started/TS for Functional Programmers\"},{\"text\":\"面向 JavaScript 程序员\",\"link\":\"/zh/tutorials/get-started/TS for JS Programmers\"},{\"text\":\"TypeScript 面向对象编程\",\"link\":\"/zh/tutorials/get-started/TS for OOPers\"},{\"text\":\"新手学 TypeScript\",\"link\":\"/zh/tutorials/get-started/TS for the New Programmer\"}]},{\"text\":\"JavaScript\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"从JS文件创建 DTS 文件\",\"link\":\"/zh/tutorials/javascript/Creating DTS files From JS\"},{\"text\":\"使用TypeScript 介绍 JavaScript\",\"link\":\"/zh/tutorials/javascript/Intro to JS with TS\"},{\"text\":\"JSDoc 参考\",\"link\":\"/zh/tutorials/javascript/JSDoc Reference\"},{\"text\":\"JavaScript 文件类型检查\",\"link\":\"/zh/tutorials/javascript/Type Checking JavaScript Files\"}]}]}}},\"root\":{\"label\":\"English\",\"lang\":\"en-US\",\"link\":\"/en/\",\"themeConfig\":{\"outlineTitle\":\"Table of Contents\",\"logo\":\"/logo.svg\",\"lastUpdatedText\":\"Last Updated\",\"returnToTopLabel\":\"Back to top\",\"sidebarMenuLabel\":\"Menu\",\"darkModeSwitchLabel\":\"Theme Switch\",\"editLink\":{\"pattern\":\"https://github.com/fxzer/tsdoc-vitepress/edit/main/docs/:path\",\"text\":\"Suggest changes to this page\"},\"outline\":{\"label\":\"On this page\",\"level\":[2,3]},\"docFooter\":{\"prev\":\"Prev Page\",\"next\":\"Next Page\"},\"nav\":[{\"text\":\"Tutorials\",\"link\":\"/en/tutorials/ASP.NET Core\"},{\"text\":\"HandBooks\",\"link\":\"/en/handbooks/handbook-v2/Basics\"},{\"text\":\"DeclarationFiles\",\"link\":\"/en/declaration-files/By Example\"},{\"text\":\"Reference\",\"link\":\"/en/reference/Advanced Types\"},{\"text\":\"TSConfig\",\"link\":\"/en/tsconfig-reference/options/typeAcquisition/include\"},{\"text\":\"ReleaseNotes\",\"link\":\"/en/release-notes/TypeScript[5.0]\"},{\"text\":\"PlayGround\",\"items\":[{\"text\":\"TS Official\",\"link\":\"https://www.typescriptlang.org/play\"},{\"text\":\"StackBlitz\",\"link\":\"https://stackblitz.com/edit/typescript-d6x1ga?file=index.ts\"},{\"text\":\"TS Lint\",\"link\":\"https://typescript-eslint.io/play/\"},{\"text\":\"SoloLearn\",\"link\":\"https://www.sololearn.com/compiler-playground/typescript\"}]}],\"sidebar\":{\"/en/declaration-files/\":[{\"text\":\"declaration-files\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"By Example\",\"link\":\"/en/declaration-files/By Example\"},{\"text\":\"Consumption\",\"link\":\"/en/declaration-files/Consumption\"},{\"text\":\"Deep Dive\",\"link\":\"/en/declaration-files/Deep Dive\"},{\"text\":\"Dos and Donts\",\"link\":\"/en/declaration-files/Dos and Donts\"},{\"text\":\"Introduction\",\"link\":\"/en/declaration-files/Introduction\"},{\"text\":\"Library Structures\",\"link\":\"/en/declaration-files/Library Structures\"},{\"text\":\"Publishing\",\"link\":\"/en/declaration-files/Publishing\"},{\"text\":\"Templates\",\"link\":\"/en/declaration-files/Templates\"}]},{\"text\":\"templates\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"global-modifying-module\",\"link\":\"/en/declaration-files/templates/global-modifying-module\"},{\"text\":\"global-plugin\",\"link\":\"/en/declaration-files/templates/global-plugin\"},{\"text\":\"global\",\"link\":\"/en/declaration-files/templates/global\"},{\"text\":\"module-class\",\"link\":\"/en/declaration-files/templates/module-class\"},{\"text\":\"module-function\",\"link\":\"/en/declaration-files/templates/module-function\"},{\"text\":\"module-plugin\",\"link\":\"/en/declaration-files/templates/module-plugin\"},{\"text\":\"module\",\"link\":\"/en/declaration-files/templates/module\"}]}],\"/en/handbooks/\":[{\"text\":\"handbook-v1\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"Classes\",\"link\":\"/en/handbooks/handbook-v1/Classes\"},{\"text\":\"Functions\",\"link\":\"/en/handbooks/handbook-v1/Functions\"},{\"text\":\"Generics\",\"link\":\"/en/handbooks/handbook-v1/Generics\"},{\"text\":\"Interfaces\",\"link\":\"/en/handbooks/handbook-v1/Interfaces\"},{\"text\":\"Literal Types\",\"link\":\"/en/handbooks/handbook-v1/Literal Types\"},{\"text\":\"Unions and Intersections\",\"link\":\"/en/handbooks/handbook-v1/Unions and Intersections\"}]},{\"text\":\"handbook-v2\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"Basics\",\"link\":\"/en/handbooks/handbook-v2/Basics\"},{\"text\":\"Classes\",\"link\":\"/en/handbooks/handbook-v2/Classes\"},{\"text\":\"Everyday Types\",\"link\":\"/en/handbooks/handbook-v2/Everyday Types\"},{\"text\":\"Modules\",\"link\":\"/en/handbooks/handbook-v2/Modules\"},{\"text\":\"More on Functions\",\"link\":\"/en/handbooks/handbook-v2/More on Functions\"},{\"text\":\"Narrowing\",\"link\":\"/en/handbooks/handbook-v2/Narrowing\"},{\"text\":\"Object Types\",\"link\":\"/en/handbooks/handbook-v2/Object Types\"},{\"text\":\"The Handbook\",\"link\":\"/en/handbooks/handbook-v2/The Handbook\"},{\"text\":\"Type Declarations\",\"link\":\"/en/handbooks/handbook-v2/Type Declarations\"},{\"text\":\"Understanding Errors\",\"link\":\"/en/handbooks/handbook-v2/Understanding Errors\"}]},{\"text\":\"Type Manipulation\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"Conditional Types\",\"link\":\"/en/handbooks/handbook-v2/Type Manipulation/Conditional Types\"},{\"text\":\"Generics\",\"link\":\"/en/handbooks/handbook-v2/Type Manipulation/Generics\"},{\"text\":\"Indexed Access Types\",\"link\":\"/en/handbooks/handbook-v2/Type Manipulation/Indexed Access Types\"},{\"text\":\"Keyof Type Operator\",\"link\":\"/en/handbooks/handbook-v2/Type Manipulation/Keyof Type Operator\"},{\"text\":\"Mapped Types\",\"link\":\"/en/handbooks/handbook-v2/Type Manipulation/Mapped Types\"},{\"text\":\"Template Literal Types\",\"link\":\"/en/handbooks/handbook-v2/Type Manipulation/Template Literal Types\"},{\"text\":\"Typeof Type Operator\",\"link\":\"/en/handbooks/handbook-v2/Type Manipulation/Typeof Type Operator\"},{\"text\":\"_Creating Types from Types\",\"link\":\"/en/handbooks/handbook-v2/Type Manipulation/_Creating Types from Types\"}]}],\"/en/reference/\":[{\"text\":\"reference\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"Advanced Types\",\"link\":\"/en/reference/Advanced Types\"},{\"text\":\"Declaration Merging\",\"link\":\"/en/reference/Declaration Merging\"},{\"text\":\"Decorators\",\"link\":\"/en/reference/Decorators\"},{\"text\":\"ESM Support for Node\",\"link\":\"/en/reference/ESM Support for Node\"},{\"text\":\"Enums\",\"link\":\"/en/reference/Enums\"},{\"text\":\"Iterators and Generators\",\"link\":\"/en/reference/Iterators and Generators\"},{\"text\":\"JSX\",\"link\":\"/en/reference/JSX\"},{\"text\":\"Mixins\",\"link\":\"/en/reference/Mixins\"},{\"text\":\"Module Resolution\",\"link\":\"/en/reference/Module Resolution\"},{\"text\":\"Modules\",\"link\":\"/en/reference/Modules\"},{\"text\":\"Namespaces and Modules\",\"link\":\"/en/reference/Namespaces and Modules\"},{\"text\":\"Namespaces\",\"link\":\"/en/reference/Namespaces\"},{\"text\":\"Symbols\",\"link\":\"/en/reference/Symbols\"},{\"text\":\"Triple-Slash Directives\",\"link\":\"/en/reference/Triple-Slash Directives\"},{\"text\":\"Type Compatibility\",\"link\":\"/en/reference/Type Compatibility\"},{\"text\":\"Type Inference\",\"link\":\"/en/reference/Type Inference\"},{\"text\":\"Utility Types\",\"link\":\"/en/reference/Utility Types\"},{\"text\":\"Variable Declarations\",\"link\":\"/en/reference/Variable Declarations\"}]}],\"/en/release-notes/\":[{\"text\":\"release-notes\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"TypeScript[1.1]\",\"link\":\"/en/release-notes/TypeScript[1.1]\"},{\"text\":\"TypeScript[1.3]\",\"link\":\"/en/release-notes/TypeScript[1.3]\"},{\"text\":\"TypeScript[1.4]\",\"link\":\"/en/release-notes/TypeScript[1.4]\"},{\"text\":\"TypeScript[1.5]\",\"link\":\"/en/release-notes/TypeScript[1.5]\"},{\"text\":\"TypeScript[1.6]\",\"link\":\"/en/release-notes/TypeScript[1.6]\"},{\"text\":\"TypeScript[1.7]\",\"link\":\"/en/release-notes/TypeScript[1.7]\"},{\"text\":\"TypeScript[1.8]\",\"link\":\"/en/release-notes/TypeScript[1.8]\"},{\"text\":\"TypeScript[2.0]\",\"link\":\"/en/release-notes/TypeScript[2.0]\"},{\"text\":\"TypeScript[2.1]\",\"link\":\"/en/release-notes/TypeScript[2.1]\"},{\"text\":\"TypeScript[2.2]\",\"link\":\"/en/release-notes/TypeScript[2.2]\"},{\"text\":\"TypeScript[2.3]\",\"link\":\"/en/release-notes/TypeScript[2.3]\"},{\"text\":\"TypeScript[2.4]\",\"link\":\"/en/release-notes/TypeScript[2.4]\"},{\"text\":\"TypeScript[2.5]\",\"link\":\"/en/release-notes/TypeScript[2.5]\"},{\"text\":\"TypeScript[2.6]\",\"link\":\"/en/release-notes/TypeScript[2.6]\"},{\"text\":\"TypeScript[2.7]\",\"link\":\"/en/release-notes/TypeScript[2.7]\"},{\"text\":\"TypeScript[2.8]\",\"link\":\"/en/release-notes/TypeScript[2.8]\"},{\"text\":\"TypeScript[2.9]\",\"link\":\"/en/release-notes/TypeScript[2.9]\"},{\"text\":\"TypeScript[3.0]\",\"link\":\"/en/release-notes/TypeScript[3.0]\"},{\"text\":\"TypeScript[3.1]\",\"link\":\"/en/release-notes/TypeScript[3.1]\"},{\"text\":\"TypeScript[3.2]\",\"link\":\"/en/release-notes/TypeScript[3.2]\"},{\"text\":\"TypeScript[3.3]\",\"link\":\"/en/release-notes/TypeScript[3.3]\"},{\"text\":\"TypeScript[3.4]\",\"link\":\"/en/release-notes/TypeScript[3.4]\"},{\"text\":\"TypeScript[3.5]\",\"link\":\"/en/release-notes/TypeScript[3.5]\"},{\"text\":\"TypeScript[3.6]\",\"link\":\"/en/release-notes/TypeScript[3.6]\"},{\"text\":\"TypeScript[3.7]\",\"link\":\"/en/release-notes/TypeScript[3.7]\"},{\"text\":\"TypeScript[3.8]\",\"link\":\"/en/release-notes/TypeScript[3.8]\"},{\"text\":\"TypeScript[3.9]\",\"link\":\"/en/release-notes/TypeScript[3.9]\"},{\"text\":\"TypeScript[4.0]\",\"link\":\"/en/release-notes/TypeScript[4.0]\"},{\"text\":\"TypeScript[4.1]\",\"link\":\"/en/release-notes/TypeScript[4.1]\"},{\"text\":\"TypeScript[4.2]\",\"link\":\"/en/release-notes/TypeScript[4.2]\"},{\"text\":\"TypeScript[4.3]\",\"link\":\"/en/release-notes/TypeScript[4.3]\"},{\"text\":\"TypeScript[4.4]\",\"link\":\"/en/release-notes/TypeScript[4.4]\"},{\"text\":\"TypeScript[4.5]\",\"link\":\"/en/release-notes/TypeScript[4.5]\"},{\"text\":\"TypeScript[4.6]\",\"link\":\"/en/release-notes/TypeScript[4.6]\"},{\"text\":\"TypeScript[4.7]\",\"link\":\"/en/release-notes/TypeScript[4.7]\"},{\"text\":\"TypeScript[4.8]\",\"link\":\"/en/release-notes/TypeScript[4.8]\"},{\"text\":\"TypeScript[4.9]\",\"link\":\"/en/release-notes/TypeScript[4.9]\"},{\"text\":\"TypeScript[5.0]\",\"link\":\"/en/release-notes/TypeScript[5.0]\"}]}],\"/en/tsconfig-reference/\":[{\"text\":\"options\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"allowArbitraryExtensions\",\"link\":\"/en/tsconfig-reference/options/allowArbitraryExtensions\"},{\"text\":\"allowImportingTsExtensions\",\"link\":\"/en/tsconfig-reference/options/allowImportingTsExtensions\"},{\"text\":\"allowJs\",\"link\":\"/en/tsconfig-reference/options/allowJs\"},{\"text\":\"allowSyntheticDefaultImports\",\"link\":\"/en/tsconfig-reference/options/allowSyntheticDefaultImports\"},{\"text\":\"allowUmdGlobalAccess\",\"link\":\"/en/tsconfig-reference/options/allowUmdGlobalAccess\"},{\"text\":\"allowUnreachableCode\",\"link\":\"/en/tsconfig-reference/options/allowUnreachableCode\"},{\"text\":\"allowUnusedLabels\",\"link\":\"/en/tsconfig-reference/options/allowUnusedLabels\"},{\"text\":\"alwaysStrict\",\"link\":\"/en/tsconfig-reference/options/alwaysStrict\"},{\"text\":\"assumeChangesOnlyAffectDirectDependencies\",\"link\":\"/en/tsconfig-reference/options/assumeChangesOnlyAffectDirectDependencies\"},{\"text\":\"baseUrl\",\"link\":\"/en/tsconfig-reference/options/baseUrl\"},{\"text\":\"charset\",\"link\":\"/en/tsconfig-reference/options/charset\"},{\"text\":\"checkJs\",\"link\":\"/en/tsconfig-reference/options/checkJs\"},{\"text\":\"clean\",\"link\":\"/en/tsconfig-reference/options/clean\"},{\"text\":\"composite\",\"link\":\"/en/tsconfig-reference/options/composite\"},{\"text\":\"customConditions\",\"link\":\"/en/tsconfig-reference/options/customConditions\"},{\"text\":\"declaration\",\"link\":\"/en/tsconfig-reference/options/declaration\"},{\"text\":\"declarationDir\",\"link\":\"/en/tsconfig-reference/options/declarationDir\"},{\"text\":\"declarationMap\",\"link\":\"/en/tsconfig-reference/options/declarationMap\"},{\"text\":\"diagnostics\",\"link\":\"/en/tsconfig-reference/options/diagnostics\"},{\"text\":\"disableFilenameBasedTypeAcquisition\",\"link\":\"/en/tsconfig-reference/options/disableFilenameBasedTypeAcquisition\"},{\"text\":\"disableReferencedProjectLoad\",\"link\":\"/en/tsconfig-reference/options/disableReferencedProjectLoad\"},{\"text\":\"disableSizeLimit\",\"link\":\"/en/tsconfig-reference/options/disableSizeLimit\"},{\"text\":\"disableSolutionSearching\",\"link\":\"/en/tsconfig-reference/options/disableSolutionSearching\"},{\"text\":\"disableSourceOfProjectReferenceRedirect\",\"link\":\"/en/tsconfig-reference/options/disableSourceOfProjectReferenceRedirect\"},{\"text\":\"downlevelIteration\",\"link\":\"/en/tsconfig-reference/options/downlevelIteration\"},{\"text\":\"emitBOM\",\"link\":\"/en/tsconfig-reference/options/emitBOM\"},{\"text\":\"emitDeclarationOnly\",\"link\":\"/en/tsconfig-reference/options/emitDeclarationOnly\"},{\"text\":\"emitDecoratorMetadata\",\"link\":\"/en/tsconfig-reference/options/emitDecoratorMetadata\"},{\"text\":\"enable\",\"link\":\"/en/tsconfig-reference/options/enable\"},{\"text\":\"esModuleInterop\",\"link\":\"/en/tsconfig-reference/options/esModuleInterop\"},{\"text\":\"exactOptionalPropertyTypes\",\"link\":\"/en/tsconfig-reference/options/exactOptionalPropertyTypes\"},{\"text\":\"exclude\",\"link\":\"/en/tsconfig-reference/options/exclude\"},{\"text\":\"excludeDirectories\",\"link\":\"/en/tsconfig-reference/options/excludeDirectories\"},{\"text\":\"excludeFiles\",\"link\":\"/en/tsconfig-reference/options/excludeFiles\"},{\"text\":\"experimentalDecorators\",\"link\":\"/en/tsconfig-reference/options/experimentalDecorators\"},{\"text\":\"explainFiles\",\"link\":\"/en/tsconfig-reference/options/explainFiles\"},{\"text\":\"extendedDiagnostics\",\"link\":\"/en/tsconfig-reference/options/extendedDiagnostics\"},{\"text\":\"extends\",\"link\":\"/en/tsconfig-reference/options/extends\"},{\"text\":\"fallbackPolling\",\"link\":\"/en/tsconfig-reference/options/fallbackPolling\"},{\"text\":\"files\",\"link\":\"/en/tsconfig-reference/options/files\"},{\"text\":\"force\",\"link\":\"/en/tsconfig-reference/options/force\"},{\"text\":\"forceConsistentCasingInFileNames\",\"link\":\"/en/tsconfig-reference/options/forceConsistentCasingInFileNames\"},{\"text\":\"generateCpuProfile\",\"link\":\"/en/tsconfig-reference/options/generateCpuProfile\"},{\"text\":\"importHelpers\",\"link\":\"/en/tsconfig-reference/options/importHelpers\"},{\"text\":\"importsNotUsedAsValues\",\"link\":\"/en/tsconfig-reference/options/importsNotUsedAsValues\"},{\"text\":\"include\",\"link\":\"/en/tsconfig-reference/options/include\"},{\"text\":\"incremental\",\"link\":\"/en/tsconfig-reference/options/incremental\"},{\"text\":\"inlineSourceMap\",\"link\":\"/en/tsconfig-reference/options/inlineSourceMap\"},{\"text\":\"inlineSources\",\"link\":\"/en/tsconfig-reference/options/inlineSources\"},{\"text\":\"isolatedModules\",\"link\":\"/en/tsconfig-reference/options/isolatedModules\"},{\"text\":\"jsx\",\"link\":\"/en/tsconfig-reference/options/jsx\"},{\"text\":\"jsxFactory\",\"link\":\"/en/tsconfig-reference/options/jsxFactory\"},{\"text\":\"jsxFragmentFactory\",\"link\":\"/en/tsconfig-reference/options/jsxFragmentFactory\"},{\"text\":\"jsxImportSource\",\"link\":\"/en/tsconfig-reference/options/jsxImportSource\"},{\"text\":\"keyofStringsOnly\",\"link\":\"/en/tsconfig-reference/options/keyofStringsOnly\"},{\"text\":\"lib\",\"link\":\"/en/tsconfig-reference/options/lib\"},{\"text\":\"listEmittedFiles\",\"link\":\"/en/tsconfig-reference/options/listEmittedFiles\"},{\"text\":\"listFiles\",\"link\":\"/en/tsconfig-reference/options/listFiles\"},{\"text\":\"locale\",\"link\":\"/en/tsconfig-reference/options/locale\"},{\"text\":\"mapRoot\",\"link\":\"/en/tsconfig-reference/options/mapRoot\"},{\"text\":\"maxNodeModuleJsDepth\",\"link\":\"/en/tsconfig-reference/options/maxNodeModuleJsDepth\"},{\"text\":\"module\",\"link\":\"/en/tsconfig-reference/options/module\"},{\"text\":\"moduleDetection\",\"link\":\"/en/tsconfig-reference/options/moduleDetection\"},{\"text\":\"moduleResolution\",\"link\":\"/en/tsconfig-reference/options/moduleResolution\"},{\"text\":\"moduleSuffixes\",\"link\":\"/en/tsconfig-reference/options/moduleSuffixes\"},{\"text\":\"newLine\",\"link\":\"/en/tsconfig-reference/options/newLine\"},{\"text\":\"noEmit\",\"link\":\"/en/tsconfig-reference/options/noEmit\"},{\"text\":\"noEmitHelpers\",\"link\":\"/en/tsconfig-reference/options/noEmitHelpers\"},{\"text\":\"noEmitOnError\",\"link\":\"/en/tsconfig-reference/options/noEmitOnError\"},{\"text\":\"noErrorTruncation\",\"link\":\"/en/tsconfig-reference/options/noErrorTruncation\"},{\"text\":\"noFallthroughCasesInSwitch\",\"link\":\"/en/tsconfig-reference/options/noFallthroughCasesInSwitch\"},{\"text\":\"noImplicitAny\",\"link\":\"/en/tsconfig-reference/options/noImplicitAny\"},{\"text\":\"noImplicitOverride\",\"link\":\"/en/tsconfig-reference/options/noImplicitOverride\"},{\"text\":\"noImplicitReturns\",\"link\":\"/en/tsconfig-reference/options/noImplicitReturns\"},{\"text\":\"noImplicitThis\",\"link\":\"/en/tsconfig-reference/options/noImplicitThis\"},{\"text\":\"noImplicitUseStrict\",\"link\":\"/en/tsconfig-reference/options/noImplicitUseStrict\"},{\"text\":\"noLib\",\"link\":\"/en/tsconfig-reference/options/noLib\"},{\"text\":\"noPropertyAccessFromIndexSignature\",\"link\":\"/en/tsconfig-reference/options/noPropertyAccessFromIndexSignature\"},{\"text\":\"noResolve\",\"link\":\"/en/tsconfig-reference/options/noResolve\"},{\"text\":\"noStrictGenericChecks\",\"link\":\"/en/tsconfig-reference/options/noStrictGenericChecks\"},{\"text\":\"noUncheckedIndexedAccess\",\"link\":\"/en/tsconfig-reference/options/noUncheckedIndexedAccess\"},{\"text\":\"noUnusedLocals\",\"link\":\"/en/tsconfig-reference/options/noUnusedLocals\"},{\"text\":\"noUnusedParameters\",\"link\":\"/en/tsconfig-reference/options/noUnusedParameters\"},{\"text\":\"out\",\"link\":\"/en/tsconfig-reference/options/out\"},{\"text\":\"outDir\",\"link\":\"/en/tsconfig-reference/options/outDir\"},{\"text\":\"outFile\",\"link\":\"/en/tsconfig-reference/options/outFile\"},{\"text\":\"paths\",\"link\":\"/en/tsconfig-reference/options/paths\"},{\"text\":\"plugins\",\"link\":\"/en/tsconfig-reference/options/plugins\"},{\"text\":\"preserveConstEnums\",\"link\":\"/en/tsconfig-reference/options/preserveConstEnums\"},{\"text\":\"preserveSymlinks\",\"link\":\"/en/tsconfig-reference/options/preserveSymlinks\"},{\"text\":\"preserveValueImports\",\"link\":\"/en/tsconfig-reference/options/preserveValueImports\"},{\"text\":\"preserveWatchOutput\",\"link\":\"/en/tsconfig-reference/options/preserveWatchOutput\"},{\"text\":\"pretty\",\"link\":\"/en/tsconfig-reference/options/pretty\"},{\"text\":\"reactNamespace\",\"link\":\"/en/tsconfig-reference/options/reactNamespace\"},{\"text\":\"references\",\"link\":\"/en/tsconfig-reference/options/references\"},{\"text\":\"removeComments\",\"link\":\"/en/tsconfig-reference/options/removeComments\"},{\"text\":\"resolveJsonModule\",\"link\":\"/en/tsconfig-reference/options/resolveJsonModule\"},{\"text\":\"resolvePackageJsonExports\",\"link\":\"/en/tsconfig-reference/options/resolvePackageJsonExports\"},{\"text\":\"resolvePackageJsonImports\",\"link\":\"/en/tsconfig-reference/options/resolvePackageJsonImports\"},{\"text\":\"rootDir\",\"link\":\"/en/tsconfig-reference/options/rootDir\"},{\"text\":\"rootDirs\",\"link\":\"/en/tsconfig-reference/options/rootDirs\"},{\"text\":\"skipDefaultLibCheck\",\"link\":\"/en/tsconfig-reference/options/skipDefaultLibCheck\"},{\"text\":\"skipLibCheck\",\"link\":\"/en/tsconfig-reference/options/skipLibCheck\"},{\"text\":\"sourceMap\",\"link\":\"/en/tsconfig-reference/options/sourceMap\"},{\"text\":\"sourceRoot\",\"link\":\"/en/tsconfig-reference/options/sourceRoot\"},{\"text\":\"strict\",\"link\":\"/en/tsconfig-reference/options/strict\"},{\"text\":\"strictBindCallApply\",\"link\":\"/en/tsconfig-reference/options/strictBindCallApply\"},{\"text\":\"strictFunctionTypes\",\"link\":\"/en/tsconfig-reference/options/strictFunctionTypes\"},{\"text\":\"strictNullChecks\",\"link\":\"/en/tsconfig-reference/options/strictNullChecks\"},{\"text\":\"strictPropertyInitialization\",\"link\":\"/en/tsconfig-reference/options/strictPropertyInitialization\"},{\"text\":\"stripInternal\",\"link\":\"/en/tsconfig-reference/options/stripInternal\"},{\"text\":\"suppressExcessPropertyErrors\",\"link\":\"/en/tsconfig-reference/options/suppressExcessPropertyErrors\"},{\"text\":\"suppressImplicitAnyIndexErrors\",\"link\":\"/en/tsconfig-reference/options/suppressImplicitAnyIndexErrors\"},{\"text\":\"synchronousWatchDirectory\",\"link\":\"/en/tsconfig-reference/options/synchronousWatchDirectory\"},{\"text\":\"target\",\"link\":\"/en/tsconfig-reference/options/target\"},{\"text\":\"traceResolution\",\"link\":\"/en/tsconfig-reference/options/traceResolution\"},{\"text\":\"tsBuildInfoFile\",\"link\":\"/en/tsconfig-reference/options/tsBuildInfoFile\"},{\"text\":\"typeAcquisition\",\"link\":\"/en/tsconfig-reference/options/typeAcquisition\"},{\"text\":\"typeRoots\",\"link\":\"/en/tsconfig-reference/options/typeRoots\"},{\"text\":\"types\",\"link\":\"/en/tsconfig-reference/options/types\"},{\"text\":\"useDefineForClassFields\",\"link\":\"/en/tsconfig-reference/options/useDefineForClassFields\"},{\"text\":\"useUnknownInCatchVariables\",\"link\":\"/en/tsconfig-reference/options/useUnknownInCatchVariables\"},{\"text\":\"verbatimModuleSyntax\",\"link\":\"/en/tsconfig-reference/options/verbatimModuleSyntax\"},{\"text\":\"verbose\",\"link\":\"/en/tsconfig-reference/options/verbose\"},{\"text\":\"watchDirectory\",\"link\":\"/en/tsconfig-reference/options/watchDirectory\"},{\"text\":\"watchFile\",\"link\":\"/en/tsconfig-reference/options/watchFile\"}]},{\"text\":\"typeAcquisition\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"exclude\",\"link\":\"/en/tsconfig-reference/options/typeAcquisition/exclude\"},{\"text\":\"include\",\"link\":\"/en/tsconfig-reference/options/typeAcquisition/include\"}]},{\"text\":\"project-config\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"Compiler Options in MSBuild\",\"link\":\"/en/tsconfig-reference/project-config/Compiler Options in MSBuild\"},{\"text\":\"Compiler Options\",\"link\":\"/en/tsconfig-reference/project-config/Compiler Options\"},{\"text\":\"Configuring Watch\",\"link\":\"/en/tsconfig-reference/project-config/Configuring Watch\"},{\"text\":\"Integrating with Build Tools\",\"link\":\"/en/tsconfig-reference/project-config/Integrating with Build Tools\"},{\"text\":\"Project References\",\"link\":\"/en/tsconfig-reference/project-config/Project References\"},{\"text\":\"tsconfig\",\"link\":\"/en/tsconfig-reference/project-config/tsconfig\"}]},{\"text\":\"sections\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"Top Level\",\"link\":\"/en/tsconfig-reference/sections/Top Level\"},{\"text\":\"buildOptions\",\"link\":\"/en/tsconfig-reference/sections/buildOptions\"},{\"text\":\"compilerOptions\",\"link\":\"/en/tsconfig-reference/sections/compilerOptions\"},{\"text\":\"typeAcquisition\",\"link\":\"/en/tsconfig-reference/sections/typeAcquisition\"},{\"text\":\"watchOptions\",\"link\":\"/en/tsconfig-reference/sections/watchOptions\"}]}],\"/en/tutorials/\":[{\"text\":\"tutorials\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"ASP.NET Core\",\"link\":\"/en/tutorials/ASP.NET Core\"},{\"text\":\"Angular\",\"link\":\"/en/tutorials/Angular\"},{\"text\":\"Babel with TypeScript\",\"link\":\"/en/tutorials/Babel with TypeScript\"},{\"text\":\"DOM Manipulation\",\"link\":\"/en/tutorials/DOM Manipulation\"},{\"text\":\"Gulp\",\"link\":\"/en/tutorials/Gulp\"},{\"text\":\"Migrating from JavaScript\",\"link\":\"/en/tutorials/Migrating from JavaScript\"},{\"text\":\"React\",\"link\":\"/en/tutorials/React\"},{\"text\":\"TypeScript Tooling in 5 minutes\",\"link\":\"/en/tutorials/TypeScript Tooling in 5 minutes\"}]},{\"text\":\"get-started\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"TS for Functional Programmers\",\"link\":\"/en/tutorials/get-started/TS for Functional Programmers\"},{\"text\":\"TS for JS Programmers\",\"link\":\"/en/tutorials/get-started/TS for JS Programmers\"},{\"text\":\"TS for OOPers\",\"link\":\"/en/tutorials/get-started/TS for OOPers\"},{\"text\":\"TS for the New Programmer\",\"link\":\"/en/tutorials/get-started/TS for the New Programmer\"}]},{\"text\":\"javascript\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"Creating DTS files From JS\",\"link\":\"/en/tutorials/javascript/Creating DTS files From JS\"},{\"text\":\"Intro to JS with TS\",\"link\":\"/en/tutorials/javascript/Intro to JS with TS\"},{\"text\":\"JSDoc Reference\",\"link\":\"/en/tutorials/javascript/JSDoc Reference\"},{\"text\":\"Type Checking JavaScript Files\",\"link\":\"/en/tutorials/javascript/Type Checking JavaScript Files\"}]}]}}}},\"scrollOffset\":90,\"cleanUrls\":true}")</script>
    
  </body>
</html>