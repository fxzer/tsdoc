import{_ as s,o as n,c as a,V as l}from"./chunks/framework.ced88878.js";const C=JSON.parse('{"title":"React","description":"","frontmatter":{},"headers":[],"relativePath":"zh/tutorials/React.md","lastUpdated":1682670826000}'),p={name:"zh/tutorials/React.md"},o=l(`<h1 id="react" tabindex="-1">React <a class="header-anchor" href="#react" aria-label="Permalink to &quot;React&quot;">â€‹</a></h1><p>è¿™ç¯‡å¿«é€Ÿä¸Šæ‰‹æŒ‡å—ä¼šæ•™ä½ å¦‚ä½•å°†TypeScriptä¸<a href="https://reactjs.org/" target="_blank" rel="noreferrer">React</a>ç»“åˆèµ·æ¥ä½¿ç”¨ã€‚ åœ¨æœ€åï¼Œä½ å°†å­¦åˆ°ï¼š</p><ul><li>ä½¿ç”¨TypeScriptå’ŒReactåˆ›å»ºå·¥ç¨‹</li><li>ä½¿ç”¨<a href="https://github.com/palantir/tslint" target="_blank" rel="noreferrer">TSLint</a>è¿›è¡Œä»£ç æ£€æŸ¥</li><li>ä½¿ç”¨<a href="https://facebook.github.io/jest/" target="_blank" rel="noreferrer">Jest</a>å’Œ<a href="http://airbnb.io/enzyme/" target="_blank" rel="noreferrer">Enzyme</a>è¿›è¡Œæµ‹è¯•ï¼Œä»¥åŠ</li><li>ä½¿ç”¨<a href="https://github.com/reactjs/react-redux" target="_blank" rel="noreferrer">Redux</a>ç®¡ç†çŠ¶æ€</li></ul><p>æˆ‘ä»¬ä¼šä½¿ç”¨<a href="https://github.com/facebookincubator/create-react-app" target="_blank" rel="noreferrer">create-react-app</a>å·¥å…·å¿«é€Ÿæ­å»ºå·¥ç¨‹ç¯å¢ƒã€‚</p><p>è¿™é‡Œå‡è®¾ä½ å·²ç»åœ¨ä½¿ç”¨<a href="https://nodejs.org/" target="_blank" rel="noreferrer">Node.js</a>å’Œ<a href="https://www.npmjs.com/" target="_blank" rel="noreferrer">npm</a>ã€‚ å¹¶ä¸”å·²ç»äº†è§£äº†<a href="https://reactjs.org/docs/hello-world.html" target="_blank" rel="noreferrer">Reactçš„åŸºç¡€çŸ¥è¯†</a>ã€‚</p><h2 id="åˆ›å»ºæ–°å·¥ç¨‹" tabindex="-1">åˆ›å»ºæ–°å·¥ç¨‹ <a class="header-anchor" href="#åˆ›å»ºæ–°å·¥ç¨‹" aria-label="Permalink to &quot;åˆ›å»ºæ–°å·¥ç¨‹&quot;">â€‹</a></h2><p>è®©æˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ªå«åš<code>my-app</code>çš„æ–°å·¥ç¨‹ï¼š</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#f6f6f4;">npx create-react-app my-app --template typescript</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">npx create-react-app my-app --template typescript</span></span></code></pre></div><p><a href="https://www.npmjs.com/package/react-scripts-ts" target="_blank" rel="noreferrer">react-scripts-ts</a>æ˜¯ä¸€ç³»åˆ—é€‚é…å™¨ï¼Œå®ƒåˆ©ç”¨æ ‡å‡†çš„create-react-appå·¥ç¨‹ç®¡é“å¹¶æŠŠTypeScriptæ··å…¥è¿›æ¥ã€‚</p><p>æ­¤æ—¶çš„å·¥ç¨‹ç»“æ„åº”å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#f6f6f4;">my-app/</span></span>
<span class="line"><span style="color:#f6f6f4;">â”œâ”€ .gitignore</span></span>
<span class="line"><span style="color:#f6f6f4;">â”œâ”€ node_modules/</span></span>
<span class="line"><span style="color:#f6f6f4;">â”œâ”€ public/</span></span>
<span class="line"><span style="color:#f6f6f4;">â”œâ”€ src/</span></span>
<span class="line"><span style="color:#f6f6f4;">â”‚  â””â”€ ...</span></span>
<span class="line"><span style="color:#f6f6f4;">â”œâ”€ package.json</span></span>
<span class="line"><span style="color:#f6f6f4;">â”œâ”€ tsconfig.json</span></span>
<span class="line"><span style="color:#f6f6f4;">â””â”€ tslint.json</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">my-app/</span></span>
<span class="line"><span style="color:#24292e;">â”œâ”€ .gitignore</span></span>
<span class="line"><span style="color:#24292e;">â”œâ”€ node_modules/</span></span>
<span class="line"><span style="color:#24292e;">â”œâ”€ public/</span></span>
<span class="line"><span style="color:#24292e;">â”œâ”€ src/</span></span>
<span class="line"><span style="color:#24292e;">â”‚  â””â”€ ...</span></span>
<span class="line"><span style="color:#24292e;">â”œâ”€ package.json</span></span>
<span class="line"><span style="color:#24292e;">â”œâ”€ tsconfig.json</span></span>
<span class="line"><span style="color:#24292e;">â””â”€ tslint.json</span></span></code></pre></div><p>æ³¨æ„ï¼š</p><ul><li><code>tsconfig.json</code>åŒ…å«äº†å·¥ç¨‹é‡ŒTypeScriptç‰¹å®šçš„é€‰é¡¹ã€‚</li><li><code>tslint.json</code>ä¿å­˜äº†è¦ä½¿ç”¨çš„ä»£ç æ£€æŸ¥å™¨çš„è®¾ç½®ï¼Œ<a href="https://github.com/palantir/tslint" target="_blank" rel="noreferrer">TSLint</a>ã€‚</li><li><code>package.json</code>åŒ…å«äº†ä¾èµ–ï¼Œè¿˜æœ‰ä¸€äº›å‘½ä»¤çš„å¿«æ·æ–¹å¼ï¼Œå¦‚æµ‹è¯•å‘½ä»¤ï¼Œé¢„è§ˆå‘½ä»¤å’Œå‘å¸ƒåº”ç”¨çš„å‘½ä»¤ã€‚</li><li><code>public</code>åŒ…å«äº†é™æ€èµ„æºå¦‚HTMLé¡µé¢æˆ–å›¾ç‰‡ã€‚é™¤äº†<code>index.html</code>æ–‡ä»¶å¤–ï¼Œå…¶å®ƒçš„æ–‡ä»¶éƒ½å¯ä»¥åˆ é™¤ã€‚</li><li><code>src</code>åŒ…å«äº†TypeScriptå’ŒCSSæºç ã€‚<code>index.tsx</code>æ˜¯å¼ºåˆ¶ä½¿ç”¨çš„å…¥å£æ–‡ä»¶ã€‚</li></ul><h2 id="è¿è¡Œå·¥ç¨‹" tabindex="-1">è¿è¡Œå·¥ç¨‹ <a class="header-anchor" href="#è¿è¡Œå·¥ç¨‹" aria-label="Permalink to &quot;è¿è¡Œå·¥ç¨‹&quot;">â€‹</a></h2><p>é€šè¿‡ä¸‹é¢çš„æ–¹å¼å³å¯è½»æ¾åœ°è¿è¡Œè¿™ä¸ªå·¥ç¨‹ã€‚</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">npm </span><span style="color:#E7EE98;">run</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">start</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">run</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span></span></code></pre></div><p>å®ƒä¼šæ‰§è¡Œ<code>package.json</code>é‡Œé¢æŒ‡å®šçš„<code>start</code>å‘½ä»¤ï¼Œå¹¶ä¸”ä¼šå¯åŠ¨ä¸€ä¸ªæœåŠ¡å™¨ï¼Œå½“æˆ‘ä»¬ä¿å­˜æ–‡ä»¶æ—¶è¿˜ä¼šè‡ªåŠ¨åˆ·æ–°é¡µé¢ã€‚ é€šå¸¸è¿™ä¸ªæœåŠ¡å™¨çš„åœ°å€æ˜¯<code>http://localhost:3000</code>ï¼Œé¡µé¢åº”ç”¨ä¼šè¢«è‡ªåŠ¨åœ°æ‰“å¼€ã€‚</p><p>å®ƒä¼šä¿æŒç›‘å¬ä»¥æ–¹ä¾¿æˆ‘ä»¬å¿«é€Ÿåœ°é¢„è§ˆæ”¹åŠ¨ã€‚</p><h2 id="æµ‹è¯•å·¥ç¨‹" tabindex="-1">æµ‹è¯•å·¥ç¨‹ <a class="header-anchor" href="#æµ‹è¯•å·¥ç¨‹" aria-label="Permalink to &quot;æµ‹è¯•å·¥ç¨‹&quot;">â€‹</a></h2><p>æµ‹è¯•ä¹Ÿä»…ä»…æ˜¯ä¸€è¡Œå‘½ä»¤çš„äº‹å„¿ï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">npm </span><span style="color:#E7EE98;">run</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">test</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">run</span><span style="color:#24292E;"> </span><span style="color:#032F62;">test</span></span></code></pre></div><p>è¿™ä¸ªå‘½ä»¤ä¼šè¿è¡ŒJestï¼Œä¸€ä¸ªéå¸¸å¥½ç”¨çš„æµ‹è¯•å·¥å…·ï¼Œå®ƒä¼šè¿è¡Œæ‰€æœ‰æ‰©å±•åæ˜¯<code>.test.ts</code>æˆ–<code>.spec.ts</code>çš„æ–‡ä»¶ã€‚ å¥½æ¯”æ˜¯<code>npm run start</code>å‘½ä»¤ï¼Œå½“æ£€æµ‹åˆ°æœ‰æ”¹åŠ¨çš„æ—¶å€™Jestä¼šè‡ªåŠ¨åœ°è¿è¡Œã€‚ å¦‚æœå–œæ¬¢çš„è¯ï¼Œä½ è¿˜å¯ä»¥åŒæ—¶è¿è¡Œ<code>npm run start</code>å’Œ<code>npm run test</code>ï¼Œè¿™æ ·ä½ å°±å¯ä»¥åœ¨é¢„è§ˆçš„åŒæ—¶è¿›è¡Œæµ‹è¯•ã€‚</p><h2 id="ç”Ÿæˆç”Ÿäº§ç¯å¢ƒçš„æ„å»ºç‰ˆæœ¬" tabindex="-1">ç”Ÿæˆç”Ÿäº§ç¯å¢ƒçš„æ„å»ºç‰ˆæœ¬ <a class="header-anchor" href="#ç”Ÿæˆç”Ÿäº§ç¯å¢ƒçš„æ„å»ºç‰ˆæœ¬" aria-label="Permalink to &quot;ç”Ÿæˆç”Ÿäº§ç¯å¢ƒçš„æ„å»ºç‰ˆæœ¬&quot;">â€‹</a></h2><p>åœ¨ä½¿ç”¨<code>npm run start</code>è¿è¡Œå·¥ç¨‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰ç”Ÿæˆä¸€ä¸ªä¼˜åŒ–è¿‡çš„ç‰ˆæœ¬ã€‚ é€šå¸¸æˆ‘ä»¬æƒ³ç»™ç”¨æˆ·ä¸€ä¸ªè¿è¡Œçš„å°½å¯èƒ½å¿«å¹¶åœ¨ä½“ç§¯ä¸Šå°½å¯èƒ½å°çš„ä»£ç ã€‚ åƒå‹ç¼©è¿™æ ·çš„ä¼˜åŒ–æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œä½†æ˜¯æ€»æ˜¯è¦è€—è´¹æ›´å¤šçš„æ—¶é—´ã€‚ æˆ‘ä»¬æŠŠè¿™æ ·çš„æ„å»ºç‰ˆæœ¬ç§°åšâ€œç”Ÿäº§ç¯å¢ƒâ€ç‰ˆæœ¬ï¼ˆä¸å¼€å‘ç‰ˆæœ¬ç›¸å¯¹ï¼‰ã€‚</p><p>è¦æ‰§è¡Œç”Ÿäº§ç¯å¢ƒçš„æ„å»ºï¼Œå¯ä»¥è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">npm </span><span style="color:#E7EE98;">run</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">build</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">run</span><span style="color:#24292E;"> </span><span style="color:#032F62;">build</span></span></code></pre></div><p>è¿™ä¼šç›¸åº”åœ°åˆ›å»ºä¼˜åŒ–è¿‡çš„JSå’ŒCSSæ–‡ä»¶ï¼Œ<code>./build/static/js</code>å’Œ<code>./build/static/css</code>ã€‚</p><p>å¤§å¤šæ•°æƒ…å†µä¸‹ä½ ä¸éœ€è¦ç”Ÿæˆç”Ÿäº§ç¯å¢ƒçš„æ„å»ºç‰ˆæœ¬ï¼Œ ä½†å®ƒå¯ä»¥å¸®åŠ©ä½ è¡¡é‡åº”ç”¨æœ€ç»ˆç‰ˆæœ¬çš„ä½“ç§¯å¤§å°ã€‚</p><h2 id="åˆ›å»ºä¸€ä¸ªç»„ä»¶" tabindex="-1">åˆ›å»ºä¸€ä¸ªç»„ä»¶ <a class="header-anchor" href="#åˆ›å»ºä¸€ä¸ªç»„ä»¶" aria-label="Permalink to &quot;åˆ›å»ºä¸€ä¸ªç»„ä»¶&quot;">â€‹</a></h2><p>ä¸‹é¢æˆ‘ä»¬å°†è¦åˆ›å»ºä¸€ä¸ª<code>Hello</code>ç»„ä»¶ã€‚ è¿™ä¸ªç»„ä»¶æ¥æ”¶ä»»æ„ä¸€ä¸ªæˆ‘ä»¬æƒ³å¯¹ä¹‹æ‰“æ‹›å‘¼çš„åå­—ï¼ˆæˆ‘ä»¬æŠŠå®ƒå«åš<code>name</code>ï¼‰ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªå¯é€‰æ•°é‡çš„æ„Ÿå¹å·åšä¸ºç»“å°¾ï¼ˆé€šè¿‡<code>enthusiasmLevel</code>ï¼‰ã€‚</p><p>è‹¥æˆ‘ä»¬è¿™æ ·å†™<code>&lt;Hello name=&quot;Daniel&quot; enthusiasmLevel={3} /&gt;</code>ï¼Œè¿™ä¸ªç»„ä»¶å¤§è‡³ä¼šæ¸²æŸ“æˆ<code>&lt;div&gt;Hello Daniel!!!&lt;/div&gt;</code>ã€‚ å¦‚æœæ²¡æŒ‡å®š<code>enthusiasmLevel</code>ï¼Œç»„ä»¶å°†é»˜è®¤æ˜¾ç¤ºä¸€ä¸ªæ„Ÿå¹å·ã€‚ è‹¥<code>enthusiasmLevel</code>ä¸º<code>0</code>æˆ–è´Ÿå€¼å°†æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</p><p>ä¸‹é¢æ¥å†™ä¸€ä¸‹<code>Hello.tsx</code>ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// src/components/Hello.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">*</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">as</span><span style="color:#F6F6F4;"> React </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">react</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Props</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  name</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  enthusiasmLevel</span><span style="color:#F286C4;">?:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">number</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">Hello</span><span style="color:#F6F6F4;">({ </span><span style="color:#FFB86C;font-style:italic;">name</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">enthusiasmLevel</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;"> }</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Props</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (enthusiasmLevel </span><span style="color:#F286C4;">&lt;=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">throw</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">Error</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">You could be a little more enthusiastic. :D</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> (</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">div className</span><span style="color:#F286C4;">=</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">hello</span><span style="color:#DEE492;">&quot;</span><span style="color:#F286C4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">div className</span><span style="color:#F286C4;">=</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">greeting</span><span style="color:#DEE492;">&quot;</span><span style="color:#F286C4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">        Hello {</span><span style="color:#FFB86C;font-style:italic;">name</span><span style="color:#F6F6F4;"> + </span><span style="color:#FFB86C;font-style:italic;">getExclamationMarks</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">enthusiasmLevel</span><span style="color:#F6F6F4;">)}</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">&lt;/</span><span style="color:#F6F6F4;">div</span><span style="color:#F286C4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">&lt;/</span><span style="color:#F6F6F4;">div</span><span style="color:#F286C4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">  );</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">default</span><span style="color:#F6F6F4;"> Hello;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7B7F8B;">// helpers</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">getExclamationMarks</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">numChars</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">number</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">Array</span><span style="color:#F6F6F4;">(numChars </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">).</span><span style="color:#62E884;">join</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">!</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// src/components/Hello.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> React </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Props</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">name</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">enthusiasmLevel</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Hello</span><span style="color:#24292E;">({ </span><span style="color:#E36209;">name</span><span style="color:#24292E;">, </span><span style="color:#E36209;">enthusiasmLevel</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> }</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Props</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (enthusiasmLevel </span><span style="color:#D73A49;">&lt;=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">throw</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Error</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;You could be a little more enthusiastic. :D&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">div className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;hello&quot;</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">div className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;greeting&quot;</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        Hello {</span><span style="color:#E36209;">name</span><span style="color:#24292E;"> + </span><span style="color:#E36209;">getExclamationMarks</span><span style="color:#24292E;">(</span><span style="color:#E36209;">enthusiasmLevel</span><span style="color:#24292E;">)}</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">&lt;/</span><span style="color:#24292E;">div</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">&lt;/</span><span style="color:#24292E;">div</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> Hello;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// helpers</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getExclamationMarks</span><span style="color:#24292E;">(</span><span style="color:#E36209;">numChars</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">(numChars </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">join</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;!&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>æ³¨æ„æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªç±»å‹<code>Props</code>ï¼Œå®ƒæŒ‡å®šäº†æˆ‘ä»¬ç»„ä»¶è¦ç”¨åˆ°çš„å±æ€§ã€‚ <code>name</code>æ˜¯å¿…éœ€çš„ä¸”ä¸º<code>string</code>ç±»å‹ï¼ŒåŒæ—¶<code>enthusiasmLevel</code>æ˜¯å¯é€‰çš„ä¸”ä¸º<code>number</code>ç±»å‹ï¼ˆä½ å¯ä»¥é€šè¿‡åå­—åé¢åŠ <code>?</code>ä¸ºæŒ‡å®šå¯é€‰å‚æ•°ï¼‰ã€‚</p><p>æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå‡½æ•°ç»„ä»¶<code>Hello</code>ã€‚ å…·ä½“æ¥è®²ï¼Œ<code>Hello</code>æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ª<code>Props</code>å¯¹è±¡å¹¶æ‹†è§£å®ƒã€‚ å¦‚æœ<code>Props</code>å¯¹è±¡é‡Œæ²¡æœ‰è®¾ç½®<code>enthusiasmLevel</code>ï¼Œé»˜è®¤å€¼ä¸º<code>1</code>ã€‚</p><p>ä½¿ç”¨å‡½æ•°æ˜¯Reactä¸­å®šä¹‰ç»„ä»¶çš„<a href="https://reactjs.org/docs/components-and-props.html#functional-and-class-components" target="_blank" rel="noreferrer">ä¸¤ç§æ–¹å¼</a>ä¹‹ä¸€ã€‚ å¦‚æœä½ å–œæ¬¢çš„è¯ï¼Œä¹Ÿ_å¯ä»¥_é€šè¿‡ç±»çš„æ–¹å¼å®šä¹‰ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">Hello</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">extends</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">React</span><span style="color:#F6F6F4;">.</span><span style="color:#97E1F1;font-style:italic;">Component</span><span style="color:#F6F6F4;">&lt;</span><span style="color:#FFB86C;font-style:italic;">Props</span><span style="color:#F6F6F4;">, </span><span style="color:#97E1F1;font-style:italic;">object</span><span style="color:#F6F6F4;">&gt; {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#62E884;">render</span><span style="color:#F6F6F4;">() {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> { name, enthusiasmLevel </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;"> } </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.props;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (enthusiasmLevel </span><span style="color:#F286C4;">&lt;=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">throw</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">Error</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">You could be a little more enthusiastic. :D</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> (</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">div className</span><span style="color:#F286C4;">=</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">hello</span><span style="color:#DEE492;">&quot;</span><span style="color:#F286C4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">div className</span><span style="color:#F286C4;">=</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">greeting</span><span style="color:#DEE492;">&quot;</span><span style="color:#F286C4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">          Hello {</span><span style="color:#FFB86C;font-style:italic;">name</span><span style="color:#F6F6F4;"> + </span><span style="color:#FFB86C;font-style:italic;">getExclamationMarks</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">enthusiasmLevel</span><span style="color:#F6F6F4;">)}</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">&lt;/</span><span style="color:#F6F6F4;">div</span><span style="color:#F286C4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">&lt;/</span><span style="color:#F6F6F4;">div</span><span style="color:#F286C4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    );</span></span>
<span class="line"><span style="color:#F6F6F4;">  }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Hello</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">React</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">Component</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">Props</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">object</span><span style="color:#24292E;">&gt; {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">name</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">enthusiasmLevel</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.props;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (enthusiasmLevel </span><span style="color:#D73A49;">&lt;=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">throw</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Error</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;You could be a little more enthusiastic. :D&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">div className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;hello&quot;</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">div className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;greeting&quot;</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          Hello {</span><span style="color:#E36209;">name</span><span style="color:#24292E;"> + </span><span style="color:#E36209;">getExclamationMarks</span><span style="color:#24292E;">(</span><span style="color:#E36209;">enthusiasmLevel</span><span style="color:#24292E;">)}</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">&lt;/</span><span style="color:#24292E;">div</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">&lt;/</span><span style="color:#24292E;">div</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    );</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>å½“æˆ‘ä»¬çš„<a href="https://reactjs.org/docs/state-and-lifecycle.html" target="_blank" rel="noreferrer">ç»„ä»¶å…·æœ‰æŸäº›çŠ¶æ€</a>çš„æ—¶å€™ï¼Œä½¿ç”¨ç±»çš„æ–¹å¼æ˜¯å¾ˆæœ‰ç”¨å¤„çš„ã€‚ ä½†åœ¨è¿™ä¸ªä¾‹å­é‡Œæˆ‘ä»¬ä¸éœ€è¦è€ƒè™‘çŠ¶æ€ - äº‹å®ä¸Šï¼Œåœ¨<code>React.Component&lt;Props, object&gt;</code>æˆ‘ä»¬æŠŠçŠ¶æ€æŒ‡å®šä¸ºäº†<code>object</code>ï¼Œå› æ­¤ä½¿ç”¨å‡½æ•°ç»„ä»¶æ›´ç®€æ´ã€‚ å½“åœ¨åˆ›å»ºå¯é‡ç”¨çš„é€šç”¨UIç»„ä»¶çš„æ—¶å€™ï¼Œåœ¨è¡¨ç°å±‚ä½¿ç”¨ç»„ä»¶å±€éƒ¨çŠ¶æ€æ¯”è¾ƒé€‚åˆã€‚ é’ˆå¯¹æˆ‘ä»¬åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸï¼Œæˆ‘ä»¬ä¼šå®¡è§†åº”ç”¨æ˜¯å¦‚ä½•é€šè¿‡Reduxè½»æ¾åœ°ç®¡ç†æ™®é€šçŠ¶æ€çš„ã€‚</p><p>ç°åœ¨æˆ‘ä»¬å·²ç»å†™å¥½äº†ç»„ä»¶ï¼Œè®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹<code>index.tsx</code>ï¼ŒæŠŠ<code>&lt;App /&gt;</code>æ›¿æ¢æˆ<code>&lt;Hello ... /&gt;</code>ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬åœ¨æ–‡ä»¶å¤´éƒ¨å¯¼å…¥å®ƒï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> Hello </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">./components/Hello</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> Hello </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;./components/Hello&#39;</span><span style="color:#24292E;">;</span></span></code></pre></div><p>ç„¶åä¿®æ”¹<code>render</code>è°ƒç”¨ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">ReactDOM.</span><span style="color:#62E884;">render</span><span style="color:#F6F6F4;">(</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">Hello name</span><span style="color:#F286C4;">=</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">TypeScript</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> enthusiasmLevel</span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;">{</span><span style="color:#BF9EEE;">10</span><span style="color:#F6F6F4;">} </span><span style="color:#F286C4;">/&gt;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">  document.</span><span style="color:#62E884;">getElementById</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">root</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">as</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">HTMLElement</span></span>
<span class="line"><span style="color:#F6F6F4;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">ReactDOM.</span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">Hello name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;TypeScript&quot;</span><span style="color:#24292E;"> enthusiasmLevel</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">} </span><span style="color:#D73A49;">/&gt;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  document.</span><span style="color:#6F42C1;">getElementById</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;root&#39;</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">HTMLElement</span></span>
<span class="line"><span style="color:#24292E;">);</span></span></code></pre></div><h3 id="ç±»å‹æ–­è¨€" tabindex="-1">ç±»å‹æ–­è¨€ <a class="header-anchor" href="#ç±»å‹æ–­è¨€" aria-label="Permalink to &quot;ç±»å‹æ–­è¨€&quot;">â€‹</a></h3><p>è¿™é‡Œè¿˜æœ‰ä¸€ç‚¹è¦æŒ‡å‡ºï¼Œå°±æ˜¯æœ€åä¸€è¡Œ<code>document.getElementById(&#39;root&#39;) as HTMLElement</code>ã€‚ è¿™ä¸ªè¯­æ³•å«åš_ç±»å‹æ–­è¨€_ï¼Œæœ‰æ—¶ä¹Ÿå«åš_è½¬æ¢_ã€‚ å½“ä½ æ¯”ç±»å‹æ£€æŸ¥å™¨æ›´æ¸…æ¥šä¸€ä¸ªè¡¨è¾¾å¼çš„ç±»å‹çš„æ—¶å€™ï¼Œä½ å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼é€šçŸ¥TypeScriptã€‚</p><p>è¿™é‡Œï¼Œæˆ‘ä»¬ä¹‹æ‰€ä»¥è¿™ä¹ˆåšæ˜¯å› ä¸º<code>getElementById</code>çš„è¿”å›å€¼ç±»å‹æ˜¯<code>HTMLElement | null</code>ã€‚ ç®€å•åœ°è¯´ï¼Œ<code>getElementById</code>è¿”å›<code>null</code>æ˜¯å½“æ— æ³•æ‰¾å¯¹å¯¹åº”<code>id</code>å…ƒç´ çš„æ—¶å€™ã€‚ æˆ‘ä»¬å‡è®¾<code>getElementById</code>æ€»æ˜¯æˆåŠŸçš„ï¼Œå› æ­¤æˆ‘ä»¬è¦ä½¿ç”¨<code>as</code>è¯­æ³•å‘Šè¯‰TypeScriptè¿™ç‚¹ã€‚</p><p>TypeScriptè¿˜æœ‰ä¸€ç§æ„Ÿå¹å·ï¼ˆ<code>!</code>ï¼‰ç»“å°¾çš„è¯­æ³•ï¼Œå®ƒä¼šä»å‰é¢çš„è¡¨è¾¾å¼é‡Œç§»é™¤<code>null</code>å’Œ<code>undefined</code>ã€‚ æ‰€ä»¥æˆ‘ä»¬ä¹Ÿ_å¯ä»¥_å†™æˆ<code>document.getElementById(&#39;root&#39;)!</code>ï¼Œä½†åœ¨è¿™é‡Œæˆ‘ä»¬æƒ³å†™çš„æ›´æ¸…æ¥šäº›ã€‚</p><h2 id="æ·»åŠ æ ·å¼" tabindex="-1">ğŸ˜æ·»åŠ æ ·å¼ <a class="header-anchor" href="#æ·»åŠ æ ·å¼" aria-label="Permalink to &quot;:sunglasses:æ·»åŠ æ ·å¼&quot;">â€‹</a></h2><p>é€šè¿‡æˆ‘ä»¬çš„è®¾ç½®ä¸ºä¸€ä¸ªç»„ä»¶æ·»åŠ æ ·å¼å¾ˆå®¹æ˜“ã€‚ è‹¥è¦è®¾ç½®<code>Hello</code>ç»„ä»¶çš„æ ·å¼ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºè¿™æ ·ä¸€ä¸ªCSSæ–‡ä»¶<code>src/components/Hello.css</code>ã€‚</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#62E884;font-style:italic;">.hello</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">text-align</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">center</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">margin</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">20</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">font-size</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">48</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">font-family</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">Segoe UI</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">Tahoma</span><span style="color:#F6F6F4;">, Geneva, </span><span style="color:#BF9EEE;">Verdana</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">sans-serif</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.hello</span><span style="color:#F286C4;"> button</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">margin-left</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">25</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">margin-right</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">25</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">font-size</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">40</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">min-width</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">50</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">.hello</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">text-align</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">center</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">margin</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">20</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">font-size</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">48</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">font-family</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;Segoe UI&#39;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">Tahoma</span><span style="color:#24292E;">, Geneva, </span><span style="color:#005CC5;">Verdana</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">sans-serif</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">.hello</span><span style="color:#24292E;"> </span><span style="color:#22863A;">button</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">margin-left</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">25</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">margin-right</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">25</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">font-size</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">40</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">min-width</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">50</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p><code>create-react-app</code>åŒ…å«çš„å·¥å…·ï¼ˆWebpackå’Œä¸€äº›åŠ è½½å™¨ï¼‰å…è®¸æˆ‘ä»¬å¯¼å…¥æ ·å¼è¡¨æ–‡ä»¶ã€‚ å½“æˆ‘ä»¬æ„å»ºåº”ç”¨çš„æ—¶å€™ï¼Œæ‰€æœ‰å¯¼å…¥çš„<code>.css</code>æ–‡ä»¶ä¼šè¢«æ‹¼æ¥æˆä¸€ä¸ªè¾“å‡ºæ–‡ä»¶ã€‚ å› æ­¤åœ¨<code>src/components/Hello.tsx</code>ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ å¦‚ä¸‹å¯¼å…¥è¯­å¥ã€‚</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">./Hello.css</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;./Hello.css&#39;</span><span style="color:#24292E;">;</span></span></code></pre></div><h2 id="ä½¿ç”¨jestç¼–å†™æµ‹è¯•" tabindex="-1">ä½¿ç”¨Jestç¼–å†™æµ‹è¯• <a class="header-anchor" href="#ä½¿ç”¨jestç¼–å†™æµ‹è¯•" aria-label="Permalink to &quot;ä½¿ç”¨Jestç¼–å†™æµ‹è¯•&quot;">â€‹</a></h2><p>å¦‚æœä½ æ²¡ä½¿ç”¨è¿‡Jestï¼Œä½ å¯èƒ½å…ˆè¦æŠŠå®ƒå®‰è£…ä¸ºå¼€å‘ä¾èµ–é¡¹ã€‚</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">npm </span><span style="color:#E7EE98;">install</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">-D</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">jest</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">jest-cli</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">jest-config</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-D</span><span style="color:#24292E;"> </span><span style="color:#032F62;">jest</span><span style="color:#24292E;"> </span><span style="color:#032F62;">jest-cli</span><span style="color:#24292E;"> </span><span style="color:#032F62;">jest-config</span></span></code></pre></div><p>æˆ‘ä»¬å¯¹<code>Hello</code>ç»„ä»¶æœ‰ä¸€äº›å‡è®¾ã€‚ è®©æˆ‘ä»¬åœ¨æ­¤é‡ç”³ä¸€ä¸‹ï¼š</p><blockquote><ul><li>å½“è¿™æ ·å†™<code>&lt;Hello name=&quot;Daniel&quot; enthusiasmLevel={3} /&gt;</code>æ—¶ï¼Œç»„ä»¶åº”è¢«æ¸²æŸ“æˆ<code>&lt;div&gt;Hello Daniel!!!&lt;/div&gt;</code>ã€‚</li><li>è‹¥æœªæŒ‡å®š<code>enthusiasmLevel</code>ï¼Œç»„ä»¶åº”é»˜è®¤æ˜¾ç¤ºä¸€ä¸ªæ„Ÿå¹å·ã€‚</li><li>è‹¥<code>enthusiasmLevel</code>ä¸º<code>0</code>æˆ–è´Ÿå€¼ï¼Œå®ƒåº”æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</li></ul></blockquote><p>æˆ‘ä»¬å°†é’ˆå¯¹è¿™äº›éœ€æ±‚ä¸ºç»„ä»¶å†™ä¸€äº›æ³¨é‡Šã€‚</p><p>ä½†é¦–å…ˆï¼Œæˆ‘ä»¬è¦å®‰è£…Enzymeã€‚ <a href="http://airbnb.io/enzyme/" target="_blank" rel="noreferrer">Enzyme</a>æ˜¯Reactç”Ÿæ€ç³»ç»Ÿé‡Œä¸€ä¸ªé€šç”¨å·¥å…·ï¼Œå®ƒæ–¹ä¾¿äº†é’ˆå¯¹ç»„ä»¶çš„è¡Œä¸ºç¼–å†™æµ‹è¯•ã€‚ é»˜è®¤åœ°ï¼Œæˆ‘ä»¬çš„åº”ç”¨åŒ…å«äº†ä¸€ä¸ªå«åšjsdomçš„åº“ï¼Œå®ƒå…è®¸æˆ‘ä»¬æ¨¡æ‹ŸDOMä»¥åŠåœ¨éæµè§ˆå™¨çš„ç¯å¢ƒä¸‹æµ‹è¯•è¿è¡Œæ—¶çš„è¡Œä¸ºã€‚ Enzymeä¸æ­¤ç±»ä¼¼ï¼Œä½†æ˜¯æ˜¯åŸºäºjsdomçš„ï¼Œå¹¶ä¸”æ–¹ä¾¿æˆ‘ä»¬æŸ¥è¯¢ç»„ä»¶ã€‚</p><p>è®©æˆ‘ä»¬æŠŠå®ƒå®‰è£…ä¸ºå¼€å‘ä¾èµ–é¡¹ã€‚</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">npm </span><span style="color:#E7EE98;">install</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">-D</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">enzyme</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">@types/enzyme</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">enzyme-adapter-react-</span><span style="color:#BF9EEE;">16</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">@types/enzyme-adapter-react-</span><span style="color:#BF9EEE;">16</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-D</span><span style="color:#24292E;"> </span><span style="color:#032F62;">enzyme</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@types/enzyme</span><span style="color:#24292E;"> </span><span style="color:#032F62;">enzyme-adapter-react-</span><span style="color:#005CC5;">16</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@types/enzyme-adapter-react-</span><span style="color:#005CC5;">16</span></span></code></pre></div><p>å¦‚æœä½ çš„reactç‰ˆæœ¬ä½äº15.5.0ï¼Œè¿˜éœ€å®‰è£…å¦‚ä¸‹</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">npm </span><span style="color:#E7EE98;">install</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">-D</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">react-addons-test-utils</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-D</span><span style="color:#24292E;"> </span><span style="color:#032F62;">react-addons-test-utils</span></span></code></pre></div><p>æ³¨æ„æˆ‘ä»¬åŒæ—¶å®‰è£…äº†<code>enzyme</code>å’Œ<code>@types/enzyme</code>ã€‚ <code>enzyme</code>åŒ…æŒ‡çš„æ˜¯åŒ…å«äº†å®é™…è¿è¡Œçš„JavaScriptä»£ç åŒ…ï¼Œè€Œ<code>@types/enzyme</code>åˆ™åŒ…å«äº†å£°æ˜æ–‡ä»¶ï¼ˆ<code>.d.ts</code>æ–‡ä»¶ï¼‰çš„åŒ…ï¼Œä»¥ä¾¿TypeScriptèƒ½å¤Ÿäº†è§£è¯¥å¦‚ä½•ä½¿ç”¨Enzymeã€‚ ä½ å¯ä»¥åœ¨<a href="https://www.typescriptlang.org/docs/handbook/declaration-files/consumption.html" target="_blank" rel="noreferrer">è¿™é‡Œ</a>äº†è§£æ›´å¤šå…³äº<code>@types</code>åŒ…çš„ä¿¡æ¯ã€‚</p><p>æˆ‘ä»¬è¿˜éœ€è¦å®‰è£…<code>enzyme-adapter</code>å’Œ<code>react-addons-test-utils</code>ã€‚ å®ƒä»¬æ˜¯ä½¿ç”¨<code>enzyme</code>æ‰€éœ€è¦å®‰è£…çš„åŒ…ï¼Œå‰è€…ä½œä¸ºé…ç½®é€‚é…å™¨æ˜¯å¿…é¡»çš„ï¼Œè€Œåè€…è‹¥é‡‡ç”¨çš„Reactç‰ˆæœ¬åœ¨15.5.0ä¹‹ä¸Šåˆ™æ¯‹éœ€å®‰è£…ã€‚</p><p>ç°åœ¨æˆ‘ä»¬å·²ç»è®¾ç½®å¥½äº†Enzymeï¼Œä¸‹é¢å¼€å§‹ç¼–å†™æµ‹è¯•ï¼ å…ˆåˆ›å»ºä¸€ä¸ªæ–‡ä»¶<code>src/components/Hello.test.tsx</code>ï¼Œä¸å…ˆå‰çš„<code>Hello.tsx</code>æ–‡ä»¶æ”¾åœ¨ä¸€èµ·ã€‚</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// src/components/Hello.test.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">*</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">as</span><span style="color:#F6F6F4;"> React </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">react</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">*</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">as</span><span style="color:#F6F6F4;"> enzyme </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">enzyme</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">*</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">as</span><span style="color:#F6F6F4;"> Adapter </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">enzyme-adapter-react-16</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> Hello </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">./Hello</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">enzyme.</span><span style="color:#62E884;">configure</span><span style="color:#F6F6F4;">({ adapter</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">Adapter</span><span style="color:#F6F6F4;">() });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#62E884;">it</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">renders the correct text when no enthusiasm level is given</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">, () </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> hello </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> enzyme.</span><span style="color:#62E884;">shallow</span><span style="color:#F6F6F4;">(&lt;</span><span style="color:#97E1F1;font-style:italic;">Hello</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">name</span><span style="color:#F6F6F4;">=</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">Daniel</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;"> /&gt;);</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#62E884;">expect</span><span style="color:#F6F6F4;">(hello.</span><span style="color:#62E884;">find</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">.greeting</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">).</span><span style="color:#62E884;">text</span><span style="color:#F6F6F4;">()).</span><span style="color:#62E884;">toEqual</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">Hello Daniel!</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#62E884;">it</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">renders the correct text with an explicit enthusiasm of 1</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">, () </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> hello </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> enzyme.</span><span style="color:#62E884;">shallow</span><span style="color:#F6F6F4;">(&lt;</span><span style="color:#97E1F1;font-style:italic;">Hello</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">name</span><span style="color:#F6F6F4;">=</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">Daniel</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">enthusiasmLevel</span><span style="color:#F6F6F4;">={</span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">}/&gt;);</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#62E884;">expect</span><span style="color:#F6F6F4;">(hello.</span><span style="color:#62E884;">find</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">.greeting</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">).</span><span style="color:#62E884;">text</span><span style="color:#F6F6F4;">()).</span><span style="color:#62E884;">toEqual</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">Hello Daniel!</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#62E884;">it</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">renders the correct text with an explicit enthusiasm level of 5</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">, () </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> hello </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> enzyme.</span><span style="color:#62E884;">shallow</span><span style="color:#F6F6F4;">(&lt;</span><span style="color:#97E1F1;font-style:italic;">Hello</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">name</span><span style="color:#F6F6F4;">=</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">Daniel</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">enthusiasmLevel</span><span style="color:#F6F6F4;">={</span><span style="color:#BF9EEE;">5</span><span style="color:#F6F6F4;">} /&gt;);</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#62E884;">expect</span><span style="color:#F6F6F4;">(hello.</span><span style="color:#62E884;">find</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">.greeting</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">).</span><span style="color:#62E884;">text</span><span style="color:#F6F6F4;">()).</span><span style="color:#62E884;">toEqual</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">Hello Daniel!!!!!</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#62E884;">it</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">throws when the enthusiasm level is 0</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">, () </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#62E884;">expect</span><span style="color:#F6F6F4;">(() </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    enzyme.</span><span style="color:#62E884;">shallow</span><span style="color:#F6F6F4;">(&lt;</span><span style="color:#97E1F1;font-style:italic;">Hello</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">name</span><span style="color:#F6F6F4;">=</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">Daniel</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">enthusiasmLevel</span><span style="color:#F6F6F4;">={</span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">} /&gt;);</span></span>
<span class="line"><span style="color:#F6F6F4;">  }).</span><span style="color:#62E884;">toThrow</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#62E884;">it</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">throws when the enthusiasm level is negative</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">, () </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#62E884;">expect</span><span style="color:#F6F6F4;">(() </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    enzyme.</span><span style="color:#62E884;">shallow</span><span style="color:#F6F6F4;">(&lt;</span><span style="color:#97E1F1;font-style:italic;">Hello</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">name</span><span style="color:#F6F6F4;">=</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">Daniel</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">enthusiasmLevel</span><span style="color:#F6F6F4;">={-</span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">} /&gt;);</span></span>
<span class="line"><span style="color:#F6F6F4;">  }).</span><span style="color:#62E884;">toThrow</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// src/components/Hello.test.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> React </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> enzyme </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;enzyme&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> Adapter </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;enzyme-adapter-react-16&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> Hello </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;./Hello&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">enzyme.</span><span style="color:#6F42C1;">configure</span><span style="color:#24292E;">({ adapter: </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Adapter</span><span style="color:#24292E;">() });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">it</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;renders the correct text when no enthusiasm level is given&#39;</span><span style="color:#24292E;">, () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">hello</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> enzyme.</span><span style="color:#6F42C1;">shallow</span><span style="color:#24292E;">(&lt;</span><span style="color:#6F42C1;">Hello</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&#39;Daniel&#39;</span><span style="color:#24292E;"> /&gt;);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">expect</span><span style="color:#24292E;">(hello.</span><span style="color:#6F42C1;">find</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;.greeting&quot;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">text</span><span style="color:#24292E;">()).</span><span style="color:#6F42C1;">toEqual</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Hello Daniel!&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">it</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;renders the correct text with an explicit enthusiasm of 1&#39;</span><span style="color:#24292E;">, () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">hello</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> enzyme.</span><span style="color:#6F42C1;">shallow</span><span style="color:#24292E;">(&lt;</span><span style="color:#6F42C1;">Hello</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&#39;Daniel&#39;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">enthusiasmLevel</span><span style="color:#24292E;">={</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">}/&gt;);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">expect</span><span style="color:#24292E;">(hello.</span><span style="color:#6F42C1;">find</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;.greeting&quot;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">text</span><span style="color:#24292E;">()).</span><span style="color:#6F42C1;">toEqual</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Hello Daniel!&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">it</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;renders the correct text with an explicit enthusiasm level of 5&#39;</span><span style="color:#24292E;">, () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">hello</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> enzyme.</span><span style="color:#6F42C1;">shallow</span><span style="color:#24292E;">(&lt;</span><span style="color:#6F42C1;">Hello</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&#39;Daniel&#39;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">enthusiasmLevel</span><span style="color:#24292E;">={</span><span style="color:#005CC5;">5</span><span style="color:#24292E;">} /&gt;);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">expect</span><span style="color:#24292E;">(hello.</span><span style="color:#6F42C1;">find</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;.greeting&quot;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">text</span><span style="color:#24292E;">()).</span><span style="color:#6F42C1;">toEqual</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Hello Daniel!!!!!&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">it</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;throws when the enthusiasm level is 0&#39;</span><span style="color:#24292E;">, () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">expect</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    enzyme.</span><span style="color:#6F42C1;">shallow</span><span style="color:#24292E;">(&lt;</span><span style="color:#6F42C1;">Hello</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&#39;Daniel&#39;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">enthusiasmLevel</span><span style="color:#24292E;">={</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">} /&gt;);</span></span>
<span class="line"><span style="color:#24292E;">  }).</span><span style="color:#6F42C1;">toThrow</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">it</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;throws when the enthusiasm level is negative&#39;</span><span style="color:#24292E;">, () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">expect</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    enzyme.</span><span style="color:#6F42C1;">shallow</span><span style="color:#24292E;">(&lt;</span><span style="color:#6F42C1;">Hello</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&#39;Daniel&#39;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">enthusiasmLevel</span><span style="color:#24292E;">={-</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">} /&gt;);</span></span>
<span class="line"><span style="color:#24292E;">  }).</span><span style="color:#6F42C1;">toThrow</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><p>è¿™äº›æµ‹è¯•éƒ½ååˆ†åŸºç¡€ï¼Œä½†ä½ å¯ä»¥ä»ä¸­å¾—åˆ°å¯å‘ã€‚</p><h2 id="æ·»åŠ stateç®¡ç†" tabindex="-1">æ·»åŠ stateç®¡ç† <a class="header-anchor" href="#æ·»åŠ stateç®¡ç†" aria-label="Permalink to &quot;æ·»åŠ stateç®¡ç†&quot;">â€‹</a></h2><p>åˆ°æ­¤ä¸ºæ­¢ï¼Œå¦‚æœä½ ä½¿ç”¨Reactçš„ç›®çš„æ˜¯åªè·å–ä¸€æ¬¡æ•°æ®å¹¶æ˜¾ç¤ºï¼Œé‚£ä¹ˆä½ å·²ç»å®Œæˆäº†ã€‚ ä½†æ˜¯å¦‚æœä½ æƒ³å¼€å‘ä¸€ä¸ªå¯ä»¥äº¤äº’çš„åº”ç”¨ï¼Œé‚£ä¹ˆä½ éœ€è¦æ·»åŠ stateç®¡ç†ã€‚</p><h3 id="stateç®¡ç†æ¦‚è¿°" tabindex="-1">stateç®¡ç†æ¦‚è¿° <a class="header-anchor" href="#stateç®¡ç†æ¦‚è¿°" aria-label="Permalink to &quot;stateç®¡ç†æ¦‚è¿°&quot;">â€‹</a></h3><p>Reactæœ¬èº«å°±æ˜¯ä¸€ä¸ªé€‚åˆäºåˆ›å»ºå¯ç»„åˆå‹è§†å›¾çš„åº“ã€‚ ä½†æ˜¯ï¼ŒReactå¹¶æ²¡æœ‰ä»»ä½•åœ¨åº”ç”¨é—´åŒæ­¥æ•°æ®çš„åŠŸèƒ½ã€‚ å°±Reactç»„ä»¶è€Œè¨€ï¼Œæ•°æ®æ˜¯é€šè¿‡æ¯ä¸ªå…ƒç´ ä¸ŠæŒ‡å®šçš„propså‘å­å…ƒç´ ä¼ é€’ã€‚</p><p>å› ä¸ºReactæœ¬èº«å¹¶æ²¡æœ‰æä¾›å†…ç½®çš„stateç®¡ç†åŠŸèƒ½ï¼ŒReactç¤¾åŒºé€‰æ‹©äº†Reduxå’ŒMobXåº“ã€‚</p><p><a href="http://redux.js.org" target="_blank" rel="noreferrer">Redux</a>ä¾é ä¸€ä¸ªç»Ÿä¸€ä¸”ä¸å¯å˜çš„æ•°æ®å­˜å‚¨æ¥åŒæ­¥æ•°æ®ï¼Œå¹¶ä¸”æ›´æ–°é‚£é‡Œçš„æ•°æ®æ—¶ä¼šè§¦å‘åº”ç”¨çš„æ›´æ–°æ¸²æŸ“ã€‚ stateçš„æ›´æ–°æ˜¯ä»¥ä¸€ç§ä¸å¯å˜çš„æ–¹å¼è¿›è¡Œï¼Œå®ƒä¼šå‘å¸ƒä¸€æ¡æ˜ç¡®çš„actionæ¶ˆæ¯ï¼Œè¿™ä¸ªæ¶ˆæ¯å¿…é¡»è¢«reducerå‡½æ•°å¤„ç†ã€‚ ç”±äºä½¿ç”¨äº†è¿™æ ·æ˜ç¡®çš„æ–¹å¼ï¼Œå¾ˆå®¹æ˜“å¼„æ¸…æ¥šä¸€ä¸ªactionæ˜¯å¦‚ä½•å½±å“ç¨‹åºçš„stateã€‚</p><p><a href="https://mobx.js.org/" target="_blank" rel="noreferrer">MobX</a>å€ŸåŠ©äºå‡½æ•°å¼å“åº”å‹æ¨¡å¼ï¼Œstateè¢«åŒ…è£…åœ¨äº†å¯è§‚å¯Ÿå¯¹è±¡é‡Œï¼Œå¹¶é€šè¿‡propsä¼ é€’ã€‚ é€šè¿‡å°†stateæ ‡è®°ä¸ºå¯è§‚å¯Ÿçš„ï¼Œå³å¯åœ¨æ‰€æœ‰è§‚å¯Ÿè€…ä¹‹é—´ä¿æŒstateçš„åŒæ­¥æ€§ã€‚ å¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œè¿™ä¸ªåº“å·²ç»ä½¿ç”¨TypeScriptå®ç°äº†ã€‚</p><p>è¿™ä¸¤è€…å„æœ‰ä¼˜ç¼ºç‚¹ã€‚ ä½†Reduxä½¿ç”¨å¾—æ›´å¹¿æ³›ï¼Œå› æ­¤åœ¨è¿™ç¯‡æ•™ç¨‹é‡Œï¼Œæˆ‘ä»¬ä¸»è¦çœ‹å¦‚ä½•ä½¿ç”¨Reduxï¼› ä½†æ˜¯ä¹Ÿé¼“åŠ±å¤§å®¶ä¸¤è€…éƒ½å»äº†è§£ä¸€ä¸‹ã€‚</p><p>åé¢çš„å°èŠ‚å­¦ä¹ æ›²çº¿æ¯”è¾ƒé™¡ã€‚ å› æ­¤å¼ºçƒˆå»ºè®®å¤§å®¶å…ˆå»<a href="http://redux.js.org/" target="_blank" rel="noreferrer">ç†Ÿæ‚‰ä¸€ä¸‹Redux</a>ã€‚</p><h3 id="è®¾ç½®actions" tabindex="-1">è®¾ç½®actions <a class="header-anchor" href="#è®¾ç½®actions" aria-label="Permalink to &quot;è®¾ç½®actions&quot;">â€‹</a></h3><p>åªæœ‰å½“åº”ç”¨é‡Œçš„stateä¼šæ”¹å˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ‰éœ€è¦å»æ·»åŠ Reduxã€‚ æˆ‘ä»¬éœ€è¦ä¸€ä¸ªactionçš„æ¥æºï¼Œå®ƒå°†è§¦å‘æ”¹å˜ã€‚ å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªå®šæ—¶å™¨æˆ–è€…UIä¸Šçš„ä¸€ä¸ªæŒ‰é’®ã€‚</p><p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†å¢åŠ ä¸¤ä¸ªæŒ‰é’®æ¥æ§åˆ¶<code>Hello</code>ç»„ä»¶çš„æ„Ÿå¹çº§åˆ«ã€‚</p><h3 id="å®‰è£…redux" tabindex="-1">å®‰è£…Redux <a class="header-anchor" href="#å®‰è£…redux" aria-label="Permalink to &quot;å®‰è£…Redux&quot;">â€‹</a></h3><p>å®‰è£…<code>redux</code>å’Œ<code>react-redux</code>ä»¥åŠå®ƒä»¬çš„ç±»å‹æ–‡ä»¶åšä¸ºä¾èµ–ã€‚</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">npm </span><span style="color:#E7EE98;">install</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">-S</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">redux</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">react-redux</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">@types/react-redux</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-S</span><span style="color:#24292E;"> </span><span style="color:#032F62;">redux</span><span style="color:#24292E;"> </span><span style="color:#032F62;">react-redux</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@types/react-redux</span></span></code></pre></div><p>è¿™é‡Œæˆ‘ä»¬ä¸éœ€è¦å®‰è£…<code>@types/redux</code>ï¼Œå› ä¸ºReduxå·²ç»è‡ªå¸¦äº†å£°æ˜æ–‡ä»¶ï¼ˆ<code>.d.ts</code>æ–‡ä»¶ï¼‰ã€‚</p><h3 id="å®šä¹‰åº”ç”¨çš„çŠ¶æ€" tabindex="-1">å®šä¹‰åº”ç”¨çš„çŠ¶æ€ <a class="header-anchor" href="#å®šä¹‰åº”ç”¨çš„çŠ¶æ€" aria-label="Permalink to &quot;å®šä¹‰åº”ç”¨çš„çŠ¶æ€&quot;">â€‹</a></h3><p>æˆ‘ä»¬éœ€è¦å®šä¹‰Reduxä¿å­˜çš„stateçš„ç»“æ„ã€‚ åˆ›å»º<code>src/types/index.tsx</code>æ–‡ä»¶ï¼Œå®ƒä¿å­˜äº†ç±»å‹çš„å®šä¹‰ï¼Œæˆ‘ä»¬åœ¨æ•´ä¸ªç¨‹åºé‡Œéƒ½å¯èƒ½ç”¨åˆ°ã€‚</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// src/types/index.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">StoreState</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    languageName</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    enthusiasmLevel</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">number</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// src/types/index.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">StoreState</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">languageName</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">enthusiasmLevel</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>è¿™é‡Œæˆ‘ä»¬æƒ³è®©<code>languageName</code>è¡¨ç¤ºåº”ç”¨ä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€ï¼ˆä¾‹å¦‚ï¼ŒTypeScriptæˆ–è€…JavaScriptï¼‰ï¼Œ<code>enthusiasmLevel</code>æ˜¯å¯å˜çš„ã€‚ åœ¨å†™æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªå®¹å™¨çš„æ—¶å€™ï¼Œå°±ä¼šæ˜ç™½ä¸ºä»€ä¹ˆè¦ä»¤stateä¸propsç¨æœ‰ä¸åŒã€‚</p><h3 id="æ·»åŠ actions" tabindex="-1">æ·»åŠ actions <a class="header-anchor" href="#æ·»åŠ actions" aria-label="Permalink to &quot;æ·»åŠ actions&quot;">â€‹</a></h3><p>ä¸‹é¢æˆ‘ä»¬åˆ›å»ºè¿™ä¸ªåº”ç”¨å°†è¦å“åº”çš„æ¶ˆæ¯ç±»å‹ï¼Œ<code>src/constants/index.tsx</code>ã€‚</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// src/constants/index.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> INCREMENT_ENTHUSIASM </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">INCREMENT_ENTHUSIASM</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">type</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">INCREMENT_ENTHUSIASM</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">typeof</span><span style="color:#F6F6F4;"> INCREMENT_ENTHUSIASM;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> DECREMENT_ENTHUSIASM </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">DECREMENT_ENTHUSIASM</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">type</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">DECREMENT_ENTHUSIASM</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">typeof</span><span style="color:#F6F6F4;"> DECREMENT_ENTHUSIASM;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// src/constants/index.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">INCREMENT_ENTHUSIASM</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;INCREMENT_ENTHUSIASM&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">INCREMENT_ENTHUSIASM</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">typeof</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">INCREMENT_ENTHUSIASM</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">DECREMENT_ENTHUSIASM</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;DECREMENT_ENTHUSIASM&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DECREMENT_ENTHUSIASM</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">typeof</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">DECREMENT_ENTHUSIASM</span><span style="color:#24292E;">;</span></span></code></pre></div><p>è¿™é‡Œçš„<code>const</code>/<code>type</code>æ¨¡å¼å…è®¸æˆ‘ä»¬ä»¥å®¹æ˜“è®¿é—®å’Œé‡æ„çš„æ–¹å¼ä½¿ç”¨TypeScriptçš„å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€äº›actionsä»¥åŠåˆ›å»ºè¿™äº›actionsçš„å‡½æ•°ï¼Œ<code>src/actions/index.tsx</code>ã€‚</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">*</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">as</span><span style="color:#F6F6F4;"> constants </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">../constants</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">IncrementEnthusiasm</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    type</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">constants</span><span style="color:#F6F6F4;">.</span><span style="color:#97E1F1;font-style:italic;">INCREMENT_ENTHUSIASM</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">DecrementEnthusiasm</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    type</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">constants</span><span style="color:#F6F6F4;">.</span><span style="color:#97E1F1;font-style:italic;">DECREMENT_ENTHUSIASM</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">type</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">EnthusiasmAction</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">IncrementEnthusiasm</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">|</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">DecrementEnthusiasm</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">incrementEnthusiasm</span><span style="color:#F6F6F4;">()</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">IncrementEnthusiasm</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        type</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> constants.</span><span style="color:#BF9EEE;">INCREMENT_ENTHUSIASM</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">decrementEnthusiasm</span><span style="color:#F6F6F4;">()</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">DecrementEnthusiasm</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        type</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> constants.</span><span style="color:#BF9EEE;">DECREMENT_ENTHUSIASM</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> constants </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;../constants&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">IncrementEnthusiasm</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">type</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">constants</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">INCREMENT_ENTHUSIASM</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DecrementEnthusiasm</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">type</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">constants</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">DECREMENT_ENTHUSIASM</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">EnthusiasmAction</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">IncrementEnthusiasm</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DecrementEnthusiasm</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">incrementEnthusiasm</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">IncrementEnthusiasm</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        type: constants.</span><span style="color:#005CC5;">INCREMENT_ENTHUSIASM</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">decrementEnthusiasm</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DecrementEnthusiasm</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        type: constants.</span><span style="color:#005CC5;">DECREMENT_ENTHUSIASM</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>æˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªç±»å‹ï¼Œå®ƒä»¬è´Ÿè´£å¢åŠ æ“ä½œå’Œå‡å°‘æ“ä½œçš„è¡Œä¸ºã€‚ æˆ‘ä»¬è¿˜å®šä¹‰äº†ä¸€ä¸ªç±»å‹ï¼ˆ<code>EnthusiasmAction</code>ï¼‰ï¼Œå®ƒæè¿°äº†å“ªäº›actionæ˜¯å¯ä»¥å¢åŠ æˆ–å‡å°‘çš„ã€‚ æœ€åï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªå‡½æ•°ç”¨æ¥åˆ›å»ºå®é™…çš„actionsã€‚</p><p>è¿™é‡Œæœ‰ä¸€äº›æ¸…æ™°çš„æ¨¡ç‰ˆï¼Œä½ å¯ä»¥å‚è€ƒç±»ä¼¼<a href="https://www.npmjs.com/package/redux-actions" target="_blank" rel="noreferrer">redux-actions</a>çš„åº“ã€‚</p><h3 id="æ·»åŠ reducer" tabindex="-1">æ·»åŠ reducer <a class="header-anchor" href="#æ·»åŠ reducer" aria-label="Permalink to &quot;æ·»åŠ reducer&quot;">â€‹</a></h3><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥å¼€å§‹å†™ç¬¬ä¸€ä¸ªreduceräº†ï¼ Reducersæ˜¯å‡½æ•°ï¼Œå®ƒä»¬è´Ÿè´£ç”Ÿæˆåº”ç”¨stateçš„æ‹·è´ä½¿ä¹‹äº§ç”Ÿå˜åŒ–ï¼Œä½†å®ƒå¹¶æ²¡æœ‰_å‰¯ä½œç”¨_ã€‚ å®ƒä»¬æ˜¯ä¸€ç§<a href="https://en.wikipedia.org/wiki/Pure_function" target="_blank" rel="noreferrer"><em>çº¯å‡½æ•°</em></a>ã€‚</p><p>æˆ‘ä»¬çš„reducerå°†æ”¾åœ¨<code>src/reducers/index.tsx</code>æ–‡ä»¶é‡Œã€‚ å®ƒçš„åŠŸèƒ½æ˜¯ä¿è¯å¢åŠ æ“ä½œä¼šè®©æ„Ÿå¹çº§åˆ«åŠ 1ï¼Œå‡å°‘æ“ä½œåˆ™è¦å°†æ„Ÿå¹çº§åˆ«å‡1ï¼Œä½†æ˜¯è¿™ä¸ªçº§åˆ«æ°¸è¿œä¸èƒ½å°äº1ã€‚</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// src/reducers/index.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { EnthusiasmAction } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">../actions</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { StoreState } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">../types/index</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { INCREMENT_ENTHUSIASM, DECREMENT_ENTHUSIASM } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">../constants/index</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">enthusiasm</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">state</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">StoreState</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">action</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">EnthusiasmAction</span><span style="color:#F6F6F4;">)</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">StoreState</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">switch</span><span style="color:#F6F6F4;"> (action.type) {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">case</span><span style="color:#F6F6F4;"> INCREMENT_ENTHUSIASM:</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> { </span><span style="color:#F286C4;">...</span><span style="color:#F6F6F4;">state, enthusiasmLevel</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> state.enthusiasmLevel </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;"> };</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">case</span><span style="color:#F6F6F4;"> DECREMENT_ENTHUSIASM:</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> { </span><span style="color:#F286C4;">...</span><span style="color:#F6F6F4;">state, enthusiasmLevel</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> Math.</span><span style="color:#62E884;">max</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">, state.enthusiasmLevel </span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">) };</span></span>
<span class="line"><span style="color:#F6F6F4;">  }</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> state;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// src/reducers/index.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { EnthusiasmAction } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;../actions&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { StoreState } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;../types/index&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { INCREMENT_ENTHUSIASM, DECREMENT_ENTHUSIASM } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;../constants/index&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">enthusiasm</span><span style="color:#24292E;">(</span><span style="color:#E36209;">state</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">StoreState</span><span style="color:#24292E;">, </span><span style="color:#E36209;">action</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">EnthusiasmAction</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">StoreState</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">switch</span><span style="color:#24292E;"> (action.type) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">INCREMENT_ENTHUSIASM</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> { </span><span style="color:#D73A49;">...</span><span style="color:#24292E;">state, enthusiasmLevel: state.enthusiasmLevel </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> };</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">DECREMENT_ENTHUSIASM</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> { </span><span style="color:#D73A49;">...</span><span style="color:#24292E;">state, enthusiasmLevel: Math.</span><span style="color:#6F42C1;">max</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">, state.enthusiasmLevel </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">) };</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> state;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>æ³¨æ„æˆ‘ä»¬ä½¿ç”¨äº†_å¯¹è±¡å±•å¼€_ï¼ˆ<code>...state</code>ï¼‰ï¼Œå½“æ›¿æ¢<code>enthusiasmLevel</code>æ—¶ï¼Œå®ƒå¯ä»¥å¯¹çŠ¶æ€è¿›è¡Œæµ…æ‹·è´ã€‚ å°†<code>enthusiasmLevel</code>å±æ€§æ”¾åœ¨æœ«å°¾æ˜¯ååˆ†å…³é”®çš„ï¼Œå¦åˆ™å®ƒå°†è¢«æ—§çš„çŠ¶æ€è¦†ç›–ã€‚</p><p>ä½ å¯èƒ½æƒ³è¦å¯¹reducerå†™ä¸€äº›æµ‹è¯•ã€‚ å› ä¸ºreducersæ˜¯çº¯å‡½æ•°ï¼Œå®ƒä»¬å¯ä»¥ä¼ å…¥ä»»æ„çš„æ•°æ®ã€‚ é’ˆå¯¹æ¯ä¸ªè¾“å…¥ï¼Œå¯ä»¥æµ‹è¯•reducersç”Ÿæˆçš„æ–°çš„çŠ¶æ€ã€‚ å¯ä»¥è€ƒè™‘ä½¿ç”¨Jestçš„<a href="https://facebook.github.io/jest/docs/en/expect.html#toequalvalue" target="_blank" rel="noreferrer">toEqual</a>æ–¹æ³•ã€‚</p><h3 id="åˆ›å»ºå®¹å™¨" tabindex="-1">åˆ›å»ºå®¹å™¨ <a class="header-anchor" href="#åˆ›å»ºå®¹å™¨" aria-label="Permalink to &quot;åˆ›å»ºå®¹å™¨&quot;">â€‹</a></h3><p>åœ¨ä½¿ç”¨Reduxæ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸è¦åˆ›å»ºç»„ä»¶å’Œå®¹å™¨ã€‚ ç»„ä»¶æ˜¯æ•°æ®æ— å…³çš„ï¼Œä¸”å·¥ä½œåœ¨è¡¨ç°å±‚ã€‚ _å®¹å™¨_é€šå¸¸åŒ…è£¹ç»„ä»¶åŠå…¶ä½¿ç”¨çš„æ•°æ®ï¼Œç”¨ä»¥æ˜¾ç¤ºå’Œä¿®æ”¹çŠ¶æ€ã€‚ ä½ å¯ä»¥åœ¨è¿™é‡Œé˜…è¯»æ›´å¤šå…³äºè¿™ä¸ªæ¦‚å¿µçš„ç»†èŠ‚ï¼š<a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0" target="_blank" rel="noreferrer">Dan Abramovå†™çš„_è¡¨ç°å±‚çš„å®¹å™¨ç»„ä»¶_</a>ã€‚</p><p>ç°åœ¨æˆ‘ä»¬ä¿®æ”¹<code>src/components/Hello.tsx</code>ï¼Œè®©å®ƒå¯ä»¥ä¿®æ”¹çŠ¶æ€ã€‚ æˆ‘ä»¬å°†æ·»åŠ ä¸¤ä¸ªå¯é€‰çš„å›è°ƒå±æ€§åˆ°<code>Props</code>ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯<code>onIncrement</code>å’Œ<code>onDecrement</code>ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Props</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  name</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  enthusiasmLevel</span><span style="color:#F286C4;">?:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">number</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#62E884;">onIncrement</span><span style="color:#F286C4;">?:</span><span style="color:#F6F6F4;"> () </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#62E884;">onDecrement</span><span style="color:#F286C4;">?:</span><span style="color:#F6F6F4;"> () </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Props</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">name</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">enthusiasmLevel</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">onIncrement</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">void</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">onDecrement</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">void</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>ç„¶åå°†è¿™ä¸¤ä¸ªå›è°ƒç»‘å®šåˆ°ä¸¤ä¸ªæ–°æŒ‰é’®ä¸Šï¼Œå°†æŒ‰é’®æ·»åŠ åˆ°æˆ‘ä»¬çš„ç»„ä»¶é‡Œã€‚</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">Hello</span><span style="color:#F6F6F4;">({ </span><span style="color:#FFB86C;font-style:italic;">name</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">enthusiasmLevel</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">onIncrement</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">onDecrement</span><span style="color:#F6F6F4;"> }</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Props</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (enthusiasmLevel </span><span style="color:#F286C4;">&lt;=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">throw</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">Error</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">You could be a little more enthusiastic. :D</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> (</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">div className</span><span style="color:#F286C4;">=</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">hello</span><span style="color:#DEE492;">&quot;</span><span style="color:#F286C4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">div className</span><span style="color:#F286C4;">=</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">greeting</span><span style="color:#DEE492;">&quot;</span><span style="color:#F286C4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">        Hello {</span><span style="color:#FFB86C;font-style:italic;">name</span><span style="color:#F6F6F4;"> + </span><span style="color:#FFB86C;font-style:italic;">getExclamationMarks</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">enthusiasmLevel</span><span style="color:#F6F6F4;">)}</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">&lt;/</span><span style="color:#F6F6F4;">div</span><span style="color:#F286C4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">      &lt;</span><span style="color:#97E1F1;font-style:italic;">div</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">button onClick</span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;">{onDecrement}</span><span style="color:#F286C4;">&gt;-</span><span style="color:#F6F6F4;">&lt;/</span><span style="color:#97E1F1;font-style:italic;">button</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">button onClick</span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;">{onIncrement}</span><span style="color:#F286C4;">&gt;+</span><span style="color:#F6F6F4;">&lt;/</span><span style="color:#97E1F1;font-style:italic;">button</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">&lt;/</span><span style="color:#F6F6F4;">div</span><span style="color:#F286C4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">&lt;/</span><span style="color:#F6F6F4;">div</span><span style="color:#F286C4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">  );</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Hello</span><span style="color:#24292E;">({ </span><span style="color:#E36209;">name</span><span style="color:#24292E;">, </span><span style="color:#E36209;">enthusiasmLevel</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">, </span><span style="color:#E36209;">onIncrement</span><span style="color:#24292E;">, </span><span style="color:#E36209;">onDecrement</span><span style="color:#24292E;"> }</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Props</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (enthusiasmLevel </span><span style="color:#D73A49;">&lt;=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">throw</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Error</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;You could be a little more enthusiastic. :D&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">div className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;hello&quot;</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">div className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;greeting&quot;</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        Hello {</span><span style="color:#E36209;">name</span><span style="color:#24292E;"> + </span><span style="color:#E36209;">getExclamationMarks</span><span style="color:#24292E;">(</span><span style="color:#E36209;">enthusiasmLevel</span><span style="color:#24292E;">)}</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">&lt;/</span><span style="color:#24292E;">div</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#6F42C1;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">button onClick</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{onDecrement}</span><span style="color:#D73A49;">&gt;-</span><span style="color:#24292E;">&lt;/</span><span style="color:#6F42C1;">button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">button onClick</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{onIncrement}</span><span style="color:#D73A49;">&gt;+</span><span style="color:#24292E;">&lt;/</span><span style="color:#6F42C1;">button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">&lt;/</span><span style="color:#24292E;">div</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">&lt;/</span><span style="color:#24292E;">div</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åº”è¯¥ç»™<code>onIncrement</code>å’Œ<code>onDecrement</code>å†™ä¸€äº›æµ‹è¯•ï¼Œå®ƒä»¬æ˜¯åœ¨å„è‡ªçš„æŒ‰é’®è¢«ç‚¹å‡»æ—¶è°ƒç”¨ã€‚ è¯•ä¸€è¯•ä»¥ä¾¿æŒæ¡ç¼–å†™æµ‹è¯•çš„çªé—¨ã€‚</p><p>ç°åœ¨æˆ‘ä»¬çš„ç»„ä»¶æ›´æ–°å¥½äº†ï¼Œå¯ä»¥æŠŠå®ƒæ”¾åœ¨ä¸€ä¸ªå®¹å™¨é‡Œäº†ã€‚ è®©æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªæ–‡ä»¶<code>src/containers/Hello.tsx</code>ï¼Œåœ¨å¼€å§‹çš„åœ°æ–¹ä½¿ç”¨ä¸‹åˆ—å¯¼å…¥è¯­å¥ã€‚</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> Hello </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">../components/Hello</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">*</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">as</span><span style="color:#F6F6F4;"> actions </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">../actions/</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { StoreState } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">../types/index</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { connect, Dispatch } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">react-redux</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> Hello </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;../components/Hello&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> actions </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;../actions/&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { StoreState } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;../types/index&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { connect, Dispatch } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react-redux&#39;</span><span style="color:#24292E;">;</span></span></code></pre></div><p>ä¸¤ä¸ªå…³é”®ç‚¹æ˜¯åˆå§‹çš„<code>Hello</code>ç»„ä»¶å’Œreact-reduxçš„<code>connect</code>å‡½æ•°ã€‚ <code>connect</code>å¯ä»¥å°†æˆ‘ä»¬çš„<code>Hello</code>ç»„ä»¶è½¬æ¢æˆä¸€ä¸ªå®¹å™¨ï¼Œé€šè¿‡ä»¥ä¸‹ä¸¤ä¸ªå‡½æ•°ï¼š</p><ul><li><code>mapStateToProps</code>å°†å½“å‰storeé‡Œçš„æ•°æ®ä»¥æˆ‘ä»¬çš„ç»„ä»¶éœ€è¦çš„å½¢å¼ä¼ é€’åˆ°ç»„ä»¶ã€‚</li><li><code>mapDispatchToProps</code>åˆ©ç”¨<code>dispatch</code>å‡½æ•°ï¼Œåˆ›å»ºå›è°ƒpropså°†actionsé€åˆ°storeã€‚</li></ul><p>å›æƒ³ä¸€ä¸‹ï¼Œæˆ‘ä»¬çš„åº”ç”¨åŒ…å«ä¸¤ä¸ªå±æ€§ï¼š<code>languageName</code>å’Œ<code>enthusiasmLevel</code>ã€‚ æˆ‘ä»¬çš„<code>Hello</code>ç»„ä»¶ï¼Œå¸Œæœ›å¾—åˆ°ä¸€ä¸ª<code>name</code>å’Œä¸€ä¸ª<code>enthusiasmLevel</code>ã€‚ <code>mapStateToProps</code>ä¼šä»storeå¾—åˆ°ç›¸åº”çš„æ•°æ®ï¼Œå¦‚æœéœ€è¦çš„è¯å°†é’ˆå¯¹ç»„ä»¶çš„propsè°ƒæ•´å®ƒã€‚ ä¸‹é¢è®©æˆ‘ä»¬ç»§ç»­å¾€ä¸‹å†™ã€‚</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">mapStateToProps</span><span style="color:#F6F6F4;">({ </span><span style="color:#FFB86C;font-style:italic;">enthusiasmLevel</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">languageName</span><span style="color:#F6F6F4;"> }</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">StoreState</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    enthusiasmLevel,</span></span>
<span class="line"><span style="color:#F6F6F4;">    name</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> languageName,</span></span>
<span class="line"><span style="color:#F6F6F4;">  }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">mapStateToProps</span><span style="color:#24292E;">({ </span><span style="color:#E36209;">enthusiasmLevel</span><span style="color:#24292E;">, </span><span style="color:#E36209;">languageName</span><span style="color:#24292E;"> }</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">StoreState</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    enthusiasmLevel,</span></span>
<span class="line"><span style="color:#24292E;">    name: languageName,</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>æ³¨æ„<code>mapStateToProps</code>ä»…åˆ›å»ºäº†<code>Hello</code>ç»„ä»¶éœ€è¦çš„å››ä¸ªå±æ€§ä¸­çš„ä¸¤ä¸ªã€‚ æˆ‘ä»¬è¿˜æƒ³è¦ä¼ å…¥<code>onIncrement</code>å’Œ<code>onDecrement</code>å›è°ƒå‡½æ•°ã€‚ <code>mapDispatchToProps</code>æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒéœ€è¦ä¼ å…¥ä¸€ä¸ªè°ƒåº¦å‡½æ•°ã€‚ è¿™ä¸ªè°ƒåº¦å‡½æ•°å¯ä»¥å°†actionsä¼ å…¥storeæ¥è§¦å‘æ›´æ–°ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€å¯¹å›è°ƒå‡½æ•°ï¼Œå®ƒä»¬ä¼šåœ¨éœ€è¦çš„æ—¶å€™è°ƒç”¨è°ƒåº¦å‡½æ•°ã€‚</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">mapDispatchToProps</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">dispatch</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Dispatch</span><span style="color:#F6F6F4;">&lt;</span><span style="color:#FFB86C;font-style:italic;">actions</span><span style="color:#F6F6F4;">.</span><span style="color:#FFB86C;font-style:italic;">EnthusiasmAction</span><span style="color:#F6F6F4;">&gt;) {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">onIncrement</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> () </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">dispatch</span><span style="color:#F6F6F4;">(actions.</span><span style="color:#62E884;">incrementEnthusiasm</span><span style="color:#F6F6F4;">()),</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">onDecrement</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> () </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">dispatch</span><span style="color:#F6F6F4;">(actions.</span><span style="color:#62E884;">decrementEnthusiasm</span><span style="color:#F6F6F4;">()),</span></span>
<span class="line"><span style="color:#F6F6F4;">  }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">mapDispatchToProps</span><span style="color:#24292E;">(</span><span style="color:#E36209;">dispatch</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Dispatch</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">actions</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">EnthusiasmAction</span><span style="color:#24292E;">&gt;) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">onIncrement</span><span style="color:#24292E;">: () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">dispatch</span><span style="color:#24292E;">(actions.</span><span style="color:#6F42C1;">incrementEnthusiasm</span><span style="color:#24292E;">()),</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">onDecrement</span><span style="color:#24292E;">: () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">dispatch</span><span style="color:#24292E;">(actions.</span><span style="color:#6F42C1;">decrementEnthusiasm</span><span style="color:#24292E;">()),</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>æœ€åï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨<code>connect</code>äº†ã€‚ <code>connect</code>é¦–å…ˆä¼šæ¥æ”¶<code>mapStateToProps</code>å’Œ<code>mapDispatchToProps</code>ï¼Œç„¶åè¿”å›å¦ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬ç”¨å®ƒæ¥åŒ…è£¹æˆ‘ä»¬çš„ç»„ä»¶ã€‚ æœ€ç»ˆçš„å®¹å™¨æ˜¯é€šè¿‡ä¸‹é¢çš„ä»£ç å®šä¹‰çš„ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">default</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">connect</span><span style="color:#F6F6F4;">(mapStateToProps, mapDispatchToProps)(Hello);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">connect</span><span style="color:#24292E;">(mapStateToProps, mapDispatchToProps)(Hello);</span></span></code></pre></div><p>ç°åœ¨ï¼Œæˆ‘ä»¬çš„æ–‡ä»¶åº”è¯¥æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// src/containers/Hello.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> Hello </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">../components/Hello</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">*</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">as</span><span style="color:#F6F6F4;"> actions </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">../actions/</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { StoreState } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">../types/index</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { connect, Dispatch } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">react-redux</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">mapStateToProps</span><span style="color:#F6F6F4;">({ </span><span style="color:#FFB86C;font-style:italic;">enthusiasmLevel</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">languageName</span><span style="color:#F6F6F4;"> }</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">StoreState</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    enthusiasmLevel,</span></span>
<span class="line"><span style="color:#F6F6F4;">    name</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> languageName,</span></span>
<span class="line"><span style="color:#F6F6F4;">  }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">mapDispatchToProps</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">dispatch</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Dispatch</span><span style="color:#F6F6F4;">&lt;</span><span style="color:#FFB86C;font-style:italic;">actions</span><span style="color:#F6F6F4;">.</span><span style="color:#FFB86C;font-style:italic;">EnthusiasmAction</span><span style="color:#F6F6F4;">&gt;) {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">onIncrement</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> () </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">dispatch</span><span style="color:#F6F6F4;">(actions.</span><span style="color:#62E884;">incrementEnthusiasm</span><span style="color:#F6F6F4;">()),</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">onDecrement</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> () </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">dispatch</span><span style="color:#F6F6F4;">(actions.</span><span style="color:#62E884;">decrementEnthusiasm</span><span style="color:#F6F6F4;">()),</span></span>
<span class="line"><span style="color:#F6F6F4;">  }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">default</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">connect</span><span style="color:#F6F6F4;">(mapStateToProps, mapDispatchToProps)(Hello);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// src/containers/Hello.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> Hello </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;../components/Hello&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> actions </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;../actions/&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { StoreState } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;../types/index&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { connect, Dispatch } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react-redux&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">mapStateToProps</span><span style="color:#24292E;">({ </span><span style="color:#E36209;">enthusiasmLevel</span><span style="color:#24292E;">, </span><span style="color:#E36209;">languageName</span><span style="color:#24292E;"> }</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">StoreState</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    enthusiasmLevel,</span></span>
<span class="line"><span style="color:#24292E;">    name: languageName,</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">mapDispatchToProps</span><span style="color:#24292E;">(</span><span style="color:#E36209;">dispatch</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Dispatch</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">actions</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">EnthusiasmAction</span><span style="color:#24292E;">&gt;) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">onIncrement</span><span style="color:#24292E;">: () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">dispatch</span><span style="color:#24292E;">(actions.</span><span style="color:#6F42C1;">incrementEnthusiasm</span><span style="color:#24292E;">()),</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">onDecrement</span><span style="color:#24292E;">: () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">dispatch</span><span style="color:#24292E;">(actions.</span><span style="color:#6F42C1;">decrementEnthusiasm</span><span style="color:#24292E;">()),</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">connect</span><span style="color:#24292E;">(mapStateToProps, mapDispatchToProps)(Hello);</span></span></code></pre></div><h3 id="åˆ›å»ºstore" tabindex="-1">åˆ›å»ºstore <a class="header-anchor" href="#åˆ›å»ºstore" aria-label="Permalink to &quot;åˆ›å»ºstore&quot;">â€‹</a></h3><p>è®©æˆ‘ä»¬å›åˆ°<code>src/index.tsx</code>ã€‚ è¦æŠŠæ‰€æœ‰çš„ä¸œè¥¿åˆåˆ°ä¸€èµ·ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªå¸¦åˆå§‹çŠ¶æ€çš„storeï¼Œå¹¶ç”¨æˆ‘ä»¬æ‰€æœ‰çš„reducersæ¥è®¾ç½®å®ƒã€‚</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { createStore } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">redux</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { enthusiasm } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">./reducers/index</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { StoreState } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">./types/index</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> store </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">createStore</span><span style="color:#F6F6F4;">&lt;</span><span style="color:#FFB86C;font-style:italic;">StoreState</span><span style="color:#F6F6F4;">&gt;(enthusiasm, {</span></span>
<span class="line"><span style="color:#F6F6F4;">  enthusiasmLevel</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">  languageName</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">TypeScript</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { createStore } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;redux&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { enthusiasm } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;./reducers/index&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { StoreState } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;./types/index&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">store</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">createStore</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">StoreState</span><span style="color:#24292E;">&gt;(enthusiasm, {</span></span>
<span class="line"><span style="color:#24292E;">  enthusiasmLevel: </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  languageName: </span><span style="color:#032F62;">&#39;TypeScript&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><p><code>store</code>å¯èƒ½æ­£å¦‚ä½ æƒ³çš„é‚£æ ·ï¼Œå®ƒæ˜¯æˆ‘ä»¬åº”ç”¨å…¨å±€çŠ¶æ€çš„æ ¸å¿ƒstoreã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è¦ç”¨<code>./src/containers/Hello</code>æ¥åŒ…è£¹<code>./src/components/Hello</code>ï¼Œç„¶åä½¿ç”¨react-reduxçš„<code>Provider</code>å°†propsä¸å®¹å™¨è¿é€šèµ·æ¥ã€‚ æˆ‘ä»¬å°†å¯¼å…¥å®ƒä»¬ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> Hello </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">./containers/Hello</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { Provider } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">react-redux</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> Hello </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;./containers/Hello&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Provider } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react-redux&#39;</span><span style="color:#24292E;">;</span></span></code></pre></div><p>å°†<code>store</code>ä»¥<code>Provider</code>çš„å±æ€§å½¢å¼ä¼ å…¥ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">ReactDOM.</span><span style="color:#62E884;">render</span><span style="color:#F6F6F4;">(</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">Provider store</span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;">{store}</span><span style="color:#F286C4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">Hello </span><span style="color:#F286C4;">/&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">&lt;/</span><span style="color:#F6F6F4;">Provider</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">  document.</span><span style="color:#62E884;">getElementById</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">root</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">as</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">HTMLElement</span></span>
<span class="line"><span style="color:#F6F6F4;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">ReactDOM.</span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">Provider store</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{store}</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">Hello </span><span style="color:#D73A49;">/&gt;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">&lt;/</span><span style="color:#24292E;">Provider</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  document.</span><span style="color:#6F42C1;">getElementById</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;root&#39;</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">HTMLElement</span></span>
<span class="line"><span style="color:#24292E;">);</span></span></code></pre></div><p>æ³¨æ„ï¼Œ<code>Hello</code>ä¸å†éœ€è¦propsäº†ï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†<code>connect</code>å‡½æ•°ä¸ºåŒ…è£¹èµ·æ¥çš„<code>Hello</code>ç»„ä»¶çš„propsé€‚é…äº†åº”ç”¨çš„çŠ¶æ€ã€‚</p><h2 id="é€€å‡º" tabindex="-1">é€€å‡º <a class="header-anchor" href="#é€€å‡º" aria-label="Permalink to &quot;é€€å‡º&quot;">â€‹</a></h2><p>å¦‚æœä½ å‘ç°create-react-appä½¿ä¸€äº›è‡ªå®šä¹‰è®¾ç½®å˜å¾—å›°éš¾ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥é€‰æ‹©ä¸ä½¿ç”¨å®ƒï¼Œä½¿ç”¨ä½ éœ€è¦é…ç½®ã€‚ æ¯”å¦‚ï¼Œä½ è¦æ·»åŠ ä¸€ä¸ªWebpackæ’ä»¶ï¼Œä½ å°±å¯ä»¥åˆ©ç”¨create-react-appæä¾›çš„â€œejectâ€åŠŸèƒ½ã€‚</p><p>è¿è¡Œï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">npm </span><span style="color:#E7EE98;">run</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">eject</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">run</span><span style="color:#24292E;"> </span><span style="color:#032F62;">eject</span></span></code></pre></div><p>è¿™æ ·å°±å¯ä»¥äº†ï¼</p><p>ä½ è¦æ³¨æ„ï¼Œåœ¨è¿è¡Œejectå‰æœ€å¥½ä¿å­˜ä½ çš„ä»£ç ã€‚ ä½ ä¸èƒ½æ’¤é”€ejectå‘½ä»¤ï¼Œå› æ­¤é€€å‡ºæ“ä½œæ˜¯æ°¸ä¹…æ€§çš„é™¤éä½ ä»ä¸€ä¸ªè¿è¡Œejectå‰çš„æäº¤æ¥æ¢å¤å·¥ç¨‹ã€‚</p><h2 id="ä¸‹ä¸€æ­¥" tabindex="-1">ä¸‹ä¸€æ­¥ <a class="header-anchor" href="#ä¸‹ä¸€æ­¥" aria-label="Permalink to &quot;ä¸‹ä¸€æ­¥&quot;">â€‹</a></h2><p>create-react-appå¸¦æœ‰å¾ˆå¤šå¾ˆæ£’çš„åŠŸèƒ½ã€‚ å®ƒä»¬çš„å¤§å¤šæ•°éƒ½åœ¨æˆ‘ä»¬å·¥ç¨‹ç”Ÿæˆçš„<code>README.md</code>é‡Œé¢æœ‰è®°å½•ï¼Œæ‰€ä»¥å¯ä»¥ç®€å•é˜…è¯»ä¸€ä¸‹ã€‚</p><p>å¦‚æœä½ æƒ³å­¦ä¹ æ›´å¤šå…³äºReduxçš„çŸ¥è¯†ï¼Œä½ å¯ä»¥å‰å¾€<a href="http://redux.js.org/" target="_blank" rel="noreferrer">å®˜æ–¹ç«™ç‚¹</a>æŸ¥çœ‹æ–‡æ¡£ã€‚ åŒæ ·çš„ï¼Œ<a href="https://mobx.js.org/" target="_blank" rel="noreferrer">MobX</a>å®˜æ–¹ç«™ç‚¹ã€‚</p><p>å¦‚æœä½ æƒ³è¦åœ¨æŸä¸ªæ—¶é—´ç‚¹ejectï¼Œä½ éœ€è¦äº†è§£å†å¤šå…³äºWebpackçš„çŸ¥è¯†ã€‚ ä½ å¯ä»¥æŸ¥çœ‹<a href="./react-and-webpack">React &amp; Webpackæ•™ç¨‹</a>ã€‚</p><p>æœ‰æ—¶å€™ä½ éœ€è¦è·¯ç”±åŠŸèƒ½ã€‚ å·²ç»æœ‰ä¸€äº›è§£å†³æ–¹æ¡ˆäº†ï¼Œä½†æ˜¯å¯¹äºReduxå·¥ç¨‹æ¥è®²<a href="https://github.com/ReactTraining/react-router" target="_blank" rel="noreferrer">react-router</a>æ˜¯æœ€æµè¡Œçš„ï¼Œå¹¶ç»å¸¸ä¸<a href="https://github.com/reactjs/react-router-redux" target="_blank" rel="noreferrer">react-router-redux</a>è”åˆä½¿ç”¨ã€‚</p>`,141),e=[o];function t(c,r,y,F,i,E){return n(),a("div",null,e)}const u=s(p,[["render",t]]);export{C as __pageData,u as default};
