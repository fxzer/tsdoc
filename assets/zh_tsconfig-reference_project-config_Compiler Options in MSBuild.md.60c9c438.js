import{_ as t,o as e,c as l,V as d}from"./chunks/framework.ced88878.js";const x=JSON.parse('{"title":"在MSBuild里使用编译选项","description":"","frontmatter":{},"headers":[],"relativePath":"zh/tsconfig-reference/project-config/Compiler Options in MSBuild.md","lastUpdated":1682670826000}'),i={name:"zh/tsconfig-reference/project-config/Compiler Options in MSBuild.md"},s=d(`<h1 id="在msbuild里使用编译选项" tabindex="-1">在MSBuild里使用编译选项 <a class="header-anchor" href="#在msbuild里使用编译选项" aria-label="Permalink to &quot;在MSBuild里使用编译选项&quot;">​</a></h1><h2 id="概述" tabindex="-1">概述 <a class="header-anchor" href="#概述" aria-label="Permalink to &quot;概述&quot;">​</a></h2><p>编译选项可以在使用MSBuild的项目里通过MSBuild属性指定。</p><h2 id="例子" tabindex="-1">例子 <a class="header-anchor" href="#例子" aria-label="Permalink to &quot;例子&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#f6f6f4;">&lt;PropertyGroup Condition=&quot;&#39;$(Configuration)&#39; == &#39;Debug&#39;&quot;&gt;</span></span>
<span class="line"><span style="color:#f6f6f4;">    &lt;TypeScriptRemoveComments&gt;false&lt;/TypeScriptRemoveComments&gt;</span></span>
<span class="line"><span style="color:#f6f6f4;">    &lt;TypeScriptSourceMap&gt;true&lt;/TypeScriptSourceMap&gt;</span></span>
<span class="line"><span style="color:#f6f6f4;">  &lt;/PropertyGroup&gt;</span></span>
<span class="line"><span style="color:#f6f6f4;">  &lt;PropertyGroup Condition=&quot;&#39;$(Configuration)&#39; == &#39;Release&#39;&quot;&gt;</span></span>
<span class="line"><span style="color:#f6f6f4;">    &lt;TypeScriptRemoveComments&gt;true&lt;/TypeScriptRemoveComments&gt;</span></span>
<span class="line"><span style="color:#f6f6f4;">    &lt;TypeScriptSourceMap&gt;false&lt;/TypeScriptSourceMap&gt;</span></span>
<span class="line"><span style="color:#f6f6f4;">  &lt;/PropertyGroup&gt;</span></span>
<span class="line"><span style="color:#f6f6f4;">  &lt;Import</span></span>
<span class="line"><span style="color:#f6f6f4;">      Project=&quot;$(MSBuildExtensionsPath32)\\Microsoft\\VisualStudio\\v$(VisualStudioVersion)\\TypeScript\\Microsoft.TypeScript.targets&quot;</span></span>
<span class="line"><span style="color:#f6f6f4;">      Condition=&quot;Exists(&#39;$(MSBuildExtensionsPath32)\\Microsoft\\VisualStudio\\v$(VisualStudioVersion)\\TypeScript\\Microsoft.TypeScript.targets&#39;)&quot; /&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">&lt;PropertyGroup Condition=&quot;&#39;$(Configuration)&#39; == &#39;Debug&#39;&quot;&gt;</span></span>
<span class="line"><span style="color:#24292e;">    &lt;TypeScriptRemoveComments&gt;false&lt;/TypeScriptRemoveComments&gt;</span></span>
<span class="line"><span style="color:#24292e;">    &lt;TypeScriptSourceMap&gt;true&lt;/TypeScriptSourceMap&gt;</span></span>
<span class="line"><span style="color:#24292e;">  &lt;/PropertyGroup&gt;</span></span>
<span class="line"><span style="color:#24292e;">  &lt;PropertyGroup Condition=&quot;&#39;$(Configuration)&#39; == &#39;Release&#39;&quot;&gt;</span></span>
<span class="line"><span style="color:#24292e;">    &lt;TypeScriptRemoveComments&gt;true&lt;/TypeScriptRemoveComments&gt;</span></span>
<span class="line"><span style="color:#24292e;">    &lt;TypeScriptSourceMap&gt;false&lt;/TypeScriptSourceMap&gt;</span></span>
<span class="line"><span style="color:#24292e;">  &lt;/PropertyGroup&gt;</span></span>
<span class="line"><span style="color:#24292e;">  &lt;Import</span></span>
<span class="line"><span style="color:#24292e;">      Project=&quot;$(MSBuildExtensionsPath32)\\Microsoft\\VisualStudio\\v$(VisualStudioVersion)\\TypeScript\\Microsoft.TypeScript.targets&quot;</span></span>
<span class="line"><span style="color:#24292e;">      Condition=&quot;Exists(&#39;$(MSBuildExtensionsPath32)\\Microsoft\\VisualStudio\\v$(VisualStudioVersion)\\TypeScript\\Microsoft.TypeScript.targets&#39;)&quot; /&gt;</span></span></code></pre></div><h2 id="映射" tabindex="-1">映射 <a class="header-anchor" href="#映射" aria-label="Permalink to &quot;映射&quot;">​</a></h2><table><thead><tr><th style="text-align:left;">编译选项</th><th style="text-align:left;">MSBuild属性名称</th><th style="text-align:left;">可用值</th></tr></thead><tbody><tr><td style="text-align:left;"><code>--allowJs</code></td><td style="text-align:left;"><em>MSBuild不支持此选项</em></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><code>--allowSyntheticDefaultImports</code></td><td style="text-align:left;">TypeScriptAllowSyntheticDefaultImports</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--allowUnreachableCode</code></td><td style="text-align:left;">TypeScriptAllowUnreachableCode</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--allowUnusedLabels</code></td><td style="text-align:left;">TypeScriptAllowUnusedLabels</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--alwaysStrict</code></td><td style="text-align:left;">TypeScriptAlwaysStrict</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--baseUrl</code></td><td style="text-align:left;">TypeScriptBaseUrl</td><td style="text-align:left;">文件路径</td></tr><tr><td style="text-align:left;"><code>--charset</code></td><td style="text-align:left;">TypeScriptCharset</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><code>--declaration</code></td><td style="text-align:left;">TypeScriptGeneratesDeclarations</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--declarationDir</code></td><td style="text-align:left;">TypeScriptDeclarationDir</td><td style="text-align:left;">文件路径</td></tr><tr><td style="text-align:left;"><code>--diagnostics</code></td><td style="text-align:left;"><em>MSBuild不支持此选项</em></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><code>--disableSizeLimit</code></td><td style="text-align:left;"><em>MSBuild不支持此选项</em></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><code>--emitBOM</code></td><td style="text-align:left;">TypeScriptEmitBOM</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--emitDecoratorMetadata</code></td><td style="text-align:left;">TypeScriptEmitDecoratorMetadata</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--experimentalAsyncFunctions</code></td><td style="text-align:left;">TypeScriptExperimentalAsyncFunctions</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--experimentalDecorators</code></td><td style="text-align:left;">TypeScriptExperimentalDecorators</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--forceConsistentCasingInFileNames</code></td><td style="text-align:left;">TypeScriptForceConsistentCasingInFileNames</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--help</code></td><td style="text-align:left;"><em>MSBuild不支持此选项</em></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><code>--importHelpers</code></td><td style="text-align:left;">TypeScriptImportHelpers</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--inlineSourceMap</code></td><td style="text-align:left;">TypeScriptInlineSourceMap</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--inlineSources</code></td><td style="text-align:left;">TypeScriptInlineSources</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--init</code></td><td style="text-align:left;"><em>MSBuild不支持此选项</em></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><code>--isolatedModules</code></td><td style="text-align:left;">TypeScriptIsolatedModules</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--jsx</code></td><td style="text-align:left;">TypeScriptJSXEmit</td><td style="text-align:left;"><code>react</code>，<code>react-native</code>，<code>preserve</code></td></tr><tr><td style="text-align:left;"><code>--jsxFactory</code></td><td style="text-align:left;">TypeScriptJSXFactory</td><td style="text-align:left;">有效的名字</td></tr><tr><td style="text-align:left;"><code>--lib</code></td><td style="text-align:left;">TypeScriptLib</td><td style="text-align:left;">逗号分隔的字符串列表</td></tr><tr><td style="text-align:left;"><code>--listEmittedFiles</code></td><td style="text-align:left;"><em>MSBuild不支持此选项</em></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><code>--listFiles</code></td><td style="text-align:left;"><em>MSBuild不支持此选项</em></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><code>--locale</code></td><td style="text-align:left;"><em>automatic</em></td><td style="text-align:left;">自动设置为PreferredUILang值</td></tr><tr><td style="text-align:left;"><code>--mapRoot</code></td><td style="text-align:left;">TypeScriptMapRoot</td><td style="text-align:left;">文件路径</td></tr><tr><td style="text-align:left;"><code>--maxNodeModuleJsDepth</code></td><td style="text-align:left;"><em>MSBuild不支持此选项</em></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><code>--module</code></td><td style="text-align:left;">TypeScriptModuleKind</td><td style="text-align:left;"><code>AMD</code>，<code>CommonJs</code>，<code>UMD</code>，<code>System</code>或<code>ES6</code></td></tr><tr><td style="text-align:left;"><code>--moduleResolution</code></td><td style="text-align:left;">TypeScriptModuleResolution</td><td style="text-align:left;"><code>Classic</code>或<code>Node</code></td></tr><tr><td style="text-align:left;"><code>--newLine</code></td><td style="text-align:left;">TypeScriptNewLine</td><td style="text-align:left;"><code>CRLF</code>或<code>LF</code></td></tr><tr><td style="text-align:left;"><code>--noEmit</code></td><td style="text-align:left;"><em>MSBuild不支持此选项</em></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><code>--noEmitHelpers</code></td><td style="text-align:left;">TypeScriptNoEmitHelpers</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--noEmitOnError</code></td><td style="text-align:left;">TypeScriptNoEmitOnError</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--noFallthroughCasesInSwitch</code></td><td style="text-align:left;">TypeScriptNoFallthroughCasesInSwitch</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--noImplicitAny</code></td><td style="text-align:left;">TypeScriptNoImplicitAny</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--noImplicitReturns</code></td><td style="text-align:left;">TypeScriptNoImplicitReturns</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--noImplicitThis</code></td><td style="text-align:left;">TypeScriptNoImplicitThis</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--noImplicitUseStrict</code></td><td style="text-align:left;">TypeScriptNoImplicitUseStrict</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--noStrictGenericChecks</code></td><td style="text-align:left;">TypeScriptNoStrictGenericChecks</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--noUnusedLocals</code></td><td style="text-align:left;">TypeScriptNoUnusedLocals</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--noUnusedParameters</code></td><td style="text-align:left;">TypeScriptNoUnusedParameters</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--noLib</code></td><td style="text-align:left;">TypeScriptNoLib</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--noResolve</code></td><td style="text-align:left;">TypeScriptNoResolve</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--out</code></td><td style="text-align:left;">TypeScriptOutFile</td><td style="text-align:left;">文件路径</td></tr><tr><td style="text-align:left;"><code>--outDir</code></td><td style="text-align:left;">TypeScriptOutDir</td><td style="text-align:left;">文件路径</td></tr><tr><td style="text-align:left;"><code>--outFile</code></td><td style="text-align:left;">TypeScriptOutFile</td><td style="text-align:left;">文件路径</td></tr><tr><td style="text-align:left;"><code>--paths</code></td><td style="text-align:left;"><em>MSBuild不支持此选项</em></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><code>--preserveConstEnums</code></td><td style="text-align:left;">TypeScriptPreserveConstEnums</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--preserveSymlinks</code></td><td style="text-align:left;">TypeScriptPreserveSymlinks</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--listEmittedFiles</code></td><td style="text-align:left;"><em>MSBuild不支持此选项</em></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><code>--pretty</code></td><td style="text-align:left;"><em>MSBuild不支持此选项</em></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><code>--reactNamespace</code></td><td style="text-align:left;">TypeScriptReactNamespace</td><td style="text-align:left;">字符串</td></tr><tr><td style="text-align:left;"><code>--removeComments</code></td><td style="text-align:left;">TypeScriptRemoveComments</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--rootDir</code></td><td style="text-align:left;">TypeScriptRootDir</td><td style="text-align:left;">文件路径</td></tr><tr><td style="text-align:left;"><code>--rootDirs</code></td><td style="text-align:left;"><em>MSBuild不支持此选项</em></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><code>--skipLibCheck</code></td><td style="text-align:left;">TypeScriptSkipLibCheck</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--skipDefaultLibCheck</code></td><td style="text-align:left;">TypeScriptSkipDefaultLibCheck</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--sourceMap</code></td><td style="text-align:left;">TypeScriptSourceMap</td><td style="text-align:left;">文件路径</td></tr><tr><td style="text-align:left;"><code>--sourceRoot</code></td><td style="text-align:left;">TypeScriptSourceRoot</td><td style="text-align:left;">文件路径</td></tr><tr><td style="text-align:left;"><code>--strict</code></td><td style="text-align:left;">TypeScriptStrict</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--strictFunctionTypes</code></td><td style="text-align:left;">TypeScriptStrictFunctionTypes</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--strictNullChecks</code></td><td style="text-align:left;">TypeScriptStrictNullChecks</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--stripInternal</code></td><td style="text-align:left;">TypeScriptStripInternal</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--suppressExcessPropertyErrors</code></td><td style="text-align:left;">TypeScriptSuppressExcessPropertyErrors</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--suppressImplicitAnyIndexErrors</code></td><td style="text-align:left;">TypeScriptSuppressImplicitAnyIndexErrors</td><td style="text-align:left;">布尔值</td></tr><tr><td style="text-align:left;"><code>--target</code></td><td style="text-align:left;">TypeScriptTarget</td><td style="text-align:left;"><code>ES3</code>，<code>ES5</code>，或<code>ES6</code></td></tr><tr><td style="text-align:left;"><code>--traceResolution</code></td><td style="text-align:left;"><em>MSBuild不支持此选项</em></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><code>--types</code></td><td style="text-align:left;"><em>MSBuild不支持此选项</em></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><code>--typeRoots</code></td><td style="text-align:left;"><em>MSBuild不支持此选项</em></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><code>--watch</code></td><td style="text-align:left;"><em>MSBuild不支持此选项</em></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><em>MSBuild only option</em></td><td style="text-align:left;">TypeScriptAdditionalFlags</td><td style="text-align:left;"><em>任何编译选项</em></td></tr></tbody></table><h2 id="我使用的visual-studio版本里支持哪些选项" tabindex="-1">我使用的Visual Studio版本里支持哪些选项? <a class="header-anchor" href="#我使用的visual-studio版本里支持哪些选项" aria-label="Permalink to &quot;我使用的Visual Studio版本里支持哪些选项?&quot;">​</a></h2><p>查找 <code>C:\\Program Files (x86)\\MSBuild\\Microsoft\\VisualStudio\\v$(VisualStudioVersion)\\TypeScript\\Microsoft.TypeScript.targets</code> 文件。 可用的MSBuild XML标签与相应的<code>tsc</code>编译选项的映射都在那里。</p><h2 id="toolsversion" tabindex="-1">ToolsVersion <a class="header-anchor" href="#toolsversion" aria-label="Permalink to &quot;ToolsVersion&quot;">​</a></h2><p>工程文件里的<code>&lt;TypeScriptToolsVersion&gt;1.7&lt;/TypeScriptToolsVersion&gt;</code>属性值表明了构建时使用的编译器的版本号（这个例子里是1.7） 这样就允许一个工程在不同的机器上使用相同版本的编译器进行构建。</p><p>如果没有指定<code>TypeScriptToolsVersion</code>，则会使用机器上安装的最新版本的编译器去构建。</p><p>如果用户使用的是更新版本的TypeScript，则会在首次加载工程的时候看到一个提示升级工程的对话框。</p><h2 id="typescriptcompileblocked" tabindex="-1">TypeScriptCompileBlocked <a class="header-anchor" href="#typescriptcompileblocked" aria-label="Permalink to &quot;TypeScriptCompileBlocked&quot;">​</a></h2><p>如果你使用其它的构建工具（比如，gulp， grunt等等）并且使用VS做为开发和调试工具，那么在工程里设置<code>&lt;TypeScriptCompileBlocked&gt;true&lt;/TypeScriptCompileBlocked&gt;</code>。 这样VS只会提供给你编辑的功能，而不会在你按F5的时候去构建。</p>`,15),o=[s];function a(n,r,c,p,y,f){return e(),l("div",null,o)}const S=t(i,[["render",a]]);export{x as __pageData,S as default};
